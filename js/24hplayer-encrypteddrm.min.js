/*! 24h.com.vn Player built on: 2018-10-23 14:40:02 */
function stringToArray(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),r=0,i=e.length;r<i;r++)n[r]=e.charCodeAt(r);return n}function arrayToString(e){var t=new Uint16Array(e.buffer);return String.fromCharCode.apply(null,t)}function base64DecodeUint8Array(e){var t=window.atob(e),n=t.length,r=new Uint8Array(new ArrayBuffer(n));for(i=0;i<n;i++)r[i]=t.charCodeAt(i);return r}function base64EncodeUint8Array(e){for(var t,n,r,i,o,a,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",d=0;d<e.length;)i=(t=e[d++])>>2,o=(3&t)<<4|(n=d<e.length?e[d++]:Number.NaN)>>4,a=(15&n)<<2|(r=d<e.length?e[d++]:Number.NaN)>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),u+=l.charAt(i)+l.charAt(o)+l.charAt(a)+l.charAt(s);return u}function waitForEvent(e,t,n){n.addEventListener(e,function(){t(arguments[0])},!1)}!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).videojs=e()}}(function(){return function b(t,n,r){function e(o,a){if(!n[o]){if(!t[o]){var s="function"==typeof require&&require;if(!a&&s)return s(o,!0);if(i)return i(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(n){return e(t[o][1][n]||n)},u,u.exports,b,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)e(r[o]);return e}({1:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(2)),i=d(e(5)),o=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.mouseused_=!1,r.on("mousedown",r.handleMouseDown),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.buildCSSClass=function(){return"vjs-big-play-button"},b.prototype.handleClick=function(e){var t=this.player_.play();if(!(this.mouseused_&&e.clientX&&e.clientY)){var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(!r)return void this.player_.focus();var i=function(){return r.focus()};if(t&&t.then){t.then(i,function(){})}else this.setTimeout(i,1)}},b.prototype.handleKeyPress=function(t){this.mouseused_=!1,e.prototype.handleKeyPress.call(this,t)},b.prototype.handleMouseDown=function(e){this.mouseused_=!0},b}(r.default);o.prototype.controlText_="Play Video",i.default.registerComponent("BigPlayButton",o),n.default=o},{2:2,5:5}],2:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(3)),i=d(e(5)),o=d(e(86)),a=e(88),s=function(e){function b(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=(0,a.assign)({className:this.buildCSSClass()},t),"button"!==e&&(o.default.warn("Creating a Button with an HTML element of "+e+" is deprecated; use ClickableComponent instead."),t=(0,a.assign)({tabIndex:0},t),n=(0,a.assign)({role:"button"},n)),n=(0,a.assign)({type:"button","aria-live":"polite"},n);var r=i.default.prototype.createEl.call(this,e,t,n);return this.createControlTextEl(r),r},b.prototype.addChild=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return o.default.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),i.default.prototype.addChild.call(this,e,t)},b.prototype.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},b.prototype.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},b.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},b}(r.default);i.default.registerComponent("Button",s),n.default=s},{3:3,5:5,86:86,88:88}],3:[function(t,n,r){"use strict";function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function e(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=e(t(5)),o=d(t(81)),a=d(t(82)),s=d(t(83)),l=e(t(86)),u=e(t(96)),c=t(88),f=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.emitTapEvents(),r.enable(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=(0,c.assign)({className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&l.default.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),r=(0,c.assign)({role:"button","aria-live":"polite"},r),this.tabIndex_=n.tabIndex;var i=e.prototype.createEl.call(this,t,n,r);return this.createControlTextEl(i),i},b.prototype.createControlTextEl=function(e){return this.controlTextEl_=o.createEl("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},b.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(!e)return this.controlText_||"Need Text";var n=this.localize(e);return this.controlText_=e,this.controlTextEl_.innerHTML=n,this.nonIconControl||t.setAttribute("title",n),this},b.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},b.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},b.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},b.prototype.handleClick=function(e){},b.prototype.handleFocus=function(e){a.on(u.default,"keydown",s.bind(this,this.handleKeyPress))},b.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleClick(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},b.prototype.handleBlur=function(e){a.off(u.default,"keydown",s.bind(this,this.handleKeyPress))},b}(i.default);i.default.registerComponent("ClickableComponent",f),r.default=f},{5:5,81:81,82:82,83:83,86:86,88:88,96:96}],4:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(2)),i=d(e(5)),o=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.controlText(n&&n.controlText||r.localize("Close")),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},b.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},b}(r.default);i.default.registerComponent("CloseButton",o),n.default=o},{2:2,5:5}],5:[function(t,n,r){"use strict";function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function e(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=e(t(97)),o=d(t(81)),s=d(t(83)),l=d(t(85)),u=d(t(82)),c=e(t(86)),f=e(t(91)),h=e(t(87)),p=function(){function a(e,t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=(0,h.default)({},this.options_),t=this.options_=(0,h.default)(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+l.newGUID()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}return a.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),o.removeElData(this.el_),this.el_=null},a.prototype.player=function(){return this.player_},a.prototype.options=function(e){return c.default.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=(0,h.default)(this.options_,e),this.options_):this.options_},a.prototype.el=function(){return this.el_},a.prototype.createEl=function(e,t,n){return o.createEl(e,t,n)},a.prototype.localize=function(e){var t=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages();if(!t||!n)return e;var r=n[t];if(r&&r[e])return r[e];var i=n[t.split("-")[0]];return i&&i[e]?i[e]:e},a.prototype.contentEl=function(){return this.contentEl_||this.el_},a.prototype.id=function(){return this.id_},a.prototype.name=function(){return this.name_},a.prototype.children=function(){return this.children_},a.prototype.getChildById=function(e){return this.childIndex_[e]},a.prototype.getChild=function(e){if(e)return e=(0,f.default)(e),this.childNameIndex_[e]},a.prototype.addChild=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,r=void 0,i=void 0;if("string"==typeof e){i=(0,f.default)(e),t||(t={}),!0===t&&(c.default.warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),t={});var o=t.componentClass||i;t.name=i;var s=a.getComponent(o);if(!s)throw new Error("Component "+o+" does not exist");if("function"!=typeof s)return null;r=new s(this.player_||this,t)}else r=e;if(this.children_.splice(n,0,r),"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(i=i||r.name&&(0,f.default)(r.name()))&&(this.childNameIndex_[i]=r),"function"==typeof r.el&&r.el()){var l=this.contentEl().children[n]||null;this.contentEl().insertBefore(r.el(),l)}return r},a.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},a.prototype.initChildren=function(){var e=this,t=this.options_.children;if(t){var n=this.options_,r=void 0,i=a.getComponent("Tech");(r=Array.isArray(t)?t:Object.keys(t)).concat(Object.keys(this.options_).filter(function(e){return!r.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(n){var r=void 0,i=void 0;return"string"==typeof n?i=t[r=n]||e.options_[r]||{}:(r=n.name,i=n),{name:r,opts:i}}).filter(function(e){var t=a.getComponent(e.opts.componentClass||(0,f.default)(e.name));return t&&!i.isTech(t)}).forEach(function(t){var r=t.name,i=t.opts;if(void 0!==n[r]&&(i=n[r]),!1!==i){!0===i&&(i={}),i.playerOptions=e.options_.playerOptions;var o=e.addChild(r,i);o&&(e[r]=o)}})}},a.prototype.buildCSSClass=function(){return""},a.prototype.on=function(e,t,n){var r=this;if("string"==typeof e||Array.isArray(e))u.on(this.el_,e,s.bind(this,t));else{var i=e,o=t,a=s.bind(this,n),l=function(){return r.off(i,o,a)};l.guid=a.guid,this.on("dispose",l);var d=function(){return r.off("dispose",l)};d.guid=a.guid,e.nodeName?(u.on(i,o,a),u.on(i,"dispose",d)):"function"==typeof e.on&&(i.on(o,a),i.on("dispose",d))}return this},a.prototype.off=function(e,t,n){if(!e||"string"==typeof e||Array.isArray(e))u.off(this.el_,e,t);else{var r=e,i=t,o=s.bind(this,n);this.off("dispose",o),e.nodeName?(u.off(r,i,o),u.off(r,"dispose",o)):(r.off(i,o),r.off("dispose",o))}return this},a.prototype.one=function(e,t,n){var r=this,i=arguments;if("string"==typeof e||Array.isArray(e))u.one(this.el_,e,s.bind(this,t));else{var o=e,a=t,l=s.bind(this,n),d=function j(){r.off(o,a,j),l.apply(null,i)};d.guid=l.guid,this.on(o,a,d)}return this},a.prototype.trigger=function(e,t){return u.trigger(this.el_,e,t),this},a.prototype.ready=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e))),this},a.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},a.prototype.$=function(e,t){return o.$(e,t||this.contentEl())},a.prototype.$$=function(e,t){return o.$$(e,t||this.contentEl())},a.prototype.hasClass=function(e){return o.hasElClass(this.el_,e)},a.prototype.addClass=function(e){return o.addElClass(this.el_,e),this},a.prototype.removeClass=function(e){return o.removeElClass(this.el_,e),this},a.prototype.toggleClass=function(e,t){return o.toggleElClass(this.el_,e,t),this},a.prototype.show=function(){return this.removeClass("vjs-hidden"),this},a.prototype.hide=function(){return this.addClass("vjs-hidden"),this},a.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},a.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},a.prototype.getAttribute=function(e){return o.getAttribute(this.el_,e)},a.prototype.setAttribute=function(e,t){return o.setAttribute(this.el_,e,t),this},a.prototype.removeAttribute=function(e){return o.removeAttribute(this.el_,e),this},a.prototype.width=function(e,t){return this.dimension("width",e,t)},a.prototype.height=function(e,t){return this.dimension("height",e,t)},a.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},a.prototype.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+(0,f.default)(e)],10)},a.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof i.default.getComputedStyle){var n=i.default.getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(0===(t=parseFloat(t))){var r="offset"+(0,f.default)(e);t=this.el_[r]}return t},a.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},a.prototype.currentWidth=function(){return this.currentDimension("width")},a.prototype.currentHeight=function(){return this.currentDimension("height")},a.prototype.focus=function(){this.el_.focus()},a.prototype.blur=function(){this.el_.blur()},a.prototype.emitTapEvents=function(){var e=0,t=null,n=void 0;this.on("touchstart",function(r){1===r.touches.length&&(t={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},e=(new Date).getTime(),n=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)n=!1;else if(t){var r=e.touches[0].pageX-t.pageX,i=e.touches[0].pageY-t.pageY;Math.sqrt(r*r+i*i)>10&&(n=!1)}});var r=function(){n=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",function(r){t=null,!0===n&&(new Date).getTime()-e<200&&(r.preventDefault(),this.trigger("tap"))})},a.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=s.bind(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},a.prototype.setTimeout=function(e,t){e=s.bind(this,e);var n=i.default.setTimeout(e,t),r=function(){this.clearTimeout(n)};return r.guid="vjs-timeout-"+n,this.on("dispose",r),n},a.prototype.clearTimeout=function(e){i.default.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},a.prototype.setInterval=function(e,t){e=s.bind(this,e);var n=i.default.setInterval(e,t),r=function(){this.clearInterval(n)};return r.guid="vjs-interval-"+n,this.on("dispose",r),n},a.prototype.clearInterval=function(e){i.default.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},a.registerComponent=function(e,t){if(e){if(e=(0,f.default)(e),a.components_||(a.components_={}),"Player"===e&&a.components_[e]){var n=a.components_[e];if(n.players&&Object.keys(n.players).length>0&&Object.keys(n.players).map(function(e){return n.players[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created")}return a.components_[e]=t,t}},a.getComponent=function(e){if(e)return e=(0,f.default)(e),a.components_&&a.components_[e]?a.components_[e]:i.default&&i.default.videojs&&i.default.videojs[e]?(c.default.warn("The "+e+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),i.default.videojs[e]):void 0},a.extend=function(e){e=e||{},c.default.warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var t=e.init||e.init||this.prototype.init||this.prototype.init||function(){},n=function(){t.apply(this,arguments)};for(var r in(n.prototype=Object.create(this.prototype)).constructor=n,n.extend=a.extend,e)e.hasOwnProperty(r)&&(n.prototype[r]=e[r]);return n},a}();p.registerComponent("Component",p),r.default=p},{81:81,82:82,83:83,85:85,86:86,87:87,91:91,97:97}],6:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(36)),i=d(e(5)),o=d(e(7)),a=function(e){function b(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,b),n.tracks=t.audioTracks&&t.audioTracks();var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.el_.setAttribute("aria-label","Audio Menu"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},b.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;var t=this.player_.audioTracks&&this.player_.audioTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];e.push(new o.default(this.player_,{track:r,selectable:!0}))}return e},b}(r.default);a.prototype.controlText_="Audio Track",i.default.registerComponent("AudioTrackButton",a),n.default=a},{36:36,5:5,7:7}],7:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(48)),i=d(e(5)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83)),a=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=n.track,i=t.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled;var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));if(a.track=r,i){var s=o.bind(a,a.handleTracksChange);i.addEventListener("change",s),a.on("dispose",function(){i.removeEventListener("change",s)})}return a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.handleClick=function(t){var n=this.player_.audioTracks();if(e.prototype.handleClick.call(this,t),n)for(var r=0;r<n.length;r++){var i=n[r];i.enabled=i===this.track}},b.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},b}(r.default);i.default.registerComponent("AudioTrackMenuItem",a),n.default=a},{48:48,5:5,83:83}],8:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e(5));e(12),e(32),e(33),e(35),e(34),e(10),e(18),e(9),e(38),e(40),e(11),e(25),e(27),e(29),e(24),e(6),e(13),e(21);var i=function(e){function b(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},b}(r.default);i.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},r.default.registerComponent("ControlBar",i),n.default=i},{10:10,11:11,12:12,13:13,18:18,21:21,24:24,25:25,27:27,29:29,32:32,33:33,34:34,35:35,38:38,40:40,5:5,6:6,9:9}],9:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(2)),i=d(e(5)),o=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.on(t,"fullscreenchange",r.handleFullscreenChange),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},b.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},b.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},b}(r.default);o.prototype.controlText_="Fullscreen",i.default.registerComponent("FullscreenToggle",o),n.default=o},{2:2,5:5}],10:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e(5)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81)),o=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=i.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},b.prototype.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},b}(r.default);r.default.registerComponent("LiveDisplay",o),n.default=o},{5:5,81:81}],11:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(2)),i=d(e(5)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81)),a=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.on(t,"volumechange",r.update),t.tech_&&!1===t.tech_.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(t,"loadstart",function(){this.update(),!1===t.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},b.prototype.handleClick=function(e){this.player_.muted(!this.player_.muted())},b.prototype.update=function(e){var t=this.player_.volume(),n=3;this.player_.muted()?n=0:t<.33?n=1:t<.67&&(n=2);var r=this.player_.muted()?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r);for(var i=0;i<4;i++)o.removeElClass(this.el_,"vjs-vol-"+i);o.addElClass(this.el_,"vjs-vol-"+n)},b}(r.default);a.prototype.controlText_="Mute",i.default.registerComponent("MuteToggle",a),n.default=a},{2:2,5:5,81:81}],12:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(2)),i=d(e(5)),o=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.on(t,"play",r.handlePlay),r.on(t,"pause",r.handlePause),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},b.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},b.prototype.handlePlay=function(e){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},b.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},b}(r.default);o.prototype.controlText_="Play",i.default.registerComponent("PlayToggle",o),n.default=o},{2:2,5:5}],13:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(47)),i=d(e(49)),o=d(e(14)),a=d(e(5)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81)),l=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.updateVisibility(),r.updateLabel(),r.on(t,"loadstart",r.updateVisibility),r.on(t,"ratechange",r.updateLabel),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=s.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),t.appendChild(this.labelEl_),t},b.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},b.prototype.createMenu=function(){var e=new i.default(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new o.default(this.player(),{rate:t[n]+"x"}));return e},b.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},b.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),r=n[0],i=0;i<n.length;i++)if(n[i]>t){r=n[i];break}this.player().playbackRate(r)},b.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},b.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},b.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},b.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},b}(r.default);l.prototype.controlText_="Playback Rate",a.default.registerComponent("PlaybackRateMenuButton",l),n.default=l},{14:14,47:47,49:49,5:5,81:81}],14:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(48)),i=d(e(5)),o=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=n.rate,i=parseFloat(r,10);n.label=r,n.selected=1===i,n.selectable=!0;var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return o.label=r,o.rate=i,o.on(t,"ratechange",o.update),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},b.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},b}(r.default);o.prototype.contentElType="button",i.default.registerComponent("PlaybackRateMenuItem",o),n.default=o},{48:48,5:5}],15:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e(5)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81)),o=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.partEls_=[],r.on(t,"progress",r.update),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},b.prototype.update=function(e){var t=this.player_.buffered(),n=this.player_.duration(),r=this.player_.bufferedEnd(),o=this.partEls_,a=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=a(r,n);for(var s=0;s<t.length;s++){var l=t.start(s),u=t.end(s),d=o[s];d||(d=this.el_.appendChild(i.createEl()),o[s]=d),d.style.left=a(l,r),d.style.width=a(u-l,r)}for(var c=o.length;c>t.length;c--)this.el_.removeChild(o[c-1]);o.length=t.length},b}(r.default);r.default.registerComponent("LoadProgressBar",o),n.default=o},{5:5,81:81}],16:[function(t,n,r){"use strict";function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function e(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=e(t(5)),o=d(t(81)),a=d(t(83)),s=e(t(84)),l=e(t(80)),u=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltip=o.createEl("div",{className:"vjs-time-tooltip"}),r.el().appendChild(r.tooltip),r.addClass("vjs-keep-tooltips-inside")),r.update(0,0),t.on("ready",function(){r.on(t.controlBar.progressControl.el(),"mousemove",a.throttle(a.bind(r,r.handleMouseMove),25))}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},b.prototype.handleMouseMove=function(e){var t=this.player_.duration(),n=this.calculateDistance(e)*t,r=e.pageX-o.findElPosition(this.el().parentNode).left;this.update(n,r)},b.prototype.update=function(e,t){var n=(0,s.default)(e,this.player_.duration());if(this.el().style.left=t+"px",this.el().setAttribute("data-current-time",n),this.keepTooltipsInside){var r=t-this.clampPosition_(t)+1,i=parseFloat((0,l.default)(this.tooltip,"width"))/2;this.tooltip.innerHTML=n,this.tooltip.style.right="-"+(i-r)+"px"}},b.prototype.calculateDistance=function(e){return o.getPointerPosition(this.el().parentNode,e).x},b.prototype.clampPosition_=function(e){if(!this.keepTooltipsInside)return e;var t=parseFloat((0,l.default)(this.player().el(),"width")),n=parseFloat((0,l.default)(this.tooltip,"width"))/2,r=e;return e<n?r=Math.ceil(n):e>t-n&&(r=Math.floor(t-n)),r},b}(i.default);i.default.registerComponent("MouseTimeDisplay",u),r.default=u},{5:5,80:80,81:81,83:83,84:84}],17:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(5)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83)),o=d(e(84)),a=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.updateDataAttr(),r.on(t,"timeupdate",r.updateDataAttr),t.ready(i.bind(r,r.updateDataAttr)),n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&r.addClass("vjs-keep-tooltips-inside"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},b.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",(0,o.default)(t,this.player_.duration()))},b}(r.default);r.default.registerComponent("PlayProgressBar",a),n.default=a},{5:5,83:83,84:84}],18:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e(5));e(19),e(16);var i=function(e){function b(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},b}(r.default);i.prototype.options_={children:["seekBar"]},r.default.registerComponent("ProgressControl",i),n.default=i},{16:16,19:19,5:5}],19:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(57)),i=d(e(5)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83)),a=d(e(84)),s=d(e(80));e(15),e(17),e(20);var l=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.on(t,"timeupdate",r.updateProgress),r.on(t,"ended",r.updateProgress),t.ready(o.bind(r,r.updateProgress)),n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltipProgressBar=r.addChild("TooltipProgressBar")),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},b.prototype.updateProgress=function(e){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var t=parseFloat((0,s.default)(this.player().el(),"width")),n=parseFloat((0,s.default)(this.tooltipProgressBar.tooltip,"width")),r=this.tooltipProgressBar.el().style;r.maxWidth=Math.floor(t-n/2)+"px",r.minWidth=Math.ceil(n/2)+"px",r.right="-"+n/2+"px"}},b.prototype.updateAriaAttributes=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();e.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),e.setAttribute("aria-valuetext",(0,a.default)(t,this.player_.duration()))},b.prototype.getPercent=function(){var e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e},b.prototype.handleMouseDown=function(t){this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t)},b.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},b.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},b.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},b.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},b}(r.default);l.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},l.prototype.playerEvent="timeupdate",i.default.registerComponent("SeekBar",l),n.default=l},{15:15,17:17,20:20,5:5,57:57,80:80,83:83,84:84}],20:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(5)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83)),o=d(e(84)),a=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.updateDataAttr(),r.on(t,"timeupdate",r.updateDataAttr),t.ready(i.bind(r,r.updateDataAttr)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=t.querySelector(".vjs-time-tooltip"),t},b.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=(0,o.default)(t,this.player_.duration());this.el_.setAttribute("data-current-time",n),this.tooltip.innerHTML=n},b}(r.default);r.default.registerComponent("TooltipProgressBar",a),n.default=a},{5:5,83:83,84:84}],21:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(22)),i=d(e(5)),o=function(e){function b(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},b.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},b}(r.default);i.default.registerComponent("CustomControlSpacer",o),n.default=o},{22:22,5:5}],22:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e(5)),i=function(e){function b(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},b.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},b}(r.default);r.default.registerComponent("Spacer",i),n.default=i},{5:5}],23:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(31)),i=d(e(5)),o=function(e){function b(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,b),n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1;var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.addClass("vjs-texttrack-settings"),r.controlText(", opens "+n.kind+" settings dialog"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},b}(r.default);i.default.registerComponent("CaptionSettingsMenuItem",o),n.default=o},{31:31,5:5}],24:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(30)),i=d(e(5)),o=d(e(23)),a=function(e){function b(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n,r));return i.el_.setAttribute("aria-label","Captions Menu"),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},b.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(t.push(new o.default(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},b}(r.default);a.prototype.kind_="captions",a.prototype.controlText_="Captions",i.default.registerComponent("CaptionsButton",a),n.default=a},{23:23,30:30,5:5}],25:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(30)),i=d(e(5)),o=d(e(26)),a=d(e(91)),s=function(e){function b(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n,r));return i.el_.setAttribute("aria-label","Chapters Menu"),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},b.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},b.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},b.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},b.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize((0,a.default)(this.kind_))},b.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},b.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],a=new o.default(this.player_,{track:this.track_,cue:i});e.push(a)}return e},b}(r.default);s.prototype.kind_="chapters",s.prototype.controlText_="Chapters",i.default.registerComponent("ChaptersButton",s),n.default=s},{26:26,30:30,5:5,91:91}],26:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(48)),i=d(e(5)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83)),a=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=n.track,i=n.cue,a=t.currentTime();n.selectable=!0,n.label=i.text,n.selected=i.startTime<=a&&a<i.endTime;var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return s.track=r,s.cue=i,r.addEventListener("cuechange",o.bind(s,s.update)),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},b.prototype.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},b}(r.default);i.default.registerComponent("ChaptersTrackMenuItem",a),n.default=a},{48:48,5:5,83:83}],27:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(30)),i=d(e(5)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83)),a=function(e){function b(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n,r));i.el_.setAttribute("aria-label","Descriptions Menu");var a=t.textTracks();if(a){var s=o.bind(i,i.handleTracksChange);a.addEventListener("change",s),i.on("dispose",function(){a.removeEventListener("change",s)})}return i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,r=0,i=t.length;r<i;r++){var o=t[r];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},b.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},b}(r.default);a.prototype.kind_="descriptions",a.prototype.controlText_="Descriptions",i.default.registerComponent("DescriptionsButton",a),n.default=a},{30:30,5:5,83:83}],28:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(31)),i=d(e(5)),o=function(e){function b(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,b),n.track={player:t,kind:n.kind,label:n.kind+" off",default:!1,mode:"disabled"},n.selectable=!0;var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.selected(!0),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var o=t[r];if(o.kind===this.track.kind&&"showing"===o.mode){n=!1;break}}this.selected(n)},b}(r.default);i.default.registerComponent("OffTextTrackMenuItem",o),n.default=o},{31:31,5:5}],29:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(30)),i=d(e(5)),o=function(e){function b(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n,r));return i.el_.setAttribute("aria-label","Subtitles Menu"),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},b}(r.default);o.prototype.kind_="subtitles",o.prototype.controlText_="Subtitles",i.default.registerComponent("SubtitlesButton",o),n.default=o},{30:30,5:5}],30:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(36)),i=d(e(5)),o=d(e(31)),a=d(e(28)),s=function(e){function b(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),n.tracks=t.textTracks(),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.push(new a.default(this.player_,{kind:this.kind_})),this.hideThreshold_+=1;var t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];r.kind===this.kind_&&e.push(new o.default(this.player_,{track:r,selectable:!0}))}return e},b}(r.default);i.default.registerComponent("TextTrackButton",s),n.default=s},{28:28,31:31,36:36,5:5}],31:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=d(e(48)),o=d(e(5)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83)),s=d(e(97)),l=d(e(96)),u=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var i=n.track,o=t.textTracks();n.label=i.label||i.language||"Unknown",n.selected=i.default||"showing"===i.mode;var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));if(u.track=i,o){var d=a.bind(u,u.handleTracksChange);t.on(["loadstart","texttrackchange"],d),o.addEventListener("change",d),u.on("dispose",function(){o.removeEventListener("change",d)})}if(o&&void 0===o.onchange){var c=void 0;u.on(["tap","click"],function(){if("object"!==r(s.default.Event))try{c=new s.default.Event("change")}catch(e){}c||(c=l.default.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(c)})}return u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.handleClick=function(t){var n=this.track.kind,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var i=0;i<r.length;i++){var o=r[i];o.kind===n&&(o===this.track?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},b.prototype.handleTracksChange=function(e){this.selected("showing"===this.track.mode)},b}(i.default);o.default.registerComponent("TextTrackMenuItem",u),n.default=u},{48:48,5:5,83:83,96:96,97:97}],32:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(5)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81)),o=d(e(84)),a=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.on(t,"timeupdate",r.updateContent),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=i.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},b.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=this.localize("Current Time"),r=(0,o.default)(t,this.player_.duration());r!==this.formattedTime_&&(this.formattedTime_=r,this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+r)},b}(r.default);r.default.registerComponent("CurrentTimeDisplay",a),n.default=a},{5:5,81:81,84:84}],33:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(5)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81)),o=d(e(84)),a=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.on(t,"durationchange",r.updateContent),r.on(t,"timeupdate",r.updateContent),r.on(t,"loadedmetadata",r.updateContent),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=i.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},b.prototype.updateContent=function(e){var t=this.player_.duration();if(t&&this.duration_!==t){this.duration_=t;var n=this.localize("Duration Time"),r=(0,o.default)(t);this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+r}},b}(r.default);r.default.registerComponent("DurationDisplay",a),n.default=a},{5:5,81:81,84:84}],34:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(5)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81)),o=d(e(84)),a=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.on(t,"timeupdate",r.updateContent),r.on(t,"durationchange",r.updateContent),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=i.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},b.prototype.updateContent=function(e){if(this.player_.duration()){var t=this.localize("Remaining Time"),n=(0,o.default)(this.player_.remainingTime());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> -"+n)}},b}(r.default);r.default.registerComponent("RemainingTimeDisplay",a),n.default=a},{5:5,81:81,84:84}],35:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e(5)),i=function(e){function b(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},b}(r.default);r.default.registerComponent("TimeDivider",i),n.default=i},{5:5}],36:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n.__esModule=!0;var r=d(e(47)),i=d(e(5)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83)),a=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=n.tracks,i=f(this,e.call(this,t,n));if(i.items.length<=1&&i.hide(),!r)return f(i);var a=o.bind(i,i.update);return r.addEventListener("removetrack",a),r.addEventListener("addtrack",a),i.player_.on("dispose",function(){r.removeEventListener("removetrack",a),r.removeEventListener("addtrack",a)}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b}(r.default);i.default.registerComponent("TrackButton",a),n.default=a},{47:47,5:5,83:83}],37:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(57)),i=d(e(5)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83));e(39);var a=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.on(t,"volumechange",r.updateARIAAttributes),t.ready(o.bind(r,r.updateARIAAttributes)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},b.prototype.handleMouseMove=function(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},b.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},b.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},b.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},b.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},b.prototype.updateARIAAttributes=function(e){var t=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},b}(r.default);a.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},a.prototype.playerEvent="volumechange",i.default.registerComponent("VolumeBar",a),n.default=a},{39:39,5:5,57:57,83:83}],38:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e(5));e(37);var i=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return t.tech_&&!1===t.tech_.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(t,"loadstart",function(){!1===t.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},b}(r.default);i.prototype.options_={children:["volumeBar"]},r.default.registerComponent("VolumeControl",i),n.default=i},{37:37,5:5}],39:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e(5)),i=function(e){function b(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},b}(r.default);r.default.registerComponent("VolumeLevel",i),n.default=i},{5:5}],40:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83)),i=d(e(5)),o=d(e(54)),a=d(e(53)),s=d(e(11)),l=d(e(37)),u=function(e){function b(t){function d(){t.tech_&&!1===t.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,b),void 0===n.inline&&(n.inline=!0),void 0===n.vertical&&(n.inline?n.vertical=!1:n.vertical=!0),n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=!!n.vertical;var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.on(t,"volumechange",r.volumeUpdate),r.on(t,"loadstart",r.volumeUpdate),d.call(r),r.on(t,"loadstart",d),r.on(r.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),r.on(r.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),r.on(r.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),r.on(r.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.buildCSSClass=function(){var t;return t=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+e.prototype.buildCSSClass.call(this)+" "+t},b.prototype.createPopup=function(){var e=new o.default(this.player_,{contentElType:"div"}),t=new l.default(this.player_,this.options_.volumeBar);return e.addChild(t),this.menuContent=e,this.volumeBar=t,this.attachVolumeBarEvents(),e},b.prototype.handleClick=function(t){s.default.prototype.handleClick.call(this),e.prototype.handleClick.call(this)},b.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],r.bind(this,this.handleMouseDown))},b.prototype.handleMouseDown=function(e){this.on(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},b.prototype.handleMouseUp=function(e){this.off(["mousemove","touchmove"],r.bind(this.volumeBar,this.volumeBar.handleMouseMove))},b}(a.default);u.prototype.volumeUpdate=s.default.prototype.update,u.prototype.controlText_="Mute",i.default.registerComponent("VolumeMenuButton",u),n.default=u},{11:11,37:37,5:5,53:53,54:54,83:83}],41:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(5)),i=d(e(50)),o=d(e(87)),a=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.on(t,"error",r.open),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},b.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},b}(i.default);a.prototype.options_=(0,o.default)(i.default.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),r.default.registerComponent("ErrorDisplay",a),n.default=a},{5:5,50:50,87:87}],42:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(82)),i=function(){};i.prototype.allowedEvents_={},i.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},r.on(this,e,t),this.addEventListener=n},i.prototype.addEventListener=i.prototype.on,i.prototype.off=function(e,t){r.off(this,e,t)},i.prototype.removeEventListener=i.prototype.off,i.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},r.one(this,e,t),this.addEventListener=n},i.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=r.fixEvent(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),r.trigger(this,e)},i.prototype.dispatchEvent=i.prototype.trigger,n.default=i},{82:82}],43:[function(e,t,n){"use strict";n.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e){return e&&e.__esModule?e:{default:e}}(e(86)),o=e(88),a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)};n.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){e.apply(this,arguments)},r={};for(var s in(0,o.isObject)(t)?("function"==typeof t.init&&(i.default.warn("Constructor logic via init() is deprecated; please use constructor() instead."),t.constructor=t.init),t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),a(n,e),r)r.hasOwnProperty(s)&&(n.prototype[s]=r[s]);return n}},{86:86,88:88}],44:[function(e,t,n){"use strict";n.__esModule=!0;for(var r=function(e){return e&&e.__esModule?e:{default:e}}(e(96)),i={},o=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a=o[0],s=void 0,l=0;l<o.length;l++)if(o[l][1]in r.default){s=o[l];break}if(s)for(var u=0;u<s.length;u++)i[a[u]]=s[u];n.default=i},{96:96}],45:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e(5)),i=function(e){function b(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},b}(r.default);r.default.registerComponent("LoadingSpinner",i),n.default=i},{5:5}],46:[function(e,t,n){"use strict";function d(e){if(e instanceof d)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:(0,r.isObject)(e)&&("number"==typeof e.code&&(this.code=e.code),(0,r.assign)(this,e)),this.message||(this.message=d.defaultMessages[this.code]||"")}n.__esModule=!0;var r=e(88);d.prototype.code=0,d.prototype.message="",d.prototype.status=null,d.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],d.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var i=0;i<d.errorTypes.length;i++)d[d.errorTypes[i]]=i,d.prototype[d.errorTypes[i]]=i;n.default=d},{88:88}],47:[function(t,n,r){"use strict";function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function e(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=e(t(3)),o=e(t(5)),a=e(t(49)),s=d(t(81)),l=d(t(83)),u=e(t(91)),c=function(e){function b(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.update(),r.enabled_=!0,r.el_.setAttribute("aria-haspopup","true"),r.el_.setAttribute("role","menuitem"),r.on("keydown",r.handleSubmenuKeyPress),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.update=function(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},b.prototype.createMenu=function(){var e=new a.default(this.player_);if(this.hideThreshold_=0,this.options_.title){var t=s.createEl("li",{className:"vjs-menu-title",innerHTML:(0,u.default)(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),s.insertElFirst(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},b.prototype.createItems=function(){},b.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},b.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},b.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",l.bind(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},b.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault()):38===t.which||40===t.which?this.buttonPressed_||(this.pressButton(),t.preventDefault()):e.prototype.handleKeyPress.call(this,t)},b.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault())},b.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},b.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},b.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,e.prototype.disable.call(this)},b.prototype.enable=function(){return this.enabled_=!0,e.prototype.enable.call(this)},b}(i.default);o.default.registerComponent("MenuButton",c),r.default=c},{3:3,49:49,5:5,81:81,83:83,91:91}],48:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(3)),i=d(e(5)),o=e(88),a=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.selectable=n.selectable,r.selected(n.selected),r.selectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitem"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(t,n,r){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",(0,o.assign)({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},n),r)},b.prototype.handleClick=function(e){this.selected(!0)},b.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},b}(r.default);i.default.registerComponent("MenuItem",a),n.default=a},{3:3,5:5,88:88}],49:[function(e,t,n){"use strict";function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}n.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e(5)),i=d(e(81)),o=d(e(83)),a=d(e(82)),s=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.focusedChild_=-1,r.on("keydown",r.handleKeyPress),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.addItem=function(e){this.addChild(e),e.on("click",o.bind(this,function(e){this.unlockShowing()}))},b.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=i.createEl(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.setAttribute("role","presentation"),n.appendChild(this.contentEl_),a.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},b.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},b.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},b.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},b.prototype.focus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},b}(r.default);r.default.registerComponent("Menu",s),n.default=s},{5:5,81:81,82:82,83:83}],50:[function(e,t,n){"use strict";function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}n.__esModule=!0;var r=d(e(81)),i=d(e(83)),o=function(e){return e&&e.__esModule?e:{default:e}}(e(5)),a="vjs-modal-dialog",s=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=r.createEl("div",{className:a+"-content"},{role:"document"}),i.descEl_=r.createEl("p",{className:a+"-description vjs-offscreen",id:i.el().getAttribute("aria-describedby")}),r.textContent(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},b.prototype.buildCSSClass=function(){return a+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},b.prototype.handleKeyPress=function(e){27===e.which&&this.closeable()&&this.close()},b.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},b.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},b.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",i.bind(this,this.handleKeyPress)),e.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},b.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},b.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",i.bind(this,this.handleKeyPress)),e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},b.prototype.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},b.prototype.fill=function(){return this.fillWith(this.content())},b.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,i=t.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),r.insertContent(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t),this},b.prototype.empty=function(){return this.trigger("beforemodalempty"),r.emptyEl(this.contentEl()),this.trigger("modalempty"),this},b.prototype.content=function(e){return void 0!==e&&(this.content_=e),this.content_},b}(o.default);s.prototype.options_={pauseOnOpen:!0,temporary:!0},o.default.registerComponent("ModalDialog",s),n.default=s},{5:5,81:81,83:83}],51:[function(t,n,r){"use strict";function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function e(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=e(t(5)),o=e(t(96)),a=e(t(97)),s=d(t(82)),l=d(t(81)),u=d(t(83)),c=d(t(85)),f=d(t(78)),h=e(t(86)),p=e(t(91)),g=t(90),y=t(79),v=d(t(89)),m=e(t(44)),_=e(t(46)),T=e(t(100)),E=t(88),A=e(t(87)),S=e(t(69)),w=e(t(50)),C=e(t(62)),I=e(t(63)),M=e(t(76));t(61),t(59),t(55),t(68),t(45),t(1),t(4),t(8),t(41),t(71),t(60);var O=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],R=function(e){function b(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),t.id=t.id||"vjs_video_"+c.newGUID(),(n=(0,E.assign)(b.getTagSettings(t),n)).initChildren=!1,n.createEl=!1,n.reportTouchActivity=!1,!n.language)if("function"==typeof t.closest){var i=t.closest("[lang]");i&&(n.language=i.getAttribute("lang"))}else for(var o=t;o&&1===o.nodeType;){if(l.getElAttributes(o).hasOwnProperty("lang")){n.language=o.getAttribute("lang");break}o=o.parentNode}var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,null,n,r));if(!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=t,a.tagAttributes=t&&l.getElAttributes(t),a.language(a.options_.language),n.languages){var s={};Object.getOwnPropertyNames(n.languages).forEach(function(e){s[e.toLowerCase()]=n.languages[e]}),a.languages_=s}else a.languages_=b.prototype.options_.languages;a.cache_={},a.poster_=n.poster||"",a.controls_=!!n.controls,t.controls=!1,a.scrubbing_=!1,a.el_=a.createEl();var u=(0,A.default)(a.options_);if(n.plugins){var d=n.plugins;Object.getOwnPropertyNames(d).forEach(function(e){"function"==typeof this[e]?this[e](d[e]):h.default.error("Unable to find plugin:",e)},a)}a.options_.playerOptions=u,a.initChildren(),a.isAudio("audio"===t.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label","audio player"):a.el_.setAttribute("aria-label","video player"),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),f.IS_IOS||a.addClass("vjs-workinghover"),b.players[a.id_]=a;var p="5.20.4".split(".")[0];return a.addClass("vjs-v"+p),a.userActive(!0),a.reportUserActivity(),a.listenForUserActivity_(),a.on("fullscreenchange",a.handleFullscreenChange_),a.on("stageclick",a.handleStageClick_),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),b.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),e.prototype.dispose.call(this)},b.prototype.createEl=function(){var t=this.tag,n=void 0,r=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");n=this.el_=r?t.parentNode:e.prototype.createEl.call(this,"div"),t.setAttribute("tabindex","-1"),t.removeAttribute("width"),t.removeAttribute("height");var i=l.getElAttributes(t);if(Object.getOwnPropertyNames(i).forEach(function(e){"class"===e?n.className+=" "+i[e]:n.setAttribute(e,i[e])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=n.player=this,this.addClass("vjs-paused"),!0!==a.default.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=v.createStyleElement("vjs-styles-dimensions");var o=l.$(".vjs-styles-defaults"),s=l.$("head");s.insertBefore(this.styleEl_,o?o.nextSibling:s.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var u=t.getElementsByTagName("a"),d=0;d<u.length;d++){var c=u.item(d);l.addElClass(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!r&&t.parentNode.insertBefore(n,t),l.insertElFirst(t,n),this.children_.unshift(t),this.el_=n,n},b.prototype.width=function(e){return this.dimension("width",e)},b.prototype.height=function(e){return this.dimension("height",e)},b.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)this[n]=void 0;else{var r=parseFloat(t);if(isNaN(r))return h.default.error('Improper value "'+t+'" supplied for for '+e),this;this[n]=r}return this.updateStyleEl_(),this},b.prototype.fluid=function(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},b.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},b.prototype.updateStyleEl_=function(){if(!0!==a.default.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),i=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*i,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),v.setTextContent(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*i+"%;\n      }\n    ")}else{var o="number"==typeof this.width_?this.width_:this.options_.width,s="number"==typeof this.height_?this.height_:this.options_.height,l=this.tech_&&this.tech_.el();l&&(o>=0&&(l.width=o),s>=0&&(l.height=s))}},b.prototype.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_(),"Html5"!==e&&this.tag&&(C.default.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=e,this.isReady_=!1;var r=(0,E.assign)({source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+e+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]},this.options_[e.toLowerCase()]);this.tag&&(r.tag=this.tag),t&&(this.currentType_=t.type,t.src===this.cache_.src&&this.cache_.currentTime>0&&(r.startTime=this.cache_.currentTime),this.cache_.sources=null,this.cache_.source=t,this.cache_.src=t.src);var o=C.default.getTech(e);o||(o=i.default.getComponent(e)),this.tech_=new o(r),this.tech_.ready(u.bind(this,this.handleTechReady_),!0),S.default.jsonToTextTracks(this.textTracksJson_||[],this.tech_),O.forEach(function(e){n.on(n.tech_,e,n["handleTech"+(0,p.default)(e)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===e&&this.tag||l.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},b.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=S.default.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},b.prototype.tech=function(e){if(e&&e.IWillNotUseThisInPlugins)return this.tech_;var t="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw a.default.alert(t),new Error(t)},b.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},b.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},b.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){(0,h.default)("deleting tag.poster throws in some browsers",e)}this.play()}},b.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},b.prototype.hasStarted=function(e){return void 0!==e?(this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},b.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},b.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},b.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},b.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},b.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},b.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},b.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},b.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(h.default.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},b.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},b.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},b.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},b.prototype.handleTechClick_=function(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},b.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},b.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},b.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},b.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},b.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},b.prototype.handleStageClick_=function(){this.reportUserActivity()},b.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},b.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},b.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},b.prototype.getCache=function(){return this.cache_},b.prototype.techCall_=function(e,t){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[e](t)},!0);else try{this.tech_&&this.tech_[e](t)}catch(e){throw(0,h.default)(e),e}},b.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[e]()}catch(t){throw void 0===this.tech_[e]?(0,h.default)("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?((0,h.default)("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):(0,h.default)(t),t}},b.prototype.play=function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this},b.prototype.pause=function(){return this.techCall_("pause"),this},b.prototype.paused=function(){return!1!==this.techGet_("paused")},b.prototype.scrubbing=function(e){return void 0!==e?(this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},b.prototype.currentTime=function(e){return void 0!==e?(this.techCall_("setCurrentTime",e),this):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},b.prototype.duration=function(e){return void 0===e?void 0!==this.cache_.duration?this.cache_.duration:NaN:((e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},b.prototype.remainingTime=function(){return this.duration()-this.currentTime()},b.prototype.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=(0,g.createTimeRange)(0,0)),e},b.prototype.bufferedPercent=function(){return(0,y.bufferedPercent)(this.buffered(),this.duration())},b.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},b.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),this):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},b.prototype.muted=function(e){return void 0!==e?(this.techCall_("setMuted",e),this):this.techGet_("muted")||!1},b.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},b.prototype.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,this):!!this.isFullscreen_},b.prototype.requestFullscreen=function(){var e=m.default;return this.isFullscreen(!0),e.requestFullscreen?(s.on(o.default,e.fullscreenchange,u.bind(this,function b(t){this.isFullscreen(o.default[e.fullscreenElement]),!1===this.isFullscreen()&&s.off(o.default,e.fullscreenchange,b),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},b.prototype.exitFullscreen=function(){var e=m.default;return this.isFullscreen(!1),e.requestFullscreen?o.default[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},b.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=o.default.documentElement.style.overflow,s.on(o.default,"keydown",u.bind(this,this.fullWindowOnEscKey)),o.default.documentElement.style.overflow="hidden",l.addElClass(o.default.body,"vjs-full-window"),this.trigger("enterFullWindow")},b.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},b.prototype.exitFullWindow=function(){this.isFullWindow=!1,s.off(o.default,"keydown",this.fullWindowOnEscKey),o.default.documentElement.style.overflow=this.docOrigOverflow,l.removeElClass(o.default.body,"vjs-full-window"),this.trigger("exitFullWindow")},b.prototype.canPlayType=function(e){for(var t=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var o=(0,p.default)(r[n]),a=C.default.getTech(o);if(a||(a=i.default.getComponent(o)),a){if(a.isSupported()&&(t=a.canPlayType(e)))return t}else h.default.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},b.prototype.selectSource=function(e){var t=this,n=this.options_.techOrder.map(p.default).map(function(e){return[e,C.default.getTech(e)||i.default.getComponent(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(h.default.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(e,t,n){var r=void 0;return e.some(function(e){return t.some(function(t){if(r=n(e,t))return!0})}),r},o=function(e,n){var r=e[0];if(e[1].canPlaySource(n,t.options_[r.toLowerCase()]))return{source:n,tech:r}};return(this.options_.sourceOrder?r(e,n,function(e){return function(t,n){return e(n,t)}}(o)):r(n,e,o))||!1},b.prototype.src=function(e){if(void 0===e)return this.techGet_("src");var t=C.default.getTech(this.techName_);return t||(t=i.default.getComponent(this.techName_)),Array.isArray(e)?this.sourceList_(e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!t.canPlaySource(e,this.options_[this.techName_.toLowerCase()])?this.sourceList_([e]):(this.cache_.sources=null,this.cache_.source=e,this.cache_.src=e.src,this.currentType_=e.type||"",this.ready(function(){t.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},b.prototype.sourceList_=function(e){var t=this.selectSource(e);t?(t.tech===this.techName_?this.src(t.source):this.loadTech_(t.tech,t.source),this.cache_.sources=e):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},b.prototype.load=function(){return this.techCall_("load"),this},b.prototype.reset=function(){return this.loadTech_((0,p.default)(this.options_.techOrder[0]),null),this.techCall_("reset"),this},b.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},b.prototype.currentSource=function(){var e={},t=this.currentSrc();return t&&(e.src=t),this.cache_.source||e},b.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},b.prototype.currentType=function(){return this.currentType_||""},b.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),this.options_.preload=e,this):this.techGet_("preload")},b.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),this.options_.autoplay=e,this):this.techGet_("autoplay",e)},b.prototype.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},b.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),this.options_.loop=e,this):this.techGet_("loop")},b.prototype.poster=function(e){return void 0===e?this.poster_:(e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange"),this)},b.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},b.prototype.controls=function(e){return void 0!==e?(e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},b.prototype.usingNativeControls=function(e){return void 0!==e?(e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},b.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.error_=new _.default(e),this.addClass("vjs-error"),h.default.error("(CODE:"+this.error_.code+" "+_.default.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)},b.prototype.reportUserActivity=function(e){this.userActivity_=!0},b.prototype.userActive=function(e){return void 0!==e?((e=!!e)!==this.userActive_&&(this.userActive_=e,e?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},b.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,n=void 0,r=u.bind(this,this.reportUserActivity);this.on("mousedown",function(){r(),this.clearInterval(e),e=this.setInterval(r,250)}),this.on("mousemove",function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())}),this.on("mouseup",function(t){r(),this.clearInterval(e)}),this.on("keydown",r),this.on("keyup",r);var i=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(i);var e=this.options_.inactivityTimeout;e>0&&(i=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},b.prototype.playbackRate=function(e){return void 0!==e?(this.techCall_("setPlaybackRate",e),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},b.prototype.isAudio=function(e){return void 0!==e?(this.isAudio_=!!e,this):!!this.isAudio_},b.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new M.default,this.videoTracks_)},b.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new I.default,this.audioTracks_)},b.prototype.textTracks=function(){if(this.tech_)return this.tech_.textTracks()},b.prototype.remoteTextTracks=function(){if(this.tech_)return this.tech_.remoteTextTracks()},b.prototype.remoteTextTrackEls=function(){if(this.tech_)return this.tech_.remoteTextTrackEls()},b.prototype.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},b.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},b.prototype.removeRemoteTextTrack=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).track,t=void 0===e?arguments[0]:e;if(this.tech_)return this.tech_.removeRemoteTextTrack(t)},b.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},b.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},b.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},b.prototype.language=function(e){return void 0===e?this.language_:(this.language_=String(e).toLowerCase(),this)},b.prototype.languages=function(){return(0,A.default)(b.prototype.options_.languages,this.languages_)},b.prototype.toJSON=function(){var e=(0,A.default)(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];(r=(0,A.default)(r)).player=void 0,e.tracks[n]=r}return e},b.prototype.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var r=new w.default(this,t);return this.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open()},b.getTagSettings=function(e){var t={sources:[],tracks:[]},n=l.getElAttributes(e),r=n["data-setup"];if(l.hasElClass(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var i=(0,T.default)(r||"{}"),o=i[0],a=i[1];o&&h.default.error(o),(0,E.assign)(n,a)}if((0,E.assign)(t,n),e.hasChildNodes())for(var s=e.childNodes,u=0,d=s.length;u<d;u++){var c=s[u],f=c.nodeName.toLowerCase();"source"===f?t.sources.push(l.getElAttributes(c)):"track"===f&&t.tracks.push(l.getElAttributes(c))}return t},b.prototype.flexNotSupported_=function(){var e=o.default.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},b}(i.default);R.players={};var P=a.default.navigator;R.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:P&&(P.languages&&P.languages[0]||P.userLanguage||P.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){R.prototype[e]=function(){return this.techGet_(e)}}),O.forEach(function(e){R.prototype["handleTech"+(0,p.default)(e)+"_"]=function(){return this.trigger(e)}}),i.default.registerComponent("Player",R),r.default=R},{1:1,100:100,4:4,41:41,44:44,45:45,46:46,5:5,50:50,55:55,59:59,60:60,61:61,62:62,63:63,68:68,69:69,71:71,76:76,78:78,79:79,8:8,81:81,82:82,83:83,85:85,86:86,87:87,88:88,89:89,90:90,91:91,96:96,97:97}],52:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e(51));n.default=function(e,t){r.default.prototype[e]=t}},{51:51}],53:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(3)),i=d(e(5)),o=function(e){function b(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.update(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.update=function(){var e=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=e,this.addChild(e),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},b.prototype.createPopup=function(){},b.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},b.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},b}(r.default);i.default.registerComponent("PopupButton",o),n.default=o},{3:3,5:5}],54:[function(e,t,n){"use strict";function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}n.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e(5)),i=d(e(81)),o=d(e(83)),a=d(e(82)),s=function(e){function b(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.addItem=function(e){this.addChild(e),e.on("click",o.bind(this,function(){this.unlockShowing()}))},b.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=i.createEl(t,{className:"vjs-menu-content"});var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),a.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},b}(r.default);r.default.registerComponent("Popup",s),n.default=s},{5:5,81:81,82:82,83:83}],55:[function(t,n,r){"use strict";function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function e(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=e(t(3)),o=e(t(5)),a=d(t(83)),s=d(t(81)),l=d(t(78)),u=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.update(),t.on("posterchange",a.bind(r,r.update)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},b.prototype.createEl=function(){var e=s.createEl("div",{className:"vjs-poster",tabIndex:-1});return l.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=s.createEl("img"),e.appendChild(this.fallbackImg_)),e},b.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},b.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},b.prototype.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},b}(i.default);o.default.registerComponent("PosterImage",u),r.default=u},{3:3,5:5,78:78,81:81,83:83}],56:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e,t){t&&(u=t),s.default.setTimeout(c,e)}r.__esModule=!0,r.hasLoaded=r.autoSetupTimeout=r.autoSetup=void 0;var i=e(t(81)),o=e(t(82)),a=d(t(96)),s=d(t(97)),l=!1,u=void 0,c=function(){if(i.isReal()){var e=a.default.getElementsByTagName("video"),t=a.default.getElementsByTagName("audio"),n=[];if(e&&e.length>0)for(var r=0,o=e.length;r<o;r++)n.push(e[r]);if(t&&t.length>0)for(var s=0,d=t.length;s<d;s++)n.push(t[s]);if(n&&n.length>0)for(var c=0,h=n.length;c<h;c++){var p=n[c];if(!p||!p.getAttribute){f(1);break}if(void 0===p.player)null!==p.getAttribute("data-setup")&&u(p)}else l||f(1)}};i.isReal()&&"complete"===a.default.readyState?l=!0:o.one(s.default,"load",function(){l=!0});r.autoSetup=c,r.autoSetupTimeout=f,r.hasLoaded=function(){return l}},{81:81,82:82,96:96,97:97}],57:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e(5)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81)),o=e(88),a=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on("focus",r.handleFocus),r.on("blur",r.handleBlur),r.on("click",r.handleClick),r.on(t,"controlsvisible",r.update),r.on(t,r.playerEvent,r.update),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.className=n.className+" vjs-slider",n=(0,o.assign)({tabIndex:0},n),r=(0,o.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},b.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),i.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},b.prototype.handleMouseMove=function(e){},b.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;i.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},b.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%";this.vertical()?t.el().style.height=n:t.el().style.width=n}}},b.prototype.calculateDistance=function(e){var t=i.getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x},b.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},b.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},b.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},b.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},b.prototype.vertical=function(e){return void 0===e?this.vertical_||!1:(this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},b}(r.default);r.default.registerComponent("Slider",a),n.default=a},{5:5,81:81,88:88}],58:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){return e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var n=e.search(/&(?!\w+=)/),r=void 0;return-1!==n?r=n+1:0===(n=r=e.lastIndexOf("/")+1)&&(n=r=e.length),t.connection=e.substring(0,n),t.stream=e.substring(r,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?"maybe":""},e.rtmpSourceHandler.canHandleSource=function(t,n){return e.rtmpSourceHandler.canPlayType(t.type)||(e.isStreamingSrc(t.src)?"maybe":"")},e.rtmpSourceHandler.handleSource=function(t,n,r){var i=e.streamToParts(t.src);n.setRtmpConnection(i.connection),n.setRtmpStream(i.stream)},e.registerSourceHandler(e.rtmpSourceHandler),e}},{}],59:[function(t,n,r){"use strict";function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function e(e){return e&&e.__esModule?e:{default:e}}function i(e){y[e]=function(){return this.el_.vjs_getProperty(e)}}r.__esModule=!0;for(var o=e(t(62)),a=d(t(81)),s=d(t(92)),l=t(90),u=e(t(58)),c=e(t(5)),f=e(t(97)),h=t(88),p=f.default.navigator,g=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return t.source&&r.ready(function(){this.setSource(t.source)},!0),t.startTime&&r.ready(function(){this.load(),this.play(),this.currentTime(t.startTime)},!0),f.default.videojs=f.default.videojs||{},f.default.videojs.Flash=f.default.videojs.Flash||{},f.default.videojs.Flash.onReady=b.onReady,f.default.videojs.Flash.onEvent=b.onEvent,f.default.videojs.Flash.onError=b.onError,r.on("seeked",function(){this.lastSeekTarget_=void 0}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createEl=function(){var e=this.options_;e.swf||(e.swf="//vjs.zencdn.net/swf/5.4.1/video-js.swf");var t=e.techId,n=(0,h.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),r=(0,h.assign)({wmode:"opaque",bgcolor:"#000000"},e.params),i=(0,h.assign)({id:t,name:t,class:"vjs-tech"},e.attributes);return this.el_=b.embed(e.swf,n,r,i),this.el_.tech=this,this.el_},b.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},b.prototype.pause=function(){this.el_.vjs_pause()},b.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},b.prototype.setSrc=function(e){var t=this;e=s.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()&&this.setTimeout(function(){return t.play()},0)},b.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},b.prototype.setCurrentTime=function(t){var n=this.seekable();n.length&&(t=(t=t>n.start(0)?t:n.start(0))<n.end(n.length-1)?t:n.end(n.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),e.prototype.setCurrentTime.call(this))},b.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},b.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},b.prototype.duration=function(){if(0===this.readyState())return NaN;var e=this.el_.vjs_getProperty("duration");return e>=0?e:1/0},b.prototype.load=function(){this.el_.vjs_load()},b.prototype.poster=function(){this.el_.vjs_getProperty("poster")},b.prototype.setPoster=function(){},b.prototype.seekable=function(){var e=this.duration();return 0===e?(0,l.createTimeRange)():(0,l.createTimeRange)(0,e)},b.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?(0,l.createTimeRange)():(0,l.createTimeRange)(e[0][0],e[0][1])},b.prototype.supportsFullScreen=function(){return!1},b.prototype.enterFullScreen=function(){return!1},b.prototype.getVideoPlaybackQuality=function(){var e=this.el_.vjs_getProperty("getVideoPlaybackQuality");return f.default.performance&&"function"==typeof f.default.performance.now?e.creationTime=f.default.performance.now():f.default.performance&&f.default.performance.timing&&"number"==typeof f.default.performance.timing.navigationStart&&(e.creationTime=f.default.Date.now()-f.default.performance.timing.navigationStart),e},b}(o.default),y=g.prototype,v="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),m="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","),_=0;_<v.length;_++)i(v[_]),function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);y["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}(v[_]);for(var T=0;T<m.length;T++)i(m[T]);g.isSupported=function(){return g.version()[0]>=10},o.default.withSourceHandlers(g),g.nativeSourceHandler={},g.nativeSourceHandler.canPlayType=function(e){return e in g.formats?"maybe":""},g.nativeSourceHandler.canHandleSource=function(e,t){var n;return n=e.type?e.type.replace(/;.*/,"").toLowerCase():function(e){var t=s.getFileExtension(e);return t?"video/"+t:""}(e.src),g.nativeSourceHandler.canPlayType(n)},g.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},g.nativeSourceHandler.dispose=function(){},g.registerSourceHandler(g.nativeSourceHandler),g.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},g.onReady=function(e){var t=a.getEl(e),n=t&&t.tech;n&&n.el()&&g.checkReady(n)},g.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){g.checkReady(e)},50))},g.onEvent=function(e,t){var n=a.getEl(e).tech,r=Array.prototype.slice.call(arguments,2);n.setTimeout(function(){n.trigger(t,r)},1)},g.onError=function(e,t){var n=a.getEl(e).tech;if("srcnotfound"===t)return n.error(4);n.error("FLASH: "+t)},g.version=function(){var e="0,0,0";try{e=new f.default.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{p.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(p.plugins["Shockwave Flash 2.0"]||p.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(e){}}return e.split(",")},g.embed=function(e,t,n,r){var i=g.getEmbedCode(e,t,n,r);return a.createEl("div",{innerHTML:i}).childNodes[0]},g.getEmbedCode=function(e,t,n,r){var i="",o="",a="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){i+=e+"="+t[e]+"&amp;"}),n=(0,h.assign)({movie:e,flashvars:i,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(e){o+='<param name="'+e+'" value="'+n[e]+'" />'}),r=(0,h.assign)({data:e,width:"100%",height:"100%"},r),Object.getOwnPropertyNames(r).forEach(function(e){a+=e+'="'+r[e]+'" '}),'<object type="application/x-shockwave-flash" '+a+">"+o+"</object>"},(0,u.default)(g),c.default.registerComponent("Flash",g),o.default.registerTech("Flash",g),r.default=g},{5:5,58:58,62:62,81:81,88:88,90:90,92:92,97:97}],60:[function(t,n,r){"use strict";function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function e(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=function(e,t){return e.raw=["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],e}(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),o=e(t(62)),a=e(t(5)),s=d(t(81)),l=d(t(92)),u=d(t(83)),c=e(t(86)),f=e(t(102)),h=d(t(78)),p=e(t(96)),g=e(t(97)),y=t(88),v=e(t(87)),m=e(t(91)),_=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n)),o=t.source,a=!1;if(o&&(r.el_.currentSrc!==o.src||t.tag&&3===t.tag.initNetworkState_)?r.setSource(o):r.handleLateInit_(r.el_),r.el_.hasChildNodes()){for(var s=r.el_.childNodes,d=s.length,p=[];d--;){var g=s[d];"track"===g.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(g),r.remoteTextTracks().addTrack_(g.track),a||r.el_.hasAttribute("crossorigin")||!l.isCrossOrigin(g.src)||(a=!0)):p.push(g))}for(var y=0;y<p.length;y++)r.el_.removeChild(p[y])}return["audio","video"].forEach(function(e){var t=r.el()[e+"Tracks"],n=r[e+"Tracks"](),i=(0,m.default)(e);r["featuresNative"+i+"Tracks"]&&t&&t.addEventListener&&(r["handle"+i+"TrackChange_"]=function(e){n.trigger({type:"change",target:n,currentTarget:n,srcElement:n})},r["handle"+i+"TrackAdd_"]=function(e){return n.addTrack(e.track)},r["handle"+i+"TrackRemove_"]=function(e){return n.removeTrack(e.track)},t.addEventListener("change",r["handle"+i+"TrackChange_"]),t.addEventListener("addtrack",r["handle"+i+"TrackAdd_"]),t.addEventListener("removetrack",r["handle"+i+"TrackRemove_"]),r["removeOld"+i+"Tracks_"]=function(e){return r.removeOldTracks_(n,t)},r.on("loadstart",r["removeOld"+i+"Tracks_"]))}),r.featuresNativeTextTracks&&(a&&c.default.warn((0,f.default)(i)),r.handleTextTrackChange_=u.bind(r,r.handleTextTrackChange),r.handleTextTrackAdd_=u.bind(r,r.handleTextTrackAdd),r.handleTextTrackRemove_=u.bind(r,r.handleTextTrackRemove),r.proxyNativeTextTracks_()),r.restoreMetadataTracksInIOSNativePlayer_(),(h.TOUCH_ENABLED||h.IS_IPHONE||h.IS_NATIVE_ANDROID)&&!0===t.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.dispose=function(){var t=this;["audio","video","text"].forEach(function(e){var n=(0,m.default)(e),r=t.el_[e+"Tracks"];r&&r.removeEventListener&&(r.removeEventListener("change",t["handle"+n+"TrackChange_"]),r.removeEventListener("addtrack",t["handle"+n+"TrackAdd_"]),r.removeEventListener("removetrack",t["handle"+n+"TrackRemove_"])),r&&t.off("loadstart",t["removeOld"+n+"Tracks_"])}),b.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},b.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var t=this.textTracks(),n=void 0,r=function(){n=[];for(var e=0;e<t.length;e++){var r=t[e];"metadata"===r.kind&&n.push({track:r,storedMode:r.mode})}};r(),t.addEventListener("change",r);var i=function e(){for(var r=0;r<n.length;r++){var i=n[r];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}t.removeEventListener("change",e)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",r),t.removeEventListener("change",i),t.addEventListener("change",i)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",r),t.addEventListener("change",r),t.removeEventListener("change",i)})},b.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),b.disposeMediaElement(e),e=t}else{e=p.default.createElement("video");var n=this.options_.tag&&s.getElAttributes(this.options_.tag),r=(0,v.default)({},n);h.TOUCH_ENABLED&&!0===this.options_.nativeControlsForTouch||delete r.controls,s.setElAttributes(e,(0,y.assign)(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&s.setAttribute(e,"preload",this.options_.preload);for(var i=["loop","muted","playsinline","autoplay"],o=i.length-1;o>=0;o--){var a=i[o],l=this.options_[a];void 0!==l&&(l?s.setAttribute(e,a,a):s.removeAttribute(e,a),e[a]=l)}return e},b.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")})}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(e){this.trigger(e)},this)})}},b.prototype.proxyNativeTextTracks_=function(){var e=this.el().textTracks;if(e){for(var t=0;t<e.length;t++)this.textTracks().addTrack_(e[t]);e.addEventListener&&(e.addEventListener("change",this.handleTextTrackChange_),e.addEventListener("addtrack",this.handleTextTrackAdd_),e.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}},b.prototype.handleTextTrackChange=function(e){var t=this.textTracks();this.textTracks().trigger({type:"change",target:t,currentTarget:t,srcElement:t})},b.prototype.handleTextTrackAdd=function(e){this.textTracks().addTrack_(e.track)},b.prototype.handleTextTrackRemove=function(e){this.textTracks().removeTrack_(e.track)},b.prototype.removeOldTracks_=function(e,t){var n=[];if(t){for(var r=0;r<e.length;r++){for(var i=e[r],o=!1,a=0;a<t.length;a++)if(t[a]===i){o=!0;break}o||n.push(i)}for(var s=0;s<n.length;s++){var l=n[s];e.removeTrack_(l)}}},b.prototype.removeOldTextTracks_=function(e){var t=this.textTracks(),n=this.el().textTracks;this.removeOldTracks_(t,n)},b.prototype.play=function(){var e=this.el_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})},b.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){(0,c.default)(e,"Video is not ready. (Video.js)")}},b.prototype.duration=function(){var e=this;if(this.el_.duration===1/0&&h.IS_ANDROID&&h.IS_CHROME&&0===this.el_.currentTime){return this.on("timeupdate",function c(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",c))}),NaN}return this.el_.duration||NaN},b.prototype.width=function(){return this.el_.offsetWidth},b.prototype.height=function(){return this.el_.offsetHeight},b.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},b.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=g.default.navigator&&g.default.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},b.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},b.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},b.prototype.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},b.prototype.reset=function(){b.resetMediaElement(this.el_)},b.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},b.prototype.setControls=function(e){this.el_.controls=!!e},b.prototype.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},b.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=p.default.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},b.prototype.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},b.prototype.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},b.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),g.default.performance&&"function"==typeof g.default.performance.now?e.creationTime=g.default.performance.now():g.default.performance&&g.default.performance.timing&&"number"==typeof g.default.performance.timing.navigationStart&&(e.creationTime=g.default.Date.now()-g.default.performance.timing.navigationStart),e},b}(o.default);if(s.isReal()){_.TEST_VID=p.default.createElement("video");var T=p.default.createElement("track");T.kind="captions",T.srclang="en",T.label="English",_.TEST_VID.appendChild(T)}_.isSupported=function(){try{_.TEST_VID.volume=.5}catch(e){return!1}return!(!_.TEST_VID||!_.TEST_VID.canPlayType)},_.canControlVolume=function(){try{var e=_.TEST_VID.volume;return _.TEST_VID.volume=e/2+.1,e!==_.TEST_VID.volume}catch(e){return!1}},_.canControlPlaybackRate=function(){if(h.IS_ANDROID&&h.IS_CHROME&&h.CHROME_VERSION<58)return!1;try{var e=_.TEST_VID.playbackRate;return _.TEST_VID.playbackRate=e/2+.1,e!==_.TEST_VID.playbackRate}catch(e){return!1}},_.supportsNativeTextTracks=function(){return h.IS_ANY_SAFARI},_.supportsNativeVideoTracks=function(){return!(!_.TEST_VID||!_.TEST_VID.videoTracks)},_.supportsNativeAudioTracks=function(){return!(!_.TEST_VID||!_.TEST_VID.audioTracks)},_.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],_.prototype.featuresVolumeControl=_.canControlVolume(),_.prototype.featuresPlaybackRate=_.canControlPlaybackRate(),_.prototype.movingMediaElementInDOM=!h.IS_IOS,_.prototype.featuresFullscreenResize=!0,_.prototype.featuresProgressEvents=!0,_.prototype.featuresTimeupdateEvents=!0,_.prototype.featuresNativeTextTracks=_.supportsNativeTextTracks(),_.prototype.featuresNativeVideoTracks=_.supportsNativeVideoTracks(),_.prototype.featuresNativeAudioTracks=_.supportsNativeAudioTracks();var E=_.TEST_VID&&_.TEST_VID.constructor.prototype.canPlayType,A=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,S=/^video\/mp4/i;_.patchCanPlayType=function(){h.ANDROID_VERSION>=4&&!h.IS_FIREFOX?_.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&A.test(e)?"maybe":E.call(this,e)}:h.IS_OLD_ANDROID&&(_.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&S.test(e)?"maybe":E.call(this,e)})},_.unpatchCanPlayType=function(){var e=_.TEST_VID.constructor.prototype.canPlayType;return _.TEST_VID.constructor.prototype.canPlayType=E,e},_.patchCanPlayType(),_.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},_.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){_.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){_.prototype["set"+(0,m.default)(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){_.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate"].forEach(function(e){_.prototype["set"+(0,m.default)(e)]=function(t){this.el_[e]=t}}),["pause","load"].forEach(function(e){_.prototype[e]=function(){return this.el_[e]()}}),o.default.withSourceHandlers(_),_.nativeSourceHandler={},_.nativeSourceHandler.canPlayType=function(e){try{return _.TEST_VID.canPlayType(e)}catch(e){return""}},_.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return _.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=l.getFileExtension(e.src);return _.nativeSourceHandler.canPlayType("video/"+n)}return""},_.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},_.nativeSourceHandler.dispose=function(){},_.registerSourceHandler(_.nativeSourceHandler),a.default.registerComponent("Html5",_),o.default.registerTech("Html5",_),r.default=_},{102:102,5:5,62:62,78:78,81:81,83:83,86:86,87:87,88:88,91:91,92:92,96:96,97:97}],61:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(5)),i=d(e(62)),o=d(e(91)),a=function(e){function b(t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n,a));if(n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var l=0,u=n.playerOptions.techOrder;l<u.length;l++){var d=(0,o.default)(u[l]),c=i.default.getTech(d);if(d||(c=r.default.getComponent(d)),c&&c.isSupported()){t.loadTech_(d);break}}return s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b}(r.default);r.default.registerComponent("MediaLoader",a),n.default=a},{5:5,62:62,91:91}],62:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var r=d(e(5)),i=d(e(66)),o=d(e(65)),a=d(e(87)),s=d(e(72)),l=d(e(70)),u=d(e(76)),f=d(e(63)),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83)),p=d(e(86)),g=e(90),y=e(79),v=d(e(46)),m=d(e(97)),_=d(e(96)),T=e(88),E=function(t){function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,c),e.reportTouchActivity=!1;var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,t.call(this,null,e,n));return r.hasStarted_=!1,r.on("playing",function(){this.hasStarted_=!0}),r.on("loadstart",function(){this.hasStarted_=!1}),r.textTracks_=e.textTracks,r.videoTracks_=e.videoTracks,r.audioTracks_=e.audioTracks,r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===e["native"+t+"Tracks"]&&(r["featuresNative"+t+"Tracks"]=!1)}),!1===e.nativeCaptions&&(r.featuresNativeTextTracks=!1),r.featuresNativeTextTracks||r.emulateTextTracks(),r.autoRemoteTextTracks_=new l.default,r.initTextTrackListeners(),r.initTrackListeners(),e.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,t),c.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},c.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},c.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(h.bind(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},c.prototype.onDurationChange=function(e){this.duration_=this.duration()},c.prototype.buffered=function(){return(0,g.createTimeRange)(0,0)},c.prototype.bufferedPercent=function(){return(0,y.bufferedPercent)(this.buffered(),this.duration_)},c.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},c.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},c.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},c.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},c.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},c.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},c.prototype.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach(function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack_(i)}})},c.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},c.prototype.reset=function(){},c.prototype.error=function(e){return void 0!==e&&(this.error_=new v.default(e),this.trigger("error")),this.error_},c.prototype.played=function(){return this.hasStarted_?(0,g.createTimeRange)(0,0):(0,g.createTimeRange)()},c.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},c.prototype.initTextTrackListeners=function(){var e=h.bind(this,function(){this.trigger("texttrackchange")}),t=this.textTracks();t&&(t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.on("dispose",h.bind(this,function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)})))},c.prototype.initTrackListeners=function(){var e=this;["video","audio"].forEach(function(t){var n=function(){e.trigger(t+"trackchange")},r=e[t+"Tracks"]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),e.on("dispose",function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)})})},c.prototype.addWebVttScript_=function(){var t=this;if(!m.default.WebVTT)if(_.default.body.contains(this.el())){var n=e(103);if(!this.options_["vtt.js"]&&(0,T.isPlain)(n)&&Object.keys(n).length>0)return void this.trigger("vttjsloaded");var r=_.default.createElement("script");r.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",r.onload=function(){t.trigger("vttjsloaded")},r.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){r.onload=null,r.onerror=null}),m.default.WebVTT=!0,this.el().parentNode.appendChild(r)}else this.ready(this.addWebVttScript_)},c.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks();if(t){var n=this.remoteTextTracks(),r=function(e){return t.addTrack_(e.track)},i=function(e){return t.removeTrack_(e.track)};n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",i),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++)t[e].removeEventListener("cuechange",o)})}},c.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new u.default,this.videoTracks_},c.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new f.default,this.audioTracks_},c.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new l.default,this.textTracks_},c.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new l.default,this.remoteTextTracks_},c.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new o.default,this.remoteTextTrackEls_},c.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var a=new s.default(i);return o.addTrack_(a),a}(this,e,t,n)},c.prototype.createRemoteTextTrack=function(e){var t=(0,a.default)(e,{tech:this});return new i.default(t)},c.prototype.addRemoteTextTrack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(p.default.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),!0!==t&&this.autoRemoteTextTracks_.addTrack_(n.track),n},c.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack_(e),this.autoRemoteTextTracks_.removeTrack_(e)},c.prototype.getVideoPlaybackQuality=function(){return{}},c.prototype.setPoster=function(){},c.prototype.playsinline=function(){},c.prototype.setPlaysinline=function(){},c.prototype.canPlayType=function(){return""},c.isTech=function(e){return e.prototype instanceof c||e instanceof c||e===c},c.registerTech=function(e,t){if(c.techs_||(c.techs_={}),!c.isTech(t))throw new Error("Tech "+e+" must be a Tech");return c.techs_[e]=t,t},c.getTech=function(e){return c.techs_&&c.techs_[e]?c.techs_[e]:m.default&&m.default.videojs&&m.default.videojs[e]?(p.default.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),m.default.videojs[e]):void 0},c}(r.default);E.prototype.textTracks_,E.prototype.audioTracks_,E.prototype.videoTracks_,E.prototype.featuresVolumeControl=!0,E.prototype.featuresFullscreenResize=!1,E.prototype.featuresPlaybackRate=!1,E.prototype.featuresProgressEvents=!1,E.prototype.featuresTimeupdateEvents=!1,E.prototype.featuresNativeTextTracks=!1,E.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n=e.sourceHandlers||[],r=void 0,i=0;i<n.length;i++)if(r=n[i].canPlayType(t))return r;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=0;i<r.length;i++)if(r[i].canHandleSource(t,n))return r[i];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""},["seekable","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);return n||(e.nativeSourceHandler?n=e.nativeSourceHandler:p.default.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t,this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",e.prototype.firstLoadStartListener_)),this.sourceHandler_=n.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},e.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.successiveLoadStartListener_=function(){this.disposeSourceHandler(),this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},r.default.registerComponent("Tech",E),r.default.registerComponent("MediaTechController",E),E.registerTech("Tech",E),n.default=E},{103:103,46:46,5:5,63:63,65:65,66:66,70:70,72:72,76:76,79:79,83:83,86:86,87:87,88:88,90:90,96:96,97:97}],63:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n.__esModule=!0;var r=d(e(74)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(78)),o=d(e(96)),a=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].enabled=!1)},s=function(e){function b(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);for(var s=void 0,l=n.length-1;l>=0;l--)if(n[l].enabled){a(n,n[l]);break}if(i.IS_IE8){for(var u in s=o.default.createElement("custom"),r.default.prototype)"constructor"!==u&&(s[u]=r.default.prototype[u]);for(var d in b.prototype)"constructor"!==d&&(s[d]=b.prototype[d])}return(s=t=f(this,e.call(this,n,s))).changing_=!1,f(t,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.addTrack_=function(t){var n=this;t.enabled&&a(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,a(n,t),n.changing_=!1,n.trigger("change"))})},b.prototype.addTrack=function(e){this.addTrack_(e)},b.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},b}(r.default);n.default=s},{74:74,78:78,96:96}],64:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n.__esModule=!0;var r=e(73),i=d(e(75)),o=d(e(87)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(78)),s=function(e){function b(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var i=(0,o.default)(n,{kind:r.AudioTrackKind[n.kind]||""}),s=t=f(this,e.call(this,i)),l=!1;if(a.IS_IE8)for(var u in b.prototype)"constructor"!==u&&(s[u]=b.prototype[u]);return Object.defineProperty(s,"enabled",{get:function(){return l},set:function(e){"boolean"==typeof e&&e!==l&&(l=e,this.trigger("enabledchange"))}}),i.enabled&&(s.enabled=i.enabled),s.loaded_=!0,f(t,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b}(i.default);n.default=s},{73:73,75:75,78:78,87:87}],65:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(78)),i=function(e){return e&&e.__esModule?e:{default:e}}(e(96)),o=function(){function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=this;if(r.IS_IE8)for(var n in t=i.default.createElement("custom"),a.prototype)"constructor"!==n&&(t[n]=a.prototype[n]);t.trackElements_=[],Object.defineProperty(t,"length",{get:function(){return this.trackElements_.length}});for(var o=0,s=e.length;o<s;o++)t.addTrackElement_(e[o]);if(r.IS_IE8)return t}return a.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},a.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},a.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},a}();n.default=o},{78:78,96:96}],66:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n.__esModule=!0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(78)),i=d(e(96)),o=d(e(42)),a=d(e(72)),s=0,l=2,u=function(e){function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var n=f(this,e.call(this)),o=void 0,u=n;if(r.IS_IE8)for(var d in u=i.default.createElement("custom"),b.prototype)"constructor"!==d&&(u[d]=b.prototype[d]);var c=new a.default(t);return u.kind=c.kind,u.src=c.src,u.srclang=c.language,u.label=c.label,u.default=c.default,Object.defineProperty(u,"readyState",{get:function(){return o}}),Object.defineProperty(u,"track",{get:function(){return c}}),o=s,c.addEventListener("loadeddata",function(){o=l,u.trigger({type:"load",target:u})}),r.IS_IE8?f(n,u):n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b}(o.default);u.prototype.allowedEvents_={load:"load"},u.NONE=s,u.LOADING=1,u.LOADED=l,u.ERROR=3,n.default=u},{42:42,72:72,78:78,96:96}],67:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(78)),i=function(e){return e&&e.__esModule?e:{default:e}}(e(96)),o=function(){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=this;if(r.IS_IE8)for(var n in t=i.default.createElement("custom"),a.prototype)"constructor"!==n&&(t[n]=a.prototype[n]);if(a.prototype.setCues_.call(t,e),Object.defineProperty(t,"length",{get:function(){return this.length_}}),r.IS_IE8)return t}return a.prototype.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},a.prototype.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},a}();n.default=o},{78:78,96:96}],68:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function i(e,t,n){try{e.style[t]=n}catch(e){return}}n.__esModule=!0;var r=d(e(5)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(83)),a=d(e(97)),s={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},l=function(e){function b(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n,r));return t.on("loadstart",o.bind(i,i.toggleDisplay)),t.on("texttrackchange",o.bind(i,i.updateDisplay)),t.ready(o.bind(i,function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",o.bind(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);var r={captions:1,subtitles:1},i=this.player_.textTracks(),a=void 0,s=void 0;if(i){for(var l=0;l<i.length;l++){var u=i[l];u.default&&("descriptions"!==u.kind||a?u.kind in r&&!s&&(s=u):a=u)}s?s.mode="showing":a&&(a.mode="showing")}}})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},b.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},b.prototype.clearDisplay=function(){"function"==typeof a.default.WebVTT&&a.default.WebVTT.processCues(a.default,[],this.el_)},b.prototype.updateDisplay=function(){var e=this.player_.textTracks();if(this.clearDisplay(),e){for(var t=null,n=null,r=e.length;r--;){var i=e[r];"showing"===i.mode&&("descriptions"===i.kind?t=i:n=i)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))}},b.prototype.updateForTrack=function(e){if("function"==typeof a.default.WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),n=[],r=0;r<e.activeCues.length;r++)n.push(e.activeCues[r]);a.default.WebVTT.processCues(a.default,n,this.el_);for(var o=n.length;o--;){var l=n[o];if(l){var u=l.displayState;if(t.color&&(u.firstChild.style.color=t.color),t.textOpacity&&i(u.firstChild,"color",h(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(u.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&i(u.firstChild,"backgroundColor",h(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?i(u,"backgroundColor",h(t.windowColor,t.windowOpacity)):u.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?u.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===t.edgeStyle?u.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===t.edgeStyle?u.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===t.edgeStyle&&(u.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),t.fontPercent&&1!==t.fontPercent){var d=a.default.parseFloat(u.style.fontSize);u.style.fontSize=d*t.fontPercent+"px",u.style.height="auto",u.style.top="auto",u.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=s[t.fontFamily])}}}},b}(r.default);r.default.registerComponent("TextTrackDisplay",l),n.default=l},{5:5,83:83,97:97}],69:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n,r){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})};n.default={textTracksToJson:function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=r(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(r))},jsonToTextTracks:function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()},trackToJson_:r}},{}],70:[function(t,n,r){"use strict";function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function e(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r.__esModule=!0;var i=e(t(74)),o=d(t(83)),a=d(t(78)),s=e(t(96)),l=function(e){function b(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=void 0;if(a.IS_IE8){for(var o in r=s.default.createElement("custom"),i.default.prototype)"constructor"!==o&&(r[o]=i.default.prototype[o]);for(var l in b.prototype)"constructor"!==l&&(r[l]=b.prototype[l])}return r=t=g(this,e.call(this,n,r)),g(t,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.addTrack_=function(t){e.prototype.addTrack_.call(this,t),t.addEventListener("modechange",o.bind(this,function(){this.trigger("change")}))},b}(i.default);r.default=l},{74:74,78:78,83:83,96:96}],71:[function(t,n,r){"use strict";function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function e(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}r.__esModule=!0;var o=e(t(97)),a=e(t(5)),s=t(81),l=d(t(83)),u=d(t(88)),c=e(t(86)),f=["#000","Black"],h=["#00F","Blue"],p=["#0FF","Cyan"],g=["#0F0","Green"],y=["#F0F","Magenta"],v=["#F00","Red"],m=["#FFF","White"],_=["#FF0","Yellow"],T=["1","Opaque"],E=["0.5","Semi-Transparent"],A=["0","Transparent"],S={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[f,m,v,g,h,_,y,p]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[T,E,A]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[m,f,v,g,h,_,y,p]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[T,E]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[A,E,T]}};S.windowColor.options=S.backgroundColor.options;var w=function(e){function b(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t,n));return r.setDefaults(),r.hide(),r.updateDisplay=l.bind(r,r.updateDisplay),void 0===n.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings(),r.hide()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults(),r.updateDisplay()}),u.each(S,function(e){r.on(r.$(e.selector),"change",r.updateDisplay)}),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.createElSelect_=function(e){var t=this,n=S[e],r=n.id.replace("%s",this.id_);return[(0,s.createEl)("label",{className:"vjs-label",textContent:n.label},{for:r}),(0,s.createEl)("select",{id:r},void 0,n.options.map(function(e){return(0,s.createEl)("option",{textContent:t.localize(e[1]),value:e[0]})}))]},b.prototype.createElFgColor_=function(){var e=(0,s.createEl)("legend",{textContent:this.localize("Text")}),t=this.createElSelect_("color"),n=(0,s.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.createElSelect_("textOpacity"));return(0,s.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[e].concat(t,n))},b.prototype.createElBgColor_=function(){var e=(0,s.createEl)("legend",{textContent:this.localize("Background")}),t=this.createElSelect_("backgroundColor"),n=(0,s.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.createElSelect_("backgroundOpacity"));return(0,s.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[e].concat(t,n))},b.prototype.createElWinColor_=function(){var e=(0,s.createEl)("legend",{textContent:this.localize("Window")}),t=this.createElSelect_("windowColor"),n=(0,s.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.createElSelect_("windowOpacity"));return(0,s.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[e].concat(t,n))},b.prototype.createElColors_=function(){return(0,s.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()])},b.prototype.createElFont_=function(){var e=(0,s.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.createElSelect_("fontPercent")),t=(0,s.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.createElSelect_("edgeStyle")),n=(0,s.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.createElSelect_("fontFamily"));return(0,s.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[e,t,n])},b.prototype.createElControls_=function(){var e=(0,s.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),t=(0,s.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,s.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[e,t])},b.prototype.createEl=function(){var e=(0,s.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.createElColors_(),this.createElFont_(),this.createElControls_()]),t=(0,s.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.id_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),n=(0,s.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.id_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),r=(0,s.createEl)("div",void 0,{role:"document"},[t,n,e]);return(0,s.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":t.id,"aria-describedby":n.id},r)},b.prototype.getValues=function(){var e=this;return u.reduce(S,function(t,n,r){var o=function(e,t){return i(e.options[e.options.selectedIndex].value,t)}(e.$(n.selector),n.parser);return void 0!==o&&(t[r]=o),t},{})},b.prototype.setValues=function(e){var t=this;u.each(S,function(n,r){!function(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(i(e.options[r].value,n)===t){e.selectedIndex=r;break}}(t.$(n.selector),e[r],n.parser)})},b.prototype.setDefaults=function(){var e=this;u.each(S,function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n})},b.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(o.default.localStorage.getItem("vjs-text-track-settings"))}catch(e){c.default.warn(e)}e&&this.setValues(e)},b.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?o.default.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):o.default.localStorage.removeItem("vjs-text-track-settings")}catch(e){c.default.warn(e)}}},b.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},b}(a.default);a.default.registerComponent("TextTrackSettings",w),r.default=w},{5:5,81:81,83:83,86:86,88:88,97:97}],72:[function(t,n,r){"use strict";function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function e(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r.__esModule=!0;var i=e(t(67)),o=d(t(83)),a=t(73),s=e(t(86)),l=e(t(97)),u=e(t(75)),c=t(92),f=e(t(108)),h=e(t(87)),p=d(t(78)),y=function(e,t){var n=new l.default.WebVTT.Parser(l.default,l.default.vttjs,l.default.WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(l.default.console&&l.default.console.groupCollapsed&&l.default.console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach(function(e){return s.default.error(e)}),l.default.console&&l.default.console.groupEnd&&l.default.console.groupEnd()),n.flush()},v=function(e,t){var n={uri:e},r=(0,c.isCrossOrigin)(e);r&&(n.cors=r),(0,f.default)(n,o.bind(this,function(e,n,r){if(e)return s.default.error(e,n);if(t.loaded_=!0,"function"!=typeof l.default.WebVTT){if(t.tech_){var i=function(){return y(r,t)};t.tech_.on("vttjsloaded",i),t.tech_.on("vttjserror",function(){s.default.error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",i)})}}else y(r,t)}))},m=function(e){function b(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),!n.tech)throw new Error("A tech was not provided.");var r=(0,h.default)(n,{kind:a.TextTrackKind[n.kind]||"subtitles",language:n.language||n.srclang||""}),s=a.TextTrackMode[r.mode]||"disabled",l=r.default;"metadata"!==r.kind&&"chapters"!==r.kind||(s="hidden");var u=t=g(this,e.call(this,r));if(u.tech_=r.tech,p.IS_IE8)for(var d in b.prototype)"constructor"!==d&&(u[d]=b.prototype[d]);u.cues_=[],u.activeCues_=[];var c=new i.default(u.cues_),f=new i.default(u.activeCues_),y=!1,m=o.bind(u,function(){this.activeCues,y&&(this.trigger("cuechange"),y=!1)});return"disabled"!==s&&u.tech_.ready(function(){u.tech_.on("timeupdate",m)},!0),Object.defineProperty(u,"default",{get:function(){return l},set:function(){}}),Object.defineProperty(u,"mode",{get:function(){return s},set:function(e){var t=this;a.TextTrackMode[e]&&("showing"===(s=e)&&this.tech_.ready(function(){t.tech_.on("timeupdate",m)},!0),this.trigger("modechange"))}}),Object.defineProperty(u,"cues",{get:function(){return this.loaded_?c:null},set:function(){}}),Object.defineProperty(u,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return f;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(y=!1,t.length!==this.activeCues_.length)y=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(y=!0);return this.activeCues_=t,f.setCues_(this.activeCues_),f},set:function(){}}),r.src?(u.src=r.src,v(r.src,u)):u.loaded_=!0,g(t,u)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.addCue=function(e){var t=e;if(l.default.vttjs&&!(e instanceof l.default.vttjs.VTTCue)){for(var n in t=new l.default.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}var r=this.tech_.textTracks();if(r)for(var i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},b.prototype.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},b}(u.default);m.prototype.allowedEvents_={cuechange:"cuechange"},r.default=m},{108:108,67:67,73:73,75:75,78:78,83:83,86:86,87:87,92:92,97:97}],73:[function(e,t,n){"use strict";n.__esModule=!0,n.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},n.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},n.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},n.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],74:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n.__esModule=!0;var r=d(e(42)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(78)),o=d(e(96)),a=function(e){function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var r=f(this,e.call(this));if(!n&&(n=r,i.IS_IE8))for(var a in n=o.default.createElement("custom"),b.prototype)"constructor"!==a&&(n[a]=b.prototype[a]);n.tracks_=[],Object.defineProperty(n,"length",{get:function(){return this.tracks_.length}});for(var s=0;s<t.length;s++)n.addTrack_(t[s]);return f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.addTrack_=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},b.prototype.removeTrack_=function(e){for(var t=void 0,n=0,r=this.length;n<r;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},b.prototype.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},b}(r.default);for(var s in a.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},a.prototype.allowedEvents_)a.prototype["on"+s]=null;n.default=a},{42:42,78:78,96:96}],75:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r.__esModule=!0;var i=e(t(78)),o=d(t(96)),a=e(t(85)),s=function(e){function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var n=g(this,e.call(this)),r=n;if(i.IS_IE8)for(var s in r=o.default.createElement("custom"),b.prototype)"constructor"!==s&&(r[s]=b.prototype[s]);var l={id:t.id||"vjs_track_"+a.newGUID(),kind:t.kind||"",label:t.label||"",language:t.language||""};for(var u in l)!function(e){Object.defineProperty(r,e,{get:function(){return l[e]},set:function(){}})}(u);return g(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b}(d(t(42)).default);r.default=s},{42:42,78:78,85:85,96:96}],76:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n.__esModule=!0;var r=d(e(74)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(78)),o=d(e(96)),a=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].selected=!1)},s=function(e){function b(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);for(var s=void 0,l=n.length-1;l>=0;l--)if(n[l].selected){a(n,n[l]);break}if(i.IS_IE8){for(var u in s=o.default.createElement("custom"),r.default.prototype)"constructor"!==u&&(s[u]=r.default.prototype[u]);for(var d in b.prototype)"constructor"!==d&&(s[d]=b.prototype[d])}return(s=t=f(this,e.call(this,n,s))).changing_=!1,Object.defineProperty(s,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),f(t,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b.prototype.addTrack_=function(t){var n=this;t.selected&&a(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,a(n,t),n.changing_=!1,n.trigger("change"))})},b.prototype.addTrack=function(e){this.addTrack_(e)},b.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},b}(r.default);n.default=s},{74:74,78:78,96:96}],77:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n.__esModule=!0;var r=e(73),i=d(e(75)),o=d(e(87)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(78)),s=function(e){function b(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var i=(0,o.default)(n,{kind:r.VideoTrackKind[n.kind]||""}),s=t=f(this,e.call(this,i)),l=!1;if(a.IS_IE8)for(var u in b.prototype)"constructor"!==u&&(s[u]=b.prototype[u]);return Object.defineProperty(s,"selected",{get:function(){return l},set:function(e){"boolean"==typeof e&&e!==l&&(l=e,this.trigger("selectedchange"))}}),i.selected&&(s.selected=i.selected),f(t,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,e),b}(i.default);n.default=s},{73:73,75:75,78:78,87:87}],78:[function(e,t,n){"use strict";n.__esModule=!0,n.BACKGROUND_SIZE_SUPPORTED=n.TOUCH_ENABLED=n.IS_ANY_SAFARI=n.IS_SAFARI=n.IE_VERSION=n.IS_IE8=n.CHROME_VERSION=n.IS_CHROME=n.IS_EDGE=n.IS_FIREFOX=n.IS_NATIVE_ANDROID=n.IS_OLD_ANDROID=n.ANDROID_VERSION=n.IS_ANDROID=n.IOS_VERSION=n.IS_IOS=n.IS_IPOD=n.IS_IPHONE=n.IS_IPAD=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e(81)),i=function(e){return e&&e.__esModule?e:{default:e}}(e(97)),o=i.default.navigator&&i.default.navigator.userAgent||"",a=/AppleWebKit\/([\d.]+)/i.exec(o),s=a?parseFloat(a.pop()):null,l=n.IS_IPAD=/iPad/i.test(o),u=n.IS_IPHONE=/iPhone/i.test(o)&&!l,d=n.IS_IPOD=/iPod/i.test(o),c=n.IS_IOS=u||l||d,f=(n.IOS_VERSION=function(){var e=o.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),n.IS_ANDROID=/Android/i.test(o)),h=n.ANDROID_VERSION=function(){var e=o.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),p=(n.IS_OLD_ANDROID=f&&/webkit/i.test(o)&&h<2.3,n.IS_NATIVE_ANDROID=f&&h<5&&s<537,n.IS_FIREFOX=/Firefox/i.test(o),n.IS_EDGE=/Edge/i.test(o)),g=n.IS_CHROME=!p&&/Chrome/i.test(o),y=(n.CHROME_VERSION=function(){var e=o.match(/Chrome\/(\d+)/);return e&&e[1]?parseFloat(e[1]):null}(),n.IS_IE8=/MSIE\s8\.0/.test(o),n.IE_VERSION=function(){var e=/MSIE\s(\d+)\.\d/.exec(o),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(o)&&/rv:11.0/.test(o)&&(t=11),t}(),n.IS_SAFARI=/Safari/i.test(o)&&!g&&!f&&!p);n.IS_ANY_SAFARI=y||c,n.TOUCH_ENABLED=r.isReal()&&("ontouchstart"in i.default||i.default.DocumentTouch&&i.default.document instanceof i.default.DocumentTouch),n.BACKGROUND_SIZE_SUPPORTED=r.isReal()&&"backgroundSize"in i.default.document.createElement("video").style},{81:81,97:97}],79:[function(e,t,n){"use strict";n.__esModule=!0,n.bufferedPercent=function(e,t){var n=0,i=void 0,o=void 0;if(!t)return 0;e&&e.length||(e=(0,r.createTimeRange)(0,0));for(var a=0;a<e.length;a++)i=e.start(a),(o=e.end(a))>t&&(o=t),n+=o-i;return n/t};var r=e(90)},{90:90}],80:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e,t){if(!e||!t)return"";if("function"==typeof r.default.getComputedStyle){var n=r.default.getComputedStyle(e);return n?n[t]:""}return e.currentStyle[t]||""};var r=function(e){return e&&e.__esModule?e:{default:e}}(e(97))},{97:97}],81:[function(n,o,a){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){return"string"==typeof e&&/\S/.test(e)}function f(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function i(e){return(0,y.isObject)(e)&&1===e.nodeType}function j(t){return function(n,r){if(!e(n))return u.default[t](null);e(r)&&(r=u.default.querySelector(r));var o=i(r)?r:u.default;return o[t]&&o[t](n)}}function m(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function r(e,t){return f(t),e.classList?e.classList.contains(t):function(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}(t).test(e.className)}function s(e,t){return e.classList?e.classList.add(t):r(e,t)||(e.className=(e.className+" "+t).trim()),e}function t(e,t){return e.classList?e.classList.remove(t):(f(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function C(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=u.default.documentElement,r=u.default.body,i=n.clientLeft||r.clientLeft||0,o=c.default.pageXOffset||r.scrollLeft,a=t.left+o-i,s=n.clientTop||r.clientTop||0,l=c.default.pageYOffset||r.scrollTop,d=t.top+l-s;return{left:Math.round(a),top:Math.round(d)}}function E(e){return(0,y.isObject)(e)&&3===e.nodeType}function F(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function G(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),i(e)||E(e)?e:"string"==typeof e&&/\S/.test(e)?u.default.createTextNode(e):void 0}).filter(function(e){return e})}function H(e,t){return G(t).forEach(function(t){return e.appendChild(t)}),e}a.__esModule=!0,a.$$=a.$=void 0;var l=function(e,t){return e.raw=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],e}(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);a.isReal=function(){return u.default===c.default.document&&void 0!==u.default.createElement},a.isEl=i,a.getEl=function(e){return 0===e.indexOf("#")&&(e=e.slice(1)),u.default.getElementById(e)},a.createEl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i=u.default.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(p.default.warn((0,g.default)(l,e,n)),i.setAttribute(e,n)):"textContent"===e?m(i,n):i[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){i.setAttribute(e,n[e])}),r&&H(i,r),i},a.textContent=m,a.insertElFirst=function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},a.getElData=function(e){var t=e[_];return t||(t=e[_]=h.newGUID()),v[t]||(v[t]={}),v[t]},a.hasElData=function(e){var t=e[_];return!!t&&!!Object.getOwnPropertyNames(v[t]).length},a.removeElData=function(e){var t=e[_];if(t){delete v[t];try{delete e[_]}catch(t){e.removeAttribute?e.removeAttribute(_):e[_]=null}}},a.hasElClass=r,a.addElClass=s,a.removeElClass=t,a.toggleElClass=function(e,n,i){var o=r(e,n);if("function"==typeof i&&(i=i(e,n)),"boolean"!=typeof i&&(i=!o),i!==o)return i?s(e,n):t(e,n),e},a.setElAttributes=function(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];null===r||void 0===r||!1===r?e.removeAttribute(n):e.setAttribute(n,!0===r?"":r)})},a.getElAttributes=function(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var n=e.attributes,r=n.length-1;r>=0;r--){var i=n[r].name,o=n[r].value;"boolean"!=typeof e[i]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+i+",")||(o=null!==o),t[i]=o}return t},a.getAttribute=function(e,t){return e.getAttribute(t)},a.setAttribute=function(e,t,n){e.setAttribute(t,n)},a.removeAttribute=function(e,t){e.removeAttribute(t)},a.blockTextSelection=function(){u.default.body.focus(),u.default.onselectstart=function(){return!1}},a.unblockTextSelection=function(){u.default.onselectstart=function(){return!0}},a.findElPosition=C,a.getPointerPosition=function(e,t){var n={},r=C(e),i=e.offsetWidth,o=e.offsetHeight,a=r.top,s=r.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-l+o)/o)),n.x=Math.max(0,Math.min(1,(u-s)/i)),n},a.isTextNode=E,a.emptyEl=F,a.normalizeContent=G,a.appendContent=H,a.insertContent=function(e,t){return H(F(e),t)};var u=d(n(96)),c=d(n(97)),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(85)),p=d(n(86)),g=d(n(102)),y=n(88),v={},_="vdata"+(new Date).getTime();a.$=j("querySelector"),a.$$=j("querySelectorAll")},{102:102,85:85,86:86,88:88,96:96,97:97}],82:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e,t){var n=o.getElData(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&o.removeElData(e)}function g(e,t,n,r){n.forEach(function(n){e(t,n,r)})}function h(e){function b(){return!0}function c(){return!1}if(!e||!e.isPropagationStopped){var t=e||u.default.event;for(var n in e={},t)"layerX"!==n&&"layerY"!==n&&"keyLocation"!==n&&"webkitMovementX"!==n&&"webkitMovementY"!==n&&("returnValue"===n&&t.preventDefault||(e[n]=t[n]));if(e.target||(e.target=e.srcElement||p.default),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){t.preventDefault&&t.preventDefault(),e.returnValue=!1,t.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){t.stopPropagation&&t.stopPropagation(),e.cancelBubble=!0,t.cancelBubble=!0,e.isPropagationStopped=b},e.isPropagationStopped=c,e.stopImmediatePropagation=function(){t.stopImmediatePropagation&&t.stopImmediatePropagation(),e.isImmediatePropagationStopped=b,e.stopPropagation()},e.isImmediatePropagationStopped=c,null!==e.clientX&&void 0!==e.clientX){var r=p.default.documentElement,i=p.default.body;e.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function i(e,t,n){if(Array.isArray(t))return g(i,e,t,n);var r=o.getElData(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=a.newGUID()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=h(t);var i=r.handlers[t.type];if(i)for(var o=i.slice(0),a=0,l=o.length;a<l&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,n)}catch(e){s.default.error(e)}}}),1===r.handlers[t].length)if(e.addEventListener){var l=!1;y&&v.indexOf(t)>-1&&(l={passive:!0}),e.addEventListener(t,r.dispatcher,l)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function j(e,t,n){if(o.hasElData(e)){var r=o.getElData(e);if(r.handlers){if(Array.isArray(t))return g(j,e,t,n);var i=function(t){r.handlers[t]=[],f(e,t)};if(t){var a=r.handlers[t];if(a){if(!n)return void i(t);if(n.guid)for(var s=0;s<a.length;s++)a[s].guid===n.guid&&a.splice(s--,1);f(e,t)}}else for(var l in r.handlers)i(l)}}}r.__esModule=!0,r.fixEvent=h,r.on=i,r.off=j,r.trigger=function k(e,t,n){var r=o.hasElData(e)?o.getElData(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=h(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&!0===t.bubbles)k.call(null,i,t,n);else if(!i&&!t.defaultPrevented){var a=o.getElData(t.target);t.target[t.type]&&(a.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),a.disabled=!1)}return!t.defaultPrevented},r.one=function l(t,n,r){if(Array.isArray(n))return g(l,t,n,r);var o=function e(){j(t,n,e),r.apply(this,arguments)};o.guid=r.guid=r.guid||a.newGUID(),i(t,n,o)};var o=e(t(81)),a=e(t(85)),s=d(t(86)),u=d(t(97)),p=d(t(96)),y=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){y=!0}});u.default.addEventListener("test",null,e)}catch(e){}}();var v=["touchstart","touchmove"]},{81:81,85:85,86:86,96:96,97:97}],83:[function(e,t,n){"use strict";n.__esModule=!0,n.throttle=n.bind=void 0;var r=e(85);n.bind=function(e,t,n){t.guid||(t.guid=(0,r.newGUID)());var i=function(){return t.apply(e,arguments)};return i.guid=n?n+"_"+t.guid:t.guid,i},n.throttle=function(e,t){var n=Date.now();return function(){var r=Date.now();r-n>=t&&(e.apply(void 0,arguments),n=r)}}},{85:85}],84:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),(i=i>0||a>0?i+":":"")+(r=((i||o>=10)&&r<10?"0"+r:r)+":")+(n=n<10?"0"+n:n)}},{}],85:[function(e,t,n){"use strict";n.__esModule=!0,n.newGUID=function(){return r++};var r=1},{}],86:[function(e,t,n){"use strict";n.__esModule=!0,n.logByType=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e(97)),i=e(78),o=e(88),a=void 0,s=n.logByType=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!i.IE_VERSION&&i.IE_VERSION<11;"log"!==e&&t.unshift(e.toUpperCase()+":"),a.history.push(t),t.unshift("VIDEOJS:");var s=r.default.console&&r.default.console[e];s&&(n&&(t=t.map(function(e){if((0,o.isObject)(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)}).join(" ")),s.apply?s[Array.isArray(t)?"apply":"call"](r.default.console,t):s(t))};(a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s("log",t)}).history=[],a.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s("error",t)},a.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s("warn",t)},n.default=a},{78:78,88:88,97:97}],87:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function d(){for(var e={},t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach(function(t){t&&(0,r.each)(t,function(t,n){(0,r.isPlain)(t)?((0,r.isPlain)(e[n])||(e[n]={}),e[n]=d(e[n],t)):e[n]=t})}),e};var r=e(88)},{88:88}],88:[function(e,t,n){"use strict";function d(e,t){o(e).forEach(function(n){return t(e[n],n)})}function g(e){return!!e&&"object"===(void 0===e?"undefined":r(e))}n.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.each=d,n.reduce=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(e).reduce(function(n,r){return t(n,e[r],r)},n)},n.assign=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign?Object.assign.apply(Object,[e].concat(n)):(n.forEach(function(t){t&&d(t,function(t,n){e[n]=t})}),e)},n.isObject=g,n.isPlain=function(e){return g(e)&&"[object Object]"===i.call(e)&&e.constructor===Object};var i=Object.prototype.toString,o=function(e){return g(e)?Object.keys(e):[]}},{}],89:[function(e,t,n){"use strict";n.__esModule=!0,n.setTextContent=n.createStyleElement=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e(96));n.createStyleElement=function(e){var t=r.default.createElement("style");return t.className=e,t},n.setTextContent=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}},{96:96}],90:[function(t,n,r){"use strict";function e(e,t,n,r){return void 0===r&&(i.default.warn("DEPRECATED: Function '"+e+"' on 'TimeRanges' called without an index argument."),r=0),function(e,t,n){if(t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is greater than or equal to the maximum bound ("+n+").")}(e,r,n.length-1),n[r][t]}function f(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:e.bind(null,"start",0,t),end:e.bind(null,"end",1,t)}}function g(e,t){return Array.isArray(e)?f(e):void 0===e||void 0===t?f():f([[e,t]])}r.__esModule=!0,r.createTimeRange=void 0,r.createTimeRanges=g;var i=function(e){return e&&e.__esModule?e:{default:e}}(t(86));r.createTimeRange=g},{86:86}],91:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}},{}],92:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.isCrossOrigin=n.getFileExtension=n.getAbsoluteURL=n.parseUrl=void 0;var r=d(e(96)),i=d(e(97)),o=n.parseUrl=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=r.default.createElement("a");n.href=e;var i=""===n.host&&"file:"!==n.protocol,o=void 0;i&&((o=r.default.createElement("div")).innerHTML='<a href="'+e+'"></a>',n=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),r.default.body.appendChild(o));for(var a={},s=0;s<t.length;s++)a[t[s]]=n[t[s]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),i&&r.default.body.removeChild(o),a};n.getAbsoluteURL=function(e){if(!e.match(/^https?:\/\//)){var t=r.default.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},n.getFileExtension=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(t)return t.pop().toLowerCase()}return""},n.isCrossOrigin=function(e){var t=i.default.location,n=o(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host}},{96:96,97:97}],93:[function(t,n,r){"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){var r=void 0;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),g.getPlayers()[e])return t&&w.default.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&g.getPlayers()[e].ready(n),g.getPlayers()[e];r=l.getEl(e)}else r=e;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(r.player||y.default.players[r.playerId])return r.player||y.default.players[r.playerId];t=t||{},g.hooks("beforesetup").forEach(function(e){var n=e(r,(0,m.default)(t));(0,I.isObject)(n)&&!Array.isArray(n)?t=(0,m.default)(t,n):w.default.error("please return an object in beforesetup hooks")});var i=new(c.default.getComponent("Player"))(r,t,n);return g.hooks("setup").forEach(function(e){return e(i)}),i}r.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=f(t(97)),a=f(t(96)),s=e(t(78)),l=e(t(81)),u=e(t(56)),d=e(t(89)),c=f(t(5)),h=f(t(42)),p=e(t(82)),y=f(t(51)),v=f(t(52)),m=f(t(87)),_=e(t(83)),T=f(t(72)),E=f(t(64)),b=f(t(77)),A=t(90),S=f(t(84)),w=f(t(86)),C=e(t(92)),I=t(88),M=f(t(80)),O=f(t(43)),R=f(t(108)),P=f(t(62));if("undefined"==typeof HTMLVideoElement&&l.isReal()&&(a.default.createElement("video"),a.default.createElement("audio"),a.default.createElement("track")),g.hooks_={},g.hooks=function(e,t){return g.hooks_[e]=g.hooks_[e]||[],t&&(g.hooks_[e]=g.hooks_[e].concat(t)),g.hooks_[e]},g.hook=function(e,t){g.hooks(e,t)},g.removeHook=function(e,t){var n=g.hooks(e).indexOf(t);return!(n<=-1||(g.hooks_[e]=g.hooks_[e].slice(),g.hooks_[e].splice(n,1),0))},!0!==o.default.VIDEOJS_NO_DYNAMIC_STYLE&&l.isReal()){var D=l.$(".vjs-styles-defaults");if(!D){D=d.createStyleElement("vjs-styles-defaults");var N=l.$("head");N&&N.insertBefore(D,N.firstChild),d.setTextContent(D,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}u.autoSetupTimeout(1,g),g.VERSION="5.20.4",g.options=y.default.prototype.options_,g.getPlayers=function(){return y.default.players},g.players=y.default.players,g.getComponent=c.default.getComponent,g.registerComponent=function(e,t){P.default.isTech(t)&&w.default.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),c.default.registerComponent.call(c.default,e,t)},g.getTech=P.default.getTech,g.registerTech=P.default.registerTech,g.browser=s,g.TOUCH_ENABLED=s.TOUCH_ENABLED,g.extend=O.default,g.mergeOptions=m.default,g.bind=_.bind,g.plugin=v.default,g.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),g.options.languages=(0,m.default)(g.options.languages,((n={})[e]=t,n)),g.options.languages[e]},g.log=w.default,g.createTimeRange=g.createTimeRanges=A.createTimeRanges,g.formatTime=S.default,g.parseUrl=C.parseUrl,g.isCrossOrigin=C.isCrossOrigin,g.EventTarget=h.default,g.on=p.on,g.one=p.one,g.off=p.off,g.trigger=p.trigger,g.xhr=R.default,g.TextTrack=T.default,g.AudioTrack=E.default,g.VideoTrack=b.default,g.isEl=l.isEl,g.isTextNode=l.isTextNode,g.createEl=l.createEl,g.hasClass=l.hasElClass,g.addClass=l.addElClass,g.removeClass=l.removeElClass,g.toggleClass=l.toggleElClass,g.setAttributes=l.setElAttributes,g.getAttributes=l.getElAttributes,g.emptyEl=l.emptyEl,g.appendContent=l.appendContent,g.insertContent=l.insertContent,g.computedStyle=M.default,"object"===(void 0===r?"undefined":i(r))&&"object"===(void 0===n?"undefined":i(n))&&(n.exports=g),r.default=g},{108:108,42:42,43:43,5:5,51:51,52:52,56:56,62:62,64:64,72:72,77:77,78:78,80:80,81:81,82:82,83:83,84:84,86:86,87:87,88:88,89:89,90:90,92:92,96:96,97:97}],94:[function(e,t,n){},{}],95:[function(e,t,n){var r=e(98);t.exports=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===i.call(e)?function(e,t,n){for(var r=0,i=e.length;r<i;r++)o.call(e,r)&&t.call(n,e[r],r,e)}(e,t,n):"string"==typeof e?function(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e.charAt(r),r,e)}(e,t,n):function(e,t,n){for(var r in e)o.call(e,r)&&t.call(n,e[r],r,e)}(e,t,n)};var i=Object.prototype.toString,o=Object.prototype.hasOwnProperty},{98:98}],96:[function(e,t,n){(function(n){var r=void 0!==n?n:"undefined"!=typeof window?window:{},i=e(94);if("undefined"!=typeof document)t.exports=document;else{var o=r["__GLOBAL_DOCUMENT_CACHE@4"];o||(o=r["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{94:94}],97:[function(e,t,n){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],98:[function(e,t,n){t.exports=function(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var r=Object.prototype.toString},{}],99:[function(e,t,n){var r=e(101),i=e(95);t.exports=function(e){if(!e)return{};var t={};return i(r(e).split("\n"),function(e){var n=e.indexOf(":"),i=r(e.slice(0,n)).toLowerCase(),o=r(e.slice(n+1));void 0===t[i]?t[i]=o:function(e){return"[object Array]"===Object.prototype.toString.call(e)}(t[i])?t[i].push(o):t[i]=[t[i],o]}),t}},{101:101,95:95}],100:[function(e,t,n){t.exports=function(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(e){r=e}return[r,n]}},{}],101:[function(e,t,n){(n=t.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],102:[function(e,t,n){function d(e){return e.replace(/\n\r?\s*/g,"")}t.exports=function(e){for(var t="",n=0;n<arguments.length;n++)t+=d(e[n])+(arguments[n+1]||"");return t}},{}],103:[function(e,t,n){var r=e(107),i=t.exports={WebVTT:e(104),VTTCue:e(105),VTTRegion:e(106)};r.vttjs=i,r.WebVTT=i.WebVTT;var o=i.VTTCue,a=i.VTTRegion,s=r.VTTCue,l=r.VTTRegion;i.shim=function(){r.VTTCue=o,r.VTTRegion=a},i.restore=function(){r.VTTCue=s,r.VTTRegion=l},r.VTTCue||i.shim()},{104:104,105:105,106:106,107:107}],104:[function(t,r,a){function d(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function e(e){function b(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var t=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return t?t[3]?b(t[1],t[2],t[3].replace(":",""),t[4]):t[1]>59?b(t[1],t[2],0,t[4]):b(0,t[1],t[2],t[4]):null}function f(){this.values=s(null)}function g(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);if(2===a.length)t(a[0],a[1])}}function h(t,n,r){function h(){var n=e(t);if(null===n)throw new d(d.Errors.BadTimeStamp,"Malformed timestamp: "+o);return t=t.replace(/^[^\sa-zA-Z-]+/,""),n}function i(){t=t.replace(/^\s+/,"")}var o=t;if(i(),n.startTime=h(),i(),"--\x3e"!==t.substr(0,3))throw new d(d.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);t=t.substr(3),i(),n.endTime=h(),i(),function(e,t){var n=new f;g(e,function(e,t){switch(e){case"region":for(var i=r.length-1;i>=0;i--)if(r[i].id===t){n.set(e,r[i].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];n.integer(e,a),n.percent(e,a)&&n.set("snapToLines",!1),n.alt(e,a,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=t.split(","),n.percent(e,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(t,n)}function i(t,n){function c(e){return l[e]}for(var r,i=t.document.createElement("div"),o=i,a=[];null!==(r=function(){if(!n)return null;var e=n.match(/^([^<]*)(<[^>]+>?)?/);return function(e){return n=n.substr(e.length),e}(e[1]?e[1]:e[2])}());)if("<"!==r[0])o.appendChild(t.document.createTextNode(function(e){for(;f=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(f[0],c);return e}(r)));else{if("/"===r[1]){a.length&&a[a.length-1]===r.substr(2).replace(">","")&&(a.pop(),o=o.parentNode);continue}var s,d=e(r.substr(1,r.length-2));if(d){s=t.document.createProcessingInstruction("timestamp",d),o.appendChild(s);continue}var f=r.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f)continue;if(!(s=function(e,n){var r=u[e];if(!r)return null;var i=t.document.createElement(r);i.localName=r;var o=y[e];return o&&n&&(i[o]=n.trim()),i}(f[1],f[3])))continue;if(!function(e,t){return!v[t.localName]||v[t.localName]===e.localName}(o,s))continue;f[2]&&(s.className=f[2].substr(1).replace("."," ")),a.push(f[1]),o.appendChild(s),o=s}return i}function j(e){for(var t=0;t<_.length;t++){var n=_[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function m(){}function n(e,t,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),o="rgba(255, 255, 255, 1)",a="rgba(0, 0, 0, 0.8)";r&&(o="rgb(255, 255, 255)",a="rgb(0, 0, 0)"),m.call(this),this.cue=t,this.cueDiv=i(e,t.text);var s={color:o,backgroundColor:a,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(s.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",s.unicodeBidi="plaintext"),this.applyStyles(s,this.cueDiv),this.div=e.document.createElement("div"),s={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(s.direction=function(e){function b(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function c(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var r=n.match(/^.*(\n|\r)/);return r?(e.length=0,r[0]):n}return"ruby"===t.tagName?c(e):t.childNodes?(b(e,t),c(e)):void 0}var t=[],n="";if(!e||!e.childNodes)return"ltr";for(b(t,e);n=c(t);)for(var r=0;r<n.length;r++)if(j(n.charCodeAt(r)))return"rtl";return"ltr"}(this.cueDiv),s.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(s),this.div.appendChild(this.cueDiv);var l=0;switch(t.positionAlign){case"start":l=t.position;break;case"middle":l=t.position-t.size/2;break;case"end":l=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(l,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(l,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function o(e){var t,n,r,i,o=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function p(e,t,n,r){var i=new o(t),a=t.cue,s=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}(a),l=[];if(a.snapToLines){var u;switch(a.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width"}var d=i.lineHeight,c=d*Math.round(s),f=n[u]+d,h=l[0];Math.abs(c)>f&&(c=c<0?-1:1,c*=Math.ceil(f/d)*d),s<0&&(c+=""===a.vertical?n.height:n.width,l=l.reverse()),i.move(h,c)}else{var p=i.lineHeight/n.height*100;switch(a.lineAlign){case"middle":s-=p/2;break;case"end":s-=p}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}l=["+y","-x","+x","-y"],i=new o(t)}var g=function(e,t){for(var i,a=new o(e),s=1,l=0;l<t.length;l++){for(;e.overlapsOppositeAxis(n,t[l])||e.within(n)&&e.overlapsAny(r);)e.move(t[l]);if(e.within(n))return e;var u=e.intersectPercentage(n);s>u&&(i=new o(e),s=u),e=new o(a)}return i||a}(i,l);t.move(g.toCSSCompatValues(n))}function q(){}var s=Object.create||function(){function a(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return a.prototype=e,new a}}();d.prototype=s(Error.prototype),d.prototype.constructor=d,d.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},f.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var l={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},u={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},y={v:"title",lang:"lang"},v={rt:"ruby"},_=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];m.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},m.prototype.formatStyle=function(e,t){return 0===e?0:e+t},n.prototype=s(m.prototype),n.prototype.constructor=n,o.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},o.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},o.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},o.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},o.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},o.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},o.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},o.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},q.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},q.convertCueToDOMTree=function(e,t){return e&&t?i(e,t):null},q.processCues=function(e,t,r){if(!e||!t||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",r.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var a=[],s=o.getSimpleBoxPosition(i),l={font:Math.round(.05*s.height*100)/100+"px sans-serif"};!function(){for(var r,u,d=0;d<t.length;d++)u=t[d],r=new n(e,u,l),i.appendChild(r.div),p(0,r,s,a),u.displayState=r.div,a.push(o.getSimpleBoxPosition(r))}()}else for(var u=0;u<t.length;u++)i.appendChild(t[u].displayState)},q.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},q.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof d))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(t){function b(){for(var e=n.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var r=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,n.buffer=e.substr(t),r}function c(e){var t=new f;if(g(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var r=n.split(",");if(2!==r.length)break;var i=new f;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;t.set(e+"X",i.get("x")),t.set(e+"Y",i.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var r=new(n.vttjs.VTTRegion||n.window.VTTRegion);r.width=t.get("width",100),r.lines=t.get("lines",3),r.regionAnchorX=t.get("regionanchorX",0),r.regionAnchorY=t.get("regionanchorY",100),r.viewportAnchorX=t.get("viewportanchorX",0),r.viewportAnchorY=t.get("viewportanchorY",100),r.scroll=t.get("scroll",""),n.onregion&&n.onregion(r),n.regionList.push({id:t.get("id"),region:r})}}function i(t){var r=new f;g(t,function(t,n){switch(t){case"MPEGT":r.integer(t+"S",n);break;case"LOCA":r.set(t+"L",e(n))}},/[^\d]:/,/,/),n.ontimestampmap&&n.ontimestampmap({MPEGTS:r.get("MPEGTS"),LOCAL:r.get("LOCAL")})}var n=this;t&&(n.buffer+=n.decoder.decode(t,{stream:!0}));try{var r;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var o=(r=b()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new d(d.Errors.BadSignature);n.state="HEADER"}for(var a=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(a?a=!1:r=b(),n.state){case"HEADER":/:/.test(r)?function(e){e.match(/X-TIMESTAMP-MAP/)?g(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":i(t)}},/=/):g(e,function(e,t){switch(e){case"Region":c(t)}},/:/)}(r):r||(n.state="ID");continue;case"NOTE":r||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){n.state="NOTE";break}if(!r)continue;if(n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,""),n.state="CUE",-1===r.indexOf("--\x3e")){n.cue.id=r;continue}case"CUE":try{h(r,n.cue,n.regionList)}catch(e){n.reportOrThrowError(e),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var s=-1!==r.indexOf("--\x3e");if(!r||s&&(a=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=r;continue;case"BADCUE":r||(n.state="ID");continue}}}catch(e){n.reportOrThrowError(e),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new d(d.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},r.exports=q},{}],105:[function(t,n,r){function d(e){return"string"==typeof e&&!!o[e.toLowerCase()]&&e.toLowerCase()}function e(e){return"string"==typeof e&&!!a[e.toLowerCase()]&&e.toLowerCase()}function f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function g(t,n,r){var o=this,a=/MSIE\s8\.0/.test(navigator.userAgent),s={};a?o=document.createElement("custom"):s.enumerable=!0,o.hasBeenReset=!1;var l="",u=!1,c=t,h=n,p=r,g=null,y="",v=!0,m="auto",_="start",T=50,E="middle",b=50,A="middle";if(Object.defineProperty(o,"id",f({},s,{get:function(){return l},set:function(e){l=""+e}})),Object.defineProperty(o,"pauseOnExit",f({},s,{get:function(){return u},set:function(e){u=!!e}})),Object.defineProperty(o,"startTime",f({},s,{get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");c=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",f({},s,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",f({},s,{get:function(){return p},set:function(e){p=""+e,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",f({},s,{get:function(){return g},set:function(e){g=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",f({},s,{get:function(){return y},set:function(e){var t=d(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",f({},s,{get:function(){return v},set:function(e){v=!!e,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",f({},s,{get:function(){return m},set:function(e){if("number"!=typeof e&&e!==i)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",f({},s,{get:function(){return _},set:function(t){var n=e(t);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");_=n,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",f({},s,{get:function(){return T},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",f({},s,{get:function(){return E},set:function(t){var n=e(t);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");E=n,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",f({},s,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",f({},s,{get:function(){return A},set:function(t){var n=e(t);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");A=n,this.hasBeenReset=!0}})),o.displayState=void 0,a)return o}var i="auto",o={"":!0,lr:!0,rl:!0},a={start:!0,middle:!0,end:!0,left:!0,right:!0};g.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},n.exports=g},{}],106:[function(t,n,r){function d(e){return"string"==typeof e&&!!i[e.toLowerCase()]&&e.toLowerCase()}function e(e){return"number"==typeof e&&e>=0&&e<=100}var i={"":!0,up:!0};n.exports=function(){var t=100,n=3,r=0,i=100,o=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(n){if(!e(n))throw new Error("Width must be between 0 and 100.");t=n}},lines:{enumerable:!0,get:function(){return n},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");n=e}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(t){if(!e(t))throw new Error("RegionAnchorX must be between 0 and 100.");i=t}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(t){if(!e(t))throw new Error("RegionAnchorY must be between 0 and 100.");r=t}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(t){if(!e(t))throw new Error("ViewportAnchorY must be between 0 and 100.");a=t}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(t){if(!e(t))throw new Error("ViewportAnchorX must be between 0 and 100.");o=t}},scroll:{enumerable:!0,get:function(){return s},set:function(e){var t=d(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");s=t}}})}},{}],107:[function(e,t,n){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],108:[function(t,n,r){"use strict";function e(e,t,n){var r=e;return o(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=s(t,{uri:e}),r.callback=n,r}function f(t,n,r){return g(n=e(t,n,r))}function g(t){function e(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,r(e,i)}function g(){if(!l){var e;clearTimeout(u),e=t.useXDR&&void 0===o.status?200:1223===o.status?204:o.status;var n=i,s=null;return 0!==e?(n={body:function(){var e=void 0;if(e=o.response?o.response:o.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=204===e.status&&e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}(o),v)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:e,method:c,headers:{},url:d,rawRequest:o},o.getAllResponseHeaders&&(n.headers=a(o.getAllResponseHeaders()))):s=new Error("Internal XMLHttpRequest Error"),r(s,n,n.body)}}if(void 0===t.callback)throw new Error("callback argument missing");var n=!1,r=function(e,r,i){n||(n=!0,t.callback(e,r,i))},i={body:void 0,headers:{},statusCode:0,method:c,url:d,rawRequest:o},o=t.xhr||null;o||(o=t.cors||t.useXDR?new f.XDomainRequest:new f.XMLHttpRequest);var s,l,u,d=o.url=t.uri||t.url,c=o.method=t.method||"GET",h=t.body||t.data||null,p=o.headers=t.headers||{},y=!!t.sync,v=!1;if("json"in t&&(v=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==c&&"HEAD"!==c&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),h=JSON.stringify(t.json))),o.onreadystatechange=function(){4===o.readyState&&g()},o.onload=g,o.onerror=e,o.onprogress=function(){},o.ontimeout=e,o.open(c,d,!y,t.username,t.password),y||(o.withCredentials=!!t.withCredentials),!y&&t.timeout>0&&(u=setTimeout(function(){l=!0,o.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",e(t)},t.timeout)),o.setRequestHeader)for(s in p)p.hasOwnProperty(s)&&o.setRequestHeader(s,p[s]);else if(t.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(o.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(o),o.send(h),o}var i=t(97),o=t(98),a=t(99),s=t(109);n.exports=f,f.XMLHttpRequest=i.XMLHttpRequest||function(){},f.XDomainRequest="withCredentials"in new f.XMLHttpRequest?f.XMLHttpRequest:i.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(t){f["delete"===t?"del":t]=function(n,r,i){return(r=e(n,r,i)).method=t.toUpperCase(),g(r)}})},{109:109,97:97,98:98,99:99}],109:[function(e,t,n){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e};var r=Object.prototype.hasOwnProperty},{}]},{},[93])(93)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],t):e.videojsContribAds=t(e.videojs)}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},r=function(e,t){t.isImmediatePropagationStopped=function(){return!0},t.cancelBubble=!0,t.isPropagationStopped=function(){return!0}},i=function(e,t,n){r(0,n),e.trigger({type:t+n.type,state:e.ads.state,originalEvent:n})},o=function(e,t){e.ads.isInAdMode()&&(e.ads.isContentResuming()?e.ads._contentEnding&&i(e,"content",t):e.ads._cancelledPlay?r(0,t):i(e,"ad",t))},a=function(e,t){if(e.ads.isInAdMode()){if(e.ads.isContentResuming())return;i(e,"ad",t)}else i(e,"content",t)},s=function(e,t){if(!("loadstart"===t.type&&!e.ads._hasThereBeenALoadStartDuringPlayerLife||"loadeddata"===t.type&&!e.ads._hasThereBeenALoadedData||"loadedmetadata"===t.type&&!e.ads._hasThereBeenALoadedMetaData))if(e.ads.isAdPlaying())i(e,"ad",t);else{if(e.currentSrc()!==e.ads.contentSrc)return;i(e,"content",t)}},l=function(e,t){var n=e.ads._cancelledPlay&&!e.ads.isInAdMode();e.ads.isAdPlaying()?i(e,"ad",t):(e.ads.isContentResuming()||n)&&i(e,"content",t)};function redispatch(e){"playing"===e.type?o(this,e):"ended"===e.type?a(this,e):"loadstart"===e.type||"loadeddata"===e.type||"loadedmetadata"===e.type?s(this,e):"play"===e.type?l(this,e):this.ads.isInAdMode()&&(this.ads.isContentResuming()?i(this,"content",e):i(this,"ad",e))}function cancelContentPlay(e){e.ads.cancelPlayTimeout||(e.ads.cancelPlayTimeout=n.setTimeout(function(){e.ads.cancelPlayTimeout=null,e.paused()||e.pause(),e.ads._cancelledPlay=!0},1))}var u,d={},c=(Object.freeze||Object)({default:d}),f=c&&d||c,h=void 0!==t?t:"undefined"!=typeof window?window:{};"undefined"!=typeof document?u=document:(u=h["__GLOBAL_DOCUMENT_CACHE@4"])||(u=h["__GLOBAL_DOCUMENT_CACHE@4"]=f);var p=u,g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(e,t){return t?encodeURIComponent(e):e},v=function(e,t,n){if(e&&e[n])for(var r=e[n],i=Object.keys(r),o=0;o<i.length;o++){t["{mediainfo."+n+"."+i[o]+"}"]=r[i[o]]}};var m={processMetadataTracks:function(e,t){for(var n=e.textTracks(),r=function(n){"metadata"===n.kind&&(e.ads.cueTextTracks.setMetadataTrackMode(n),t(e,n))},i=0;i<n.length;i++)r(n[i]);n.addEventListener("addtrack",function(e){r(e.track)})},setMetadataTrackMode:function(e){},getSupportedAdCue:function(e,t){return t},isSupportedAdCue:function(e,t){return!0},getCueId:function(e,t){return t.id}},_=function(e,t){return void 0!==t&&e.ads.includedCues[t]},T=function(e,t){void 0!==t&&""!==t&&(e.ads.includedCues[t]=!0)};m.processAdTrack=function(t,n,r,i){t.ads.includedCues={};for(var o=0;o<n.length;o++){var a=n[o],s=this.getSupportedAdCue(t,a);if(!this.isSupportedAdCue(t,a))return void e.log.warn("Skipping as this is not a supported ad cue.",a);var l=this.getCueId(t,a),u=a.startTime;if(_(t,l))return void e.log("Skipping ad already seen with ID "+l);i&&i(t,s,l,u),r(t,s,l,u),T(t,l)}};var E=e.getTech("Html5").Events,b=function(e){var t=e.$(".vjs-tech");t&&t.removeAttribute("poster")},A={timeout:5e3,prerollTimeout:100,postrollTimeout:100,debug:!1,stitchedAds:!1},S=function(t){var r=this,i=e.mergeOptions(A,t),o=E.concat(["firstplay","loadedalldata","playing"]);r.on(o,redispatch),n.setTimeout(function(){r.ads._hasThereBeenALoadStartDuringPlayerLife||""===r.src()||e.log.error("videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that videojs-contrib-ads was initialized too late. It must be initialized immediately after video.js in the same tick. As a result, some ads will not play and some media events will be incorrect. For more information, see https://github.com/videojs/videojs-contrib-ads#important-note-about-initialization")},5e3),r.on("ended",function(){r.hasClass("vjs-has-started")||r.addClass("vjs-has-started")}),r.on(["addurationchange","adcanplay"],function(){r.ads.snapshot&&r.currentSrc()===r.ads.snapshot.currentSrc||r.ads.isAdPlaying()&&r.play()}),r.on("nopreroll",function(){r.ads.nopreroll_=!0}),r.on("nopostroll",function(){r.ads.nopostroll_=!0}),r.on(["ads-ad-started","playing"],function(){r.removeClass("vjs-ad-loading")}),r.on("playing",function(){r.ads._cancelledPlay=!1}),r.one("loadstart",function(){r.ads._hasThereBeenALoadStartDuringPlayerLife=!0}),r.on("loadeddata",function(){r.ads._hasThereBeenALoadedData=!0}),r.on("loadedmetadata",function(){r.ads._hasThereBeenALoadedMetaData=!0}),r.ads={state:"content-set",disableNextSnapshotRestore:!1,_contentEnding:!1,_contentHasEnded:!1,_hasThereBeenALoadStartDuringPlayerLife:!1,_hasThereBeenALoadedData:!1,_hasThereBeenALoadedMetaData:!1,_inLinearAdMode:!1,adType:null,VERSION:"__VERSION__",reset:function(){r.ads.disableNextSnapshotRestore=!1,r.ads._contentEnding=!1,r.ads._contentHasEnded=!1,r.ads.snapshot=null,r.ads.adType=null,r.ads._hasThereBeenALoadedData=!1,r.ads._hasThereBeenALoadedMetaData=!1,r.ads._cancelledPlay=!1},startLinearAdMode:function(){"preroll?"!==r.ads.state&&"content-playback"!==r.ads.state&&"postroll?"!==r.ads.state||(r.ads._inLinearAdMode=!0,r.trigger("adstart"))},endLinearAdMode:function(){"ad-playback"===r.ads.state&&(r.ads._inLinearAdMode=!1,r.trigger("adend"),r.removeClass("vjs-ad-loading"))},skipLinearAdMode:function(){"ad-playback"!==r.ads.state&&r.trigger("adskip")},stitchedAds:function(e){return void 0!==e&&(this._stitchedAds=!!e),this._stitchedAds},videoElementRecycled:function(){if(r.ads.shouldPlayContentBehindAd(r))return!1;if(!this.snapshot)throw new Error("You cannot use videoElementRecycled while there is no snapshot.");var e=r.tech_.src()!==this.snapshot.src,t=r.currentSrc()!==this.snapshot.currentSrc;return e||t},isLive:function(t){return t.duration()===1/0||"8"===e.browser.IOS_VERSION&&0===t.duration()},shouldPlayContentBehindAd:function(t){return!e.browser.IS_IOS&&!e.browser.IS_ANDROID&&t.duration()===1/0},isInAdMode:function(){return"ads-ready?"===r.ads.state||"preroll?"===r.ads.state||"ad-playback"===r.ads.state||"content-resuming"===r.ads.state},isContentResuming:function(){return"content-resuming"===r.ads.state},isAdPlaying:function(){return this._inLinearAdMode}},r.ads.stitchedAds(i.stitchedAds),r.ads.cueTextTracks=m,r.ads.adMacroReplacement=function(t,r,i){void 0===r&&(r=!1);var o={};for(var a in void 0!==i&&(o=i),o["{player.id}"]=this.options_["data-player"],o["{mediainfo.id}"]=this.mediainfo?this.mediainfo.id:"",o["{mediainfo.name}"]=this.mediainfo?this.mediainfo.name:"",o["{mediainfo.description}"]=this.mediainfo?this.mediainfo.description:"",o["{mediainfo.tags}"]=this.mediainfo?this.mediainfo.tags:"",o["{mediainfo.reference_id}"]=this.mediainfo?this.mediainfo.reference_id:"",o["{mediainfo.duration}"]=this.mediainfo?this.mediainfo.duration:"",o["{mediainfo.ad_keys}"]=this.mediainfo?this.mediainfo.ad_keys:"",o["{player.duration}"]=this.duration(),o["{timestamp}"]=(new Date).getTime(),o["{document.referrer}"]=p.referrer,o["{window.location.href}"]=n.location.href,o["{random}"]=Math.floor(1e12*Math.random()),v(this.mediainfo,o,"custom_fields"),v(this.mediainfo,o,"customFields"),o)t=t.split(a).join(y(o[a],r));return t=t.replace(/{pageVariable\.([^}]+)}/g,function(t,i){for(var o=void 0,a=n,s=i.split("."),l=0;l<s.length;l++)l===s.length-1?o=a[s[l]]:a=a[s[l]];var u=void 0===o?"undefined":g(o);return null===o?"null":void 0===o?(e.log.warn('Page variable "'+i+'" not found'),""):"string"!==u&&"number"!==u&&"boolean"!==u?(e.log.warn('Page variable "'+i+'" is not a supported type'),""):y(String(o),r)})}.bind(r),function(e){e.ads.contentSrc=e.currentSrc();var t=function(){if("ad-playback"!==e.ads.state){var t=e.currentSrc();t!==e.ads.contentSrc&&(e.trigger({type:"contentupdate",oldValue:e.ads.contentSrc,newValue:t}),e.ads.contentSrc=t)}};e.on("loadstart",t),n.setTimeout(t,1)}(r),r.on("contentupdate",r.ads.reset);var a={"content-set":{events:{adscanceled:function(){this.state="content-playback"},adsready:function(){this.state="ads-ready"},play:function(){this.state="ads-ready?",cancelContentPlay(r),b(r)},adserror:function(){this.state="content-playback"},adskip:function(){this.state="content-playback"}}},"ads-ready":{events:{play:function(){this.state="preroll?",cancelContentPlay(r)},adskip:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"}}},"preroll?":{enter:function(){r.ads.nopreroll_?(r.trigger("readyforpreroll"),n.setTimeout(function(){r.trigger("nopreroll")},1)):(r.addClass("vjs-ad-loading"),r.ads.adTimeoutTimeout=n.setTimeout(function(){r.trigger("adtimeout")},i.prerollTimeout),r.ads._hasThereBeenALoadStartDuringPlayerLife?r.trigger("readyforpreroll"):r.one("loadstart",function(){r.trigger("readyforpreroll")}))},leave:function(){n.clearTimeout(r.ads.adTimeoutTimeout)},events:{play:function(){cancelContentPlay(r)},adstart:function(){this.state="ad-playback",r.ads.adType="preroll"},adskip:function(){this.state="content-playback"},adtimeout:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"},nopreroll:function(){this.state="content-playback"}}},"ads-ready?":{enter:function(){r.addClass("vjs-ad-loading"),r.ads.adTimeoutTimeout=n.setTimeout(function(){r.trigger("adtimeout")},i.timeout)},leave:function(){n.clearTimeout(r.ads.adTimeoutTimeout),r.removeClass("vjs-ad-loading")},events:{play:function(){cancelContentPlay(r)},adscanceled:function(){this.state="content-playback"},adsready:function(){this.state="preroll?"},adskip:function(){this.state="content-playback"},adtimeout:function(){this.state="content-playback"},adserror:function(){this.state="content-playback"}}},"ad-playback":{enter:function(){r.ads.shouldPlayContentBehindAd(r)||(this.snapshot=function(t){var n=void 0;n=e.browser.IS_IOS&&t.ads.isLive(t)&&t.seekable().length>0?t.currentTime()-t.seekable().end(0):t.currentTime();var r=t.$(".vjs-tech"),i=t.textTracks?t.textTracks():[],o=[],a={ended:t.ended(),currentSrc:t.currentSrc(),src:t.tech_.src(),currentTime:n,type:t.currentType()};r&&(a.nativePoster=r.poster,a.style=r.getAttribute("style"));for(var s=0;s<i.length;s++){var l=i[s];o.push({track:l,mode:l.mode}),l.mode="disabled"}return a.suppressedTracks=o,a}(r)),r.ads.shouldPlayContentBehindAd(r)&&(this.preAdVolume_=r.volume(),r.volume(0)),r.addClass("vjs-ad-playing"),r.hasClass("vjs-live")&&r.removeClass("vjs-live"),b(r),r.ads.cancelPlayTimeout&&n.setTimeout(function(){n.clearTimeout(r.ads.cancelPlayTimeout),r.ads.cancelPlayTimeout=null},1)},leave:function(){r.removeClass("vjs-ad-playing"),r.ads.isLive(r)&&r.addClass("vjs-live"),r.ads.shouldPlayContentBehindAd(r)||function(t,r){if(!0!==t.ads.disableNextSnapshotRestore){var i=t.$(".vjs-tech"),o=20,a=r.suppressedTracks,s=void 0,l=function(){for(var e=0;e<a.length;e++)(s=a[e]).track.mode=s.mode},u=function(){var n=void 0;e.browser.IS_IOS&&t.ads.isLive(t)?r.currentTime<0&&(n=t.seekable().length>0?t.seekable().end(0)+r.currentTime:t.currentTime(),t.currentTime(n)):r.ended?t.currentTime(t.duration()):t.currentTime(r.currentTime),r.ended||t.play(),t.ads.shouldRemoveAutoplay_&&(t.autoplay(!1),t.ads.shouldRemoveAutoplay_=!1)},d=function tryToResume(){if(t.off("contentcanplay",tryToResume),t.ads.tryToResumeTimeout_&&(t.clearTimeout(t.ads.tryToResumeTimeout_),t.ads.tryToResumeTimeout_=null),(i=t.el().querySelector(".vjs-tech")).readyState>1)return u();if(void 0===i.seekable)return u();if(i.seekable.length>0)return u();if(o--)n.setTimeout(tryToResume,50);else try{u()}catch(t){e.log.warn("Failed to resume the content after an advertisement",t)}};r.nativePoster&&(i.poster=r.nativePoster),"style"in r&&i.setAttribute("style",r.style||""),t.ads.videoElementRecycled()?(t.one("contentloadedmetadata",l),e.browser.IS_IOS&&!t.autoplay()&&(t.autoplay(!0),t.ads.shouldRemoveAutoplay_=!0),t.src({src:r.currentSrc,type:r.type}),t.one("contentcanplay",d),t.ads.tryToResumeTimeout_=t.setTimeout(d,2e3)):(l(),t.ended()||t.play())}else t.ads.disableNextSnapshotRestore=!1}(r,this.snapshot),r.ads.shouldPlayContentBehindAd(r)&&r.volume(this.preAdVolume_)},events:{adend:function(){this.state="content-resuming",r.ads.adType=null},adserror:function(){r.ads.endLinearAdMode()}}},"content-resuming":{enter:function(){this._contentHasEnded&&(n.clearTimeout(r.ads._fireEndedTimeout),r.ads._fireEndedTimeout=n.setTimeout(function(){r.trigger("ended")},1e3))},leave:function(){n.clearTimeout(r.ads._fireEndedTimeout)},events:{contentupdate:function(){this.state="content-set"},contentresumed:function(){this.state="content-playback"},playing:function(){this.state="content-playback"},ended:function(){this.state="content-playback"}}},"postroll?":{enter:function(){r.ads._contentEnding=!0,r.ads.nopostroll_?n.setTimeout(function(){r.ads.state="content-resuming",r.trigger("ended")},1):(r.addClass("vjs-ad-loading"),r.ads.adTimeoutTimeout=n.setTimeout(function(){r.trigger("adtimeout")},i.postrollTimeout))},leave:function(){n.clearTimeout(r.ads.adTimeoutTimeout),r.removeClass("vjs-ad-loading")},events:{adstart:function(){this.state="ad-playback",r.ads.adType="postroll"},adskip:function(){this.state="content-resuming",n.setTimeout(function(){r.trigger("ended")},1)},adtimeout:function(){this.state="content-resuming",n.setTimeout(function(){r.trigger("ended")},1)},adserror:function(){this.state="content-resuming",n.setTimeout(function(){r.trigger("ended")},1)},contentupdate:function(){this.state="ads-ready?"}}},"content-playback":{enter:function(){r.ads.cancelPlayTimeout&&(n.clearTimeout(r.ads.cancelPlayTimeout),r.ads.cancelPlayTimeout=null),r.trigger({type:"contentplayback",triggerevent:r.ads.triggerevent}),r.ads._cancelledPlay&&r.paused()&&r.play()},events:{adsready:function(){r.trigger("readyforpreroll")},adstart:function(){this.state="ad-playback","preroll"!==r.ads.adType&&(r.ads.adType="midroll")},contentupdate:function(){r.paused()?this.state="content-set":this.state="ads-ready?"},contentended:function(){this._contentHasEnded?this.state="content-resuming":(this._contentEnding=!1,this._contentHasEnded=!0,this.state="postroll?")}}}},s=function(t){var n=r.ads.state,o=a[n].events;if(o){var s=o[t.type];s&&s.apply(r.ads)}if(n!==r.ads.state){var l=n,u=r.ads.state;r.ads.triggerevent=t.type,a[l].leave&&a[l].leave.apply(r.ads),a[u].enter&&a[u].enter.apply(r.ads),i.debug&&e.log("ads",r.ads.triggerevent+" triggered: "+l+" -> "+u)}},l=function(){var t=r.textTracks();if(!r.ads.shouldPlayContentBehindAd(r)&&r.ads.isAdPlaying()&&r.tech_.featuresNativeTextTracks&&e.browser.IS_IOS&&!Array.isArray(r.textTracks()))for(var n=0;n<t.length;n++){var i=t[n];"showing"===i.mode&&(i.mode="disabled")}};r.ready(function(){r.textTracks().addEventListener("change",l)}),r.on(E.concat(["adtimeout","contentupdate","contentplaying","contentended","contentresumed","adstart","adend","adskip","adsready","adserror","adscanceled","nopreroll"]),s),r.on("dispose",function(){r.ads.adTimeoutTimeout&&n.clearTimeout(r.ads.adTimeoutTimeout),r.ads._fireEndedTimeout&&n.clearTimeout(r.ads._fireEndedTimeout),r.ads.cancelPlayTimeout&&n.clearTimeout(r.ads.cancelPlayTimeout),r.ads.tryToResumeTimeout_&&r.clearTimeout(r.ads.tryToResumeTimeout_),r.textTracks().removeEventListener("change",l)}),r.paused()||s({type:"play"})};return(e.registerPlugin||e.plugin)("ads",S),S}),function a(t,n,r){function e(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[o]={exports:{}};t[o][0].call(d.exports,function(n){return e(t[o][1][n]||n)},d,d.exports,a,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)e(r[o]);return e}({1:[function(e,t,n){"use strict";var r={encode:function(e){for(var t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?(t.push(192|r>>6),t.push(128|63&r)):r<65536?(t.push(224|r>>12),t.push(128|63&r>>6),t.push(128|63&r)):(t.push(240|r>>18),t.push(128|63&r>>12),t.push(128|63&r>>6),t.push(128|63&r))}return t},decode:function(e){for(var t=[],n=0;n<e.length;){var r=e[n++];r<128||(r<224?(r=(31&r)<<6,r|=63&e[n++]):r<240?(r=(15&r)<<12,r|=(63&e[n++])<<6,r|=63&e[n++]):(r=(7&r)<<18,r|=(63&e[n++])<<12,r|=(63&e[n++])<<6,r|=63&e[n++])),t.push(String.fromCharCode(r))}return t.join("")}},i={};!function(e){var t=function(t){for(var n=0,r=[],i=0|t.length/3;0<i--;){var o=(t[n]<<16)+(t[n+1]<<8)+t[n+2];n+=3,r.push(e.charAt(63&o>>18)),r.push(e.charAt(63&o>>12)),r.push(e.charAt(63&o>>6)),r.push(e.charAt(63&o))}if(2==t.length-n){o=(t[n]<<16)+(t[n+1]<<8);r.push(e.charAt(63&o>>18)),r.push(e.charAt(63&o>>12)),r.push(e.charAt(63&o>>6)),r.push("=")}else if(1==t.length-n){o=t[n]<<16;r.push(e.charAt(63&o>>18)),r.push(e.charAt(63&o>>12)),r.push("==")}return r.join("")},n=function(){for(var t=[],n=0;n<e.length;++n)t[e.charCodeAt(n)]=n;return t["=".charCodeAt(0)]=0,t}(),o=function(e){for(var t=0,r=[],i=0|e.length/4;0<i--;){var o=(n[e.charCodeAt(t)]<<18)+(n[e.charCodeAt(t+1)]<<12)+(n[e.charCodeAt(t+2)]<<6)+n[e.charCodeAt(t+3)];r.push(255&o>>16),r.push(255&o>>8),r.push(255&o),t+=4}return r&&("="==e.charAt(t-2)?(r.pop(),r.pop()):"="==e.charAt(t-1)&&r.pop()),r},l={encode:function(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t},decode:function(e){for(var t=0;t<s.length;++t)a[t]=String.fromCharCode(a[t]);return a.join("")}};i.decodeArray=function(e){var t=o(e);return new Uint8Array(t)},i.encodeASCII=function(e){var n=l.encode(e);return t(n)},i.decodeASCII=function(e){var t=o(e);return l.decode(t)},i.encode=function(e){var n=r.encode(e);return t(n)},i.decode=function(e){var t=o(e);return r.decode(t)}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),void 0!==n&&(n.decode=i.decode,n.decodeArray=i.decodeArray,n.encode=i.encode,n.encodeASCII=i.encodeASCII)},{}],2:[function(e,t,n){"use strict";!function(e){var t={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},n=function(e){var n=e;return t.hasOwnProperty(e)&&(n=t[e]),String.fromCharCode(n)},r=15,i=32,o={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},a={17:2,18:4,21:6,22:8,23:10,19:13,20:15},s={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},l={25:2,26:4,29:6,30:8,31:10,27:13,28:15},u=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],d={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e];this.verboseLevel}},c=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},f=function(e,t,n,r,i){this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1};f.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var h=function(e,t,n,r,i,o){this.uchar=e||" ",this.penState=new f(t,n,r,i,o)};h.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var p=function(){this.chars=[];for(var e=0;e<i;e++)this.chars.push(new h);this.pos=0,this.currPenState=new f};p.prototype={equals:function(e){for(var t=!0,n=0;n<i;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<i;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;t<i;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(d.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>i&&(d.log("ERROR","Too large cursor position "+this.pos),this.pos=i)},moveCursor:function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){e>=144&&this.backSpace();var t=n(e);this.pos>=i?d.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},clearFromPos:function(e){var t;for(t=e;t<i;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,n=0;n<i;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},setPenStyles:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}};var g=function(){this.rows=[];for(var e=0;e<r;e++)this.rows.push(new p);this.currRow=14,this.nrRollUpRows=null,this.reset()};g.prototype={reset:function(){for(var e=0;e<r;e++)this.rows[e].clear();this.currRow=14},equals:function(e){for(var t=!0,n=0;n<r;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<r;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;t<r;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(e){this.rows[this.currRow].insertChar(e)},setPen:function(e){this.rows[this.currRow].setPenStyles(e)},moveCursor:function(e){this.rows[this.currRow].moveCursor(e)},setCursor:function(e){d.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},setPAC:function(e){d.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.currRow=t;var n=this.rows[this.currRow];if(null!==e.indent){var r=e.indent,i=Math.max(r-1,0);n.setCursor(e.indent),e.color=n.chars[i].penState.foreground}var o={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(o)},setBkgData:function(e){d.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){if(null!==this.nrRollUpRows){d.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),d.log("INFO","Rolling up")}else d.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(e){e=e||!1;for(var t=[],n="",i=-1,o=0;o<r;o++){var a=this.rows[o].getTextString();a&&(i=o+1,e?t.push("Row "+i+': "'+a+'"'):t.push(a.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},getTextAndFormat:function(){return this.rows}};var y=function(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new g,this.nonDisplayedMemory=new g,this.lastOutputScreen=new g,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};y.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,d.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";d.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(d.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){d.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){d.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){d.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){d.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){d.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){d.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){d.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){d.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){d.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){d.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){d.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(d.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,d.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(e){d.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}d.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},outputDataUpdate:function(){var e=d.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}};var v=function(e,t,n){this.field=e||1,this.outputs=[t,n],this.channels=[new y(1,t),new y(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};v.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var n,r,i,o=!1;this.lastTime=e,d.setTime(e);for(var a=0;a<t.length;a+=2)if(r=127&t[a],i=127&t[a+1],r>=16&&r<=31&&r===this.lastCmdA&&i===this.lastCmdB)this.lastCmdA=null,this.lastCmdB=null,d.log("DEBUG","Repeated command ("+c([r,i])+") is dropped");else if(0!==r||0!==i){if(d.log("DATA","["+c([t[a],t[a+1]])+"] -> ("+c([r,i])+")"),(n=this.parseCmd(r,i))||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(o=this.parseChars(r,i)))if(this.currChNr&&this.currChNr>=0){this.channels[this.currChNr-1].insertChars(o)}else d.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,d.log("WARNING","Couldn't parse cleaned data "+c([r,i])+" orig: "+c([t[a],t[a+1]])))}else this.dataCounters.padding+=2},parseCmd:function(e,t){var n;if(!((20===e||21===e||28===e||29===e)&&32<=t&&t<=47)&&!((23===e||31===e)&&33<=t&&t<=35))return!1;n=20===e||21===e||23===e?1:2;var r=this.channels[n-1];return 20===e||21===e||28===e||29===e?32===t?r.cc_RCL():33===t?r.cc_BS():34===t?r.cc_AOF():35===t?r.cc_AON():36===t?r.cc_DER():37===t?r.cc_RU(2):38===t?r.cc_RU(3):39===t?r.cc_RU(4):40===t?r.cc_FON():41===t?r.cc_RDC():42===t?r.cc_TR():43===t?r.cc_RTD():44===t?r.cc_EDM():45===t?r.cc_CR():46===t?r.cc_ENM():47===t&&r.cc_EOC():r.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},parseMidrow:function(e,t){var n=null;if((17===e||25===e)&&32<=t&&t<=47){if((n=17===e?1:2)!==this.currChNr)return d.log("ERROR","Mismatch channel in midrow parsing"),!1;var r=this.channels[n-1];return r.insertChars([32]),r.cc_MIDROW(t),d.log("DEBUG","MIDROW ("+c([e,t])+")"),this.lastCmdA=e,this.lastCmdB=t,!0}return!1},parsePAC:function(e,t){var n,r;if(!((17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127)&&!((16===e||24===e)&&64<=t&&t<=95))return!1;n=e<=23?1:2,r=64<=t&&t<=95?1===n?o[e]:s[e]:1===n?a[e]:l[e];var i=this.interpretPAC(r,t);return this.channels[n-1].setPAC(i),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},interpretPAC:function(e,t){var n,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},parseChars:function(e,t){var r=null,i=null,o=null;if(e>=25?(r=2,o=e-8):(r=1,o=e),17<=o&&o<=19){var a;a=17===o?t+80:18===o?t+112:t+144,d.log("INFO","Special char '"+n(a)+"' in channel "+r),i=[a],this.lastCmdA=e,this.lastCmdB=t}else 32<=e&&e<=127&&(i=0===t?[e]:[e,t],this.lastCmdA=null,this.lastCmdB=null);if(i){var s=c(i);d.log("DEBUG","Char codes =  "+s.join(","))}return i},parseBackgroundAttributes:function(e,t){var n,r,i,o;return!(!((16===e||24===e)&&32<=t&&t<=47)&&!((23===e||31===e)&&45<=t&&t<=47)||(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=u[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),i=e<24?1:2,o=this.channels[i-1],o.setBkgData(n),this.lastCmdA=e,this.lastCmdB=t,0))},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}};e.logger=d,e.PenState=f,e.CaptionScreen=g,e.Cea608Parser=v,e.findCea608Nalus=function(e,t,n){for(var r=0,i=t,o=[],a=function(e,t,n,r){if(4!==e||t<8)return null;var i=n.getUint8(r),o=n.getUint16(r+1),a=n.getUint32(r+3),s=n.getUint8(r+7);return 181==i&&49==o&&1195456820==a&&3==s};i<t+n;){if(r=e.getUint32(i),6==(31&e.getUint8(i+4)))for(var s=i+5,l=-1;s<i+4+r-1;){l=0;for(var u=255;255===u;)l+=u=e.getUint8(s),s++;var d=0;for(u=255;255===u;)d+=u=e.getUint8(s),s++;a(l,d,e,s)&&o.push([s,d]),s+=d}i+=r+4}return o},e.extractCea608DataFromRange=function(e,t){var n=t[0],r=[[],[]];n+=8;var i=31&e.getUint8(n);n+=2;for(var o=0;o<i;o++){var a=e.getUint8(n),s=4&a,l=3&a;n++;var u=e.getUint8(n);n++;var d=e.getUint8(n);n++,s&&(127&u)+(127&d)!=0&&(0===l?(r[0].push(u),r[0].push(d)):1===l&&(r[1].push(u),r[1].push(d)))}return r}}(void 0===n?(void 0).cea608parser={}:n)},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){function d(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function f(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function g(e,t,n,r){for(var i=0;i<e.length;i++){var o=e[i];if("string"==typeof o){if(o==r)break}else if(o instanceof RegExp){if(o.test(r))break}else if("function"==typeof o&&o(t,n,r))break}return i!=e.length}function h(t,n,r){switch(e.arrayAccessForm){case"property":t[n]instanceof Array?t[n+"_asArray"]=t[n]:t[n+"_asArray"]=[t[n]]}!(t[n]instanceof Array)&&e.arrayAccessFormPaths.length>0&&g(e.arrayAccessFormPaths,t,n,r)&&(t[n]=[t[n]])}function i(e){var t=e.split(/[-T:+Z]/g),n=new Date(t[0],t[1]-1,t[2]),r=t[5].split(".");if(n.setHours(t[3],t[4],r[0]),r.length>1&&n.setMilliseconds(r[1]),t[6]&&t[7]){var i=60*t[6]+Number(t[7]);i=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*i:i),n.setMinutes(n.getMinutes()-i-n.getTimezoneOffset())}else-1!==e.indexOf("Z",e.length-1)&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}function j(t,n,r){if(e.datetimeAccessFormPaths.length>0){var o=r.split(".#")[0];return g(e.datetimeAccessFormPaths,t,n,o)?i(t):t}return t}function k(n,r,i,o){return!(r==t.ELEMENT_NODE&&e.xmlElementsFilter.length>0)||g(e.xmlElementsFilter,n,i,o)}function l(n,r){if(n.nodeType==t.DOCUMENT_NODE){for(var i=new Object,o=n.childNodes,a=0;a<o.length;a++)(u=o[a]).nodeType==t.ELEMENT_NODE&&(e.ignoreRoot?i=l(u):(i={})[c=d(u)]=l(u));return i}if(n.nodeType==t.ELEMENT_NODE){(i=new Object).__cnt=0;var s=[];for(o=n.childNodes,a=0;a<o.length;a++){var u,c=d(u=o[a]);if(u.nodeType!=t.COMMENT_NODE){var f=r+"."+c;if(k(i,u.nodeType,c,f))if(i.__cnt++,null==i[c]){var p=l(u,f);("#text"!=c||/[^\s]/.test(p))&&((g={})[c]=p,s.push(g)),i[c]=p,h(i,c,f)}else{var g;null!=i[c]&&(i[c]instanceof Array||(i[c]=[i[c]],h(i,c,f))),p=l(u,f),("#text"!=c||/[^\s]/.test(p))&&((g={})[c]=p,s.push(g)),i[c][i[c].length]=p}}}i.__children=s;for(var y=d(n),v=0;v<n.attributes.length;v++){var m=n.attributes[v];i.__cnt++;for(var _=m.value,T=0,E=e.matchers.length;T<E;T++){var b=e.matchers[T];b.test(m,y)&&(_=b.converter(m.value))}i[e.attributePrefix+m.name]=_}var A=function(e){return e.prefix}(n);return null!=A&&""!=A&&(i.__cnt++,i.__prefix=A),null!=i["#text"]&&(i.__text=i["#text"],i.__text instanceof Array&&(i.__text=i.__text.join("\n")),e.stripWhitespaces&&(i.__text=i.__text.trim()),delete i["#text"],"property"==e.arrayAccessForm&&delete i["#text_asArray"],i.__text=j(i.__text,c,r+"."+c)),null!=i["#cdata-section"]&&(i.__cdata=i["#cdata-section"],delete i["#cdata-section"],"property"==e.arrayAccessForm&&delete i["#cdata-section_asArray"]),0==i.__cnt&&"text"==e.emptyNodeForm?i="":1==i.__cnt&&null!=i.__text?i=i.__text:1!=i.__cnt||null==i.__cdata||e.keepCData?i.__cnt>1&&null!=i.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==i.__text||""==i.__text.trim())&&delete i.__text:i=i.__cdata,delete i.__cnt,!e.enableToStringFunc||null==i.__text&&null==i.__cdata||(i.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),i}if(n.nodeType==t.TEXT_NODE||n.nodeType==t.CDATA_SECTION_NODE)return n.nodeValue}function m(t,n,r,i){var o="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+n;if(null!=r)for(var a=0;a<r.length;a++){var s=r[a],l=t[s];e.escapeMode&&(l=f(l)),o+=" "+s.substr(e.attributePrefix.length)+"=",e.useDoubleQuotes?o+='"'+l+'"':o+="'"+l+"'"}return o+(i?"/>":">")}function n(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function p(t,n){return!!("property"==e.arrayAccessForm&&function(e,t){return-1!==e.indexOf(t,e.length-t.length)}(n.toString(),"_asArray")||0==n.toString().indexOf(e.attributePrefix)||0==n.toString().indexOf("__")||t[n]instanceof Function)}function q(e){var t=0;if(e instanceof Object)for(var n in e)p(e,n)||t++;return t}function r(t,n,r){return 0==e.jsonPropertiesFilter.length||""==r||g(e.jsonPropertiesFilter,t,n,r)}function s(t){var n=[];if(t instanceof Object)for(var r in t)-1==r.toString().indexOf("__")&&0==r.toString().indexOf(e.attributePrefix)&&n.push(r);return n}function u(t){var n="";return t instanceof Object?n+=function(t){var n="";return null!=t.__cdata&&(n+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(e.escapeMode?n+=f(t.__text):n+=t.__text),n}(t):null!=t&&(e.escapeMode?n+=f(t):n+=t),n}function v(e,t){return""===e?t:e+"."+t}function w(e,t,r,i){var o="";if(0==e.length)o+=m(e,t,r,!0);else for(var a=0;a<e.length;a++)o+=m(e[a],t,s(e[a]),!1),o+=x(e[a],v(i,t)),o+=n(e[a],t);return o}function x(e,t){var i="";if(q(e)>0)for(var o in e)if(!p(e,o)&&(""==t||r(e,o,v(t,o)))){var a=e[o],l=s(a);null==a||void 0==a?i+=m(a,o,l,!0):a instanceof Object?a instanceof Array?i+=w(a,o,l,t):a instanceof Date?(i+=m(a,o,l,!1),i+=a.toISOString(),i+=n(a,o)):q(a)>0||null!=a.__text||null!=a.__cdata?(i+=m(a,o,l,!1),i+=x(a,v(t,o)),i+=n(a,o)):i+=m(a,o,l,!0):(i+=m(a,o,l,!1),i+=u(a),i+=n(a,o))}return i+u(e)}void 0===(e=e||{}).escapeMode&&(e.escapeMode=!0),void 0===e.attributePrefix&&(e.attributePrefix="_"),e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0),e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0),void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0),e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!1),e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],void 0===e.keepCData&&(e.keepCData=!1),void 0===e.ignoreRoot&&(e.ignoreRoot=!1);var t={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){if(window.ActiveXObject||window,void 0===e)return null;var t;if(window.DOMParser){var n=new window.DOMParser;try{(t=n.parseFromString(e,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(t=null)}catch(e){t=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e);return t},this.asArray=function(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?i(e):e},this.xml2json=function(e){return l(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(e){return x(e,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return"1.2.0"}},t.exports=n.default},{}],4:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e(5),i=d(e(115)),o=d(e(149)),a=d(e(93));dashjs.Protection=o.default,dashjs.MetricsReporting=i.default,dashjs.MediaPlayerFactory=a.default,n.default=dashjs,n.MediaPlayer=r.MediaPlayer,n.Protection=o.default,n.MetricsReporting=i.default,n.MediaPlayerFactory=a.default},{115:115,149:149,5:5,93:93}],5:[function(e,t,n){(function(t){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=d(e(91)),i=d(e(47)),o=e(48),a="undefined"!=typeof window&&window||t,s=a.dashjs;s||(s=a.dashjs={}),s.MediaPlayer=r.default,s.FactoryMaker=i.default,s.Version=(0,o.getVersionString)(),n.default=s,n.MediaPlayer=r.default,n.FactoryMaker=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{47:47,48:48,91:91}],6:[function(e,t,n){!function(e){"use strict";function b(e){var t=e.charCodeAt(0);return t===n||t===s?62:t===r||t===l?63:t<i?-1:t<i+10?t-i+26+26:t<a+26?t-a:t<o+26?t-o+26:void 0}var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),r="/".charCodeAt(0),i="0".charCodeAt(0),o="a".charCodeAt(0),a="A".charCodeAt(0),s="-".charCodeAt(0),l="_".charCodeAt(0);e.toByteArray=function(e){function c(e){s[u++]=e}var n,r,i,o,a,s;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=e.length;a="="===e.charAt(l-2)?2:"="===e.charAt(l-1)?1:0,s=new t(3*e.length/4-a),i=a>0?e.length-4:e.length;var u=0;for(n=0,r=0;n<i;n+=4,r+=3)c((16711680&(o=b(e.charAt(n))<<18|b(e.charAt(n+1))<<12|b(e.charAt(n+2))<<6|b(e.charAt(n+3))))>>16),c((65280&o)>>8),c(255&o);return 2===a?c(255&(o=b(e.charAt(n))<<2|b(e.charAt(n+1))>>4)):1===a&&(c((o=b(e.charAt(n))<<10|b(e.charAt(n+1))<<4|b(e.charAt(n+2))>>2)>>8&255),c(255&o)),s},e.fromByteArray=function(e){function b(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}function c(e){return b(e>>18&63)+b(e>>12&63)+b(e>>6&63)+b(63&e)}var t,n,r,i=e.length%3,o="";for(t=0,r=e.length-i;t<r;t+=3)o+=c(n=(e[t]<<16)+(e[t+1]<<8)+e[t+2]);switch(i){case 1:o+=b((n=e[e.length-1])>>2),o+=b(n<<4&63),o+="==";break;case 2:o+=b((n=(e[e.length-2]<<8)+e[e.length-1])>>10),o+=b(n>>4&63),o+=b(n<<2&63),o+="="}return o}}(void 0===n?this.base64js={}:n)},{}],7:[function(e,t,n){},{}],8:[function(t,n,r){function e(e){return e.toString(this.encoding)}function f(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function g(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var i=t(9).Buffer,o=i.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},a=r.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!o(e))throw new Error("Unknown encoding: "+e)}(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new i(6),this.charReceived=0,this.charLength=0};a.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(e=e.slice(n,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,r),r-=this.charReceived);var i;r=(t+=e.toString(this.encoding,0,r)).length-1;if((i=t.charCodeAt(r))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,r)}return t},a.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},a.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},{9:9}],9:[function(t,n,r){(function(n){"use strict";function e(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(e){return this instanceof f?(f.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?function(e,t){if(e=p(e,t<0?0:0|q(t)),!f.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;n++)e[n]=0;return e}(this,e):"string"==typeof e?function(e,t,n){return"string"==typeof n&&""!==n||(n="utf8"),(e=p(e,0|s(t,n))).write(t,n),e}(this,e,arguments.length>1?arguments[1]:"utf8"):function(e,t){if(f.isBuffer(t))return function(e,t){var n=0|q(t.length);return e=p(e,n),t.copy(e,0,0,n),e}(e,t);if(a(t))return function(e,t){var n=0|q(t.length);e=p(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return l(e,t);if(t instanceof ArrayBuffer)return function(e,t){return f.TYPED_ARRAY_SUPPORT?(t.byteLength,e=f._augment(new Uint8Array(t))):e=l(e,new Uint8Array(t)),e}(e,t)}return t.length?function(e,t){var n=0|q(t.length);e=p(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}(e,t):function(e,t){var n,r=0;"Buffer"===t.type&&a(t.data)&&(n=t.data,r=0|q(n.length)),e=p(e,r);for(var i=0;i<r;i+=1)e[i]=255&n[i];return e}(e,t)}(this,e)):arguments.length>1?new f(e,arguments[1]):new f(e)}function l(e,t){var n=0|q(t.length);e=p(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e,t){return f.TYPED_ARRAY_SUPPORT?(e=f._augment(new Uint8Array(t))).__proto__=f.prototype:(e.length=t,e._isBuffer=!0),0!==t&&t<=f.poolSize>>>1&&(e.parent=d),e}function q(t){if(t>=e())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e().toString(16)+" bytes");return 0|t}function s(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return R(e).length;t=(""+t).toLowerCase(),r=!0}}function u(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+a]=s}return a}function v(e,t,n,r){return V(R(t,e.length-n),e,n,r)}function w(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return w(e,t,n,r)}function y(e,t,n,r){return V(U(t),e,n,r)}function z(e,t,n,r){return V(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);a++)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function B(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,u=e[i],d=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c<=n)switch(c){case 1:u<128&&(d=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(d=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(d=l)}null===d?(d=65533,c=1):d>65535&&(d-=65536,r.push(d>>>10&1023|55296),d=56320|1023&d),r.push(d),i+=c}return function(e){var t=e.length;if(t<=h)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=h));return n}(r)}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(127&e[i]);return r}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}function F(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;o++)i+=Q(e[o]);return i}function G(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function H(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,i,o){if(!f.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>i||t<o)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range")}function J(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function K(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function L(e,t,n,r,i,o){if(t>i||t<o)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(n<0)throw new RangeError("index out of range")}function M(e,t,n,r,i){return i||L(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),o.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,i){return i||L(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),o.write(e,t,n,r,52,8),n+8}function Q(e){return e<16?"0"+e.toString(16):e.toString(16)}function R(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;a++){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(m,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}var i=t(6),o=t(14),a=t(24);r.Buffer=f,r.SlowBuffer=function r(e,t){if(!(this instanceof r))return new r(e,t);var n=new f(e,t);return delete n.parent,n},r.INSPECT_MAX_BYTES=50,f.poolSize=8192;var d={};f.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:function(){function a(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=a,42===e.foo()&&e.constructor===a&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),f.TYPED_ARRAY_SUPPORT?(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array):(f.prototype.length=void 0,f.prototype.parent=void 0),f.isBuffer=function(e){return!(null==e||!e._isBuffer)},f.compare=function(e,t){if(!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o&&e[i]===t[i];)++i;return i!==o&&(n=e[i],r=t[i]),n<r?-1:r<n?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(e,t){if(!a(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new f(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=new f(t),i=0;for(n=0;n<e.length;n++){var o=e[n];o.copy(r,i),i+=o.length}return r},f.byteLength=s,f.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?B(this,0,e):function(e,t,n){var r=!1;if(t|=0,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),t<0&&(t=0),n>this.length&&(n=this.length),n<=t)return"";for(;;)switch(e){case"hex":return F(this,t,n);case"utf8":case"utf-8":return B(this,t,n);case"ascii":return D(this,t,n);case"binary":return E(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===f.compare(this,e)},f.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},f.prototype.compare=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:f.compare(this,e)},f.prototype.indexOf=function(e,t){function c(e,t,n){for(var r=-1,i=0;n+i<e.length;i++)if(e[n+i]===t[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===t.length)return n+r}else r=-1;return-1}if(t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(t<0&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(f.isBuffer(e))return c(this,e,t);if("number"==typeof e)return f.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):c(this,[e],t);throw new TypeError("val must be string, number or Buffer")},f.prototype.get=function(e){return this.readUInt8(e)},f.prototype.set=function(e,t){return this.writeUInt8(e,t)},f.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=t,t=0|n,n=i}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return u(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return w(this,e,t,n);case"binary":return x(this,e,t,n);case"base64":return y(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var h=4096;f.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),f.TYPED_ARRAY_SUPPORT)n=f._augment(this.subarray(e,t));else{var i=t-e;n=new f(i,void 0);for(var o=0;o<i;o++)n[o]=this[o+e]}return n.length&&(n.parent=this.parent||this),n},f.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||H(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},f.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||H(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},f.prototype.readUInt8=function(e,t){return t||H(e,1,this.length),this[e]},f.prototype.readUInt16LE=function(e,t){return t||H(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUInt16BE=function(e,t){return t||H(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUInt32LE=function(e,t){return t||H(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},f.prototype.readUInt32BE=function(e,t){return t||H(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||H(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},f.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||H(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},f.prototype.readInt8=function(e,t){return t||H(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){t||H(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt16BE=function(e,t){t||H(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt32LE=function(e,t){return t||H(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return t||H(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readFloatLE=function(e,t){return t||H(e,4,this.length),o.read(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return t||H(e,4,this.length),o.read(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return t||H(e,8,this.length),o.read(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return t||H(e,8,this.length),o.read(this,e,!1,52,8)},f.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||I(this,e,t,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},f.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||I(this,e,t,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},f.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),f.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},f.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):J(this,e,t,!0),t+2},f.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):J(this,e,t,!1),t+2},f.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):K(this,e,t,!0),t+4},f.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):K(this,e,t,!1),t+4},f.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=0,a=1,s=e<0?1:0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},f.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=e<0?1:0;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},f.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),f.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},f.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):J(this,e,t,!0),t+2},f.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):J(this,e,t,!1),t+2},f.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):K(this,e,t,!0),t+4},f.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):K(this,e,t,!1),t+4},f.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},f.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},f.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},f.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},f.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;i--)e[i+t]=this[i+n];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;i++)e[i+t]=this[i+n];else e._set(this.subarray(n,n+o),t);return o},f.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),n<t)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(t<0||t>=this.length)throw new RangeError("start out of bounds");if(n<0||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;r<n;r++)this[r]=e;else{var i=R(e.toString()),o=i.length;for(r=t;r<n;r++)this[r]=i[r%o]}return this}},f.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(f.TYPED_ARRAY_SUPPORT)return new f(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var g=f.prototype;f._augment=function(e){return e.constructor=f,e._isBuffer=!0,e._set=e.set,e.get=g.get,e.set=g.set,e.write=g.write,e.toString=g.toString,e.toLocaleString=g.toString,e.toJSON=g.toJSON,e.equals=g.equals,e.compare=g.compare,e.indexOf=g.indexOf,e.copy=g.copy,e.slice=g.slice,e.readUIntLE=g.readUIntLE,e.readUIntBE=g.readUIntBE,e.readUInt8=g.readUInt8,e.readUInt16LE=g.readUInt16LE,e.readUInt16BE=g.readUInt16BE,e.readUInt32LE=g.readUInt32LE,e.readUInt32BE=g.readUInt32BE,e.readIntLE=g.readIntLE,e.readIntBE=g.readIntBE,e.readInt8=g.readInt8,e.readInt16LE=g.readInt16LE,e.readInt16BE=g.readInt16BE,e.readInt32LE=g.readInt32LE,e.readInt32BE=g.readInt32BE,e.readFloatLE=g.readFloatLE,e.readFloatBE=g.readFloatBE,e.readDoubleLE=g.readDoubleLE,e.readDoubleBE=g.readDoubleBE,e.writeUInt8=g.writeUInt8,e.writeUIntLE=g.writeUIntLE,e.writeUIntBE=g.writeUIntBE,e.writeUInt16LE=g.writeUInt16LE,e.writeUInt16BE=g.writeUInt16BE,e.writeUInt32LE=g.writeUInt32LE,e.writeUInt32BE=g.writeUInt32BE,e.writeIntLE=g.writeIntLE,e.writeIntBE=g.writeIntBE,e.writeInt8=g.writeInt8,e.writeInt16LE=g.writeInt16LE,e.writeInt16BE=g.writeInt16BE,e.writeInt32LE=g.writeInt32LE,e.writeInt32BE=g.writeInt32BE,e.writeFloatLE=g.writeFloatLE,e.writeFloatBE=g.writeFloatBE,e.writeDoubleLE=g.writeDoubleLE,e.writeDoubleBE=g.writeDoubleBE,e.fill=g.fill,e.inspect=g.inspect,e.toArrayBuffer=g.toArrayBuffer,e};var m=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{14:14,24:24,6:6}],10:[function(e,t,n){var r={parseBuffer:function(e){return new i(e).parse()},addBoxProcessor:function(e,t){"string"==typeof e&&"function"==typeof t&&(o.prototype._boxProcessors[e]=t)},createFile:function(){return new i},createBox:function(e,t,n){var r=o.create(e);return t&&t.append(r,n),r},createFullBox:function(e,t,n){var i=r.createBox(e,t,n);return i.version=0,i.flags=0,i},Utils:{}};r.Utils.dataViewToString=function(e,t){var n=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(n).decode(e);var r=[],i=0;if("utf-8"===n)for(;i<e.byteLength;){var o=e.getUint8(i++);o<128||(o<224?(o=(31&o)<<6,o|=63&e.getUint8(i++)):o<240?(o=(15&o)<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++)):(o=(7&o)<<18,o|=(63&e.getUint8(i++))<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++))),r.push(String.fromCharCode(o))}else for(;i<e.byteLength;)r.push(String.fromCharCode(e.getUint8(i++)));return r.join("")},r.Utils.utf8ToByteArray=function(e){var t,n;if("undefined"!=typeof TextEncoder)t=(new TextEncoder).encode(e);else for(t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?(t.push(192|r>>6),t.push(128|63&r)):r<65536?(t.push(224|r>>12),t.push(128|63&r>>6),t.push(128|63&r)):(t.push(240|r>>18),t.push(128|63&r>>12),t.push(128|63&r>>6),t.push(128|63&r))}return t},r.Utils.appendBox=function(e,t,n){if(t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,-1!==n){if(void 0===n||null===n)return void e.boxes.push(t);var r,i=-1;if("number"==typeof n)i=n;else{if("string"==typeof n)r=n;else{if("object"!=typeof n||!n.type)return void e.boxes.push(t);r=n.type}for(var o=0;o<e.boxes.length;o++)if(r===e.boxes[o].type){i=o+1;break}}e.boxes.splice(i,0,t)}},void 0!==n&&(n.parseBuffer=r.parseBuffer,n.addBoxProcessor=r.addBoxProcessor,n.createFile=r.createFile,n.createBox=r.createBox,n.createFullBox=r.createFullBox,n.Utils=r.Utils),r.Cursor=function(e){this.offset=void 0===e?0:e};var i=function(e){this._cursor=new r.Cursor,this.boxes=[],e&&(this._raw=new DataView(e))};i.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},i.prototype.fetchAll=function(e,t){var n=[];return i._sweep.call(this,e,n,t),n},i.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=o.parse(this);if(void 0===e.type)break;this.boxes.push(e)}return this},i._sweep=function(e,t,n){for(var r in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&n)return;i._sweep.call(this.boxes[r],e,t,n)}},i.prototype.write=function(){var e,t=0;for(e=0;e<this.boxes.length;e++)t+=this.boxes[e].getLength(!1);var n=new Uint8Array(t);for(this._rawo=new DataView(n.buffer),this.bytes=n,this._cursor.offset=0,e=0;e<this.boxes.length;e++)this.boxes[e].write();return n.buffer},i.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)};var o=function(){this._cursor=new r.Cursor};o.parse=function(e){var t=new o;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},o.create=function(e){var t=new o;return t.type=e,t.boxes=[],t},o.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],o.prototype._boxProcessors={},o.prototype._procField=function(e,t,n){this._parsing?this[e]=this._readField(t,n):this._writeField(t,n,this[e])},o.prototype._procFieldArray=function(e,t,n,r){var i;if(this._parsing)for(this[e]=[],i=0;i<t;i++)this[e][i]=this._readField(n,r);else for(i=0;i<this[e].length;i++)this._writeField(n,r,this[e][i])},o.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},o.prototype._procEntries=function(e,t,n){var r;if(this._parsing)for(this[e]=[],r=0;r<t;r++)this[e].push({}),n.call(this,this[e][r]);else for(r=0;r<t;r++)n.call(this,this[e][r])},o.prototype._procSubEntries=function(e,t,n,r){var i;if(this._parsing)for(e[t]=[],i=0;i<n;i++)e[t].push({}),r.call(this,e[t][i]);else for(i=0;i<n;i++)r.call(this,e[t][i])},o.prototype._procEntryField=function(e,t,n,r){this._parsing?e[t]=this._readField(n,r):this._writeField(n,r,e[t])},o.prototype._procSubBoxes=function(e,t){var n;if(this._parsing)for(this[e]=[],n=0;n<t;n++)this[e].push(o.parse(this));else for(n=0;n<t;n++)this._rawo?this[e][n].write():this.size+=this[e][n].getLength()},o.prototype._readField=function(e,t){switch(e){case"uint":return this._readUint(t);case"int":return this._readInt(t);case"template":return this._readTemplate(t);case"string":return-1===t?this._readTerminatedString():this._readString(t);case"data":return this._readData(t);case"utf8":return this._readUTF8String();default:return-1}},o.prototype._readInt=function(e){var t=null,n=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:t=this._raw.getInt8(n);break;case 16:t=this._raw.getInt16(n);break;case 32:t=this._raw.getInt32(n);break;case 64:var r=this._raw.getInt32(n),i=this._raw.getInt32(n+4);t=r*Math.pow(2,32)+i}return this._cursor.offset+=e>>3,t},o.prototype._readUint=function(e){var t,n,r=null,i=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:r=this._raw.getUint8(i);break;case 16:r=this._raw.getUint16(i);break;case 24:r=((t=this._raw.getUint16(i))<<8)+(n=this._raw.getUint8(i+2));break;case 32:r=this._raw.getUint32(i);break;case 64:t=this._raw.getUint32(i),n=this._raw.getUint32(i+4),r=t*Math.pow(2,32)+n}return this._cursor.offset+=e>>3,r},o.prototype._readString=function(e){for(var t="",n=0;n<e;n++){var r=this._readUint(8);t+=String.fromCharCode(r)}return t},o.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},o.prototype._readTerminatedString=function(){for(var e="";this._cursor.offset-this._offset<this._raw.byteLength;){var t=this._readUint(8);if(0===t)break;e+=String.fromCharCode(t)}return e},o.prototype._readData=function(e){var t=e>0?e:this._raw.byteLength-(this._cursor.offset-this._offset);if(t>0){var n=new Uint8Array(this._raw.buffer,this._cursor.offset,t);return this._cursor.offset+=t,n}return null},o.prototype._readUTF8String=function(){var e=this._raw.byteLength-(this._cursor.offset-this._offset),t=null;return e>0&&(t=new DataView(this._raw.buffer,this._cursor.offset,e),this._cursor.offset+=e),t?r.Utils.dataViewToString(t):t},o.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},o.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},o.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(o.parse(this))},o.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)},o.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.size+=this.boxes[e].getLength();return this._data&&this._writeData(this._data),this.size},o.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.boxes[e].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},o.prototype._writeInt=function(e,t){if(this._rawo){var n=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setInt8(n,t);break;case 16:this._rawo.setInt16(n,t);break;case 32:this._rawo.setInt32(n,t);break;case 64:var r=Math.floor(t/Math.pow(2,32)),i=t-r*Math.pow(2,32);this._rawo.setUint32(n,r),this._rawo.setUint32(n+4,i)}this._cursor.offset+=e>>3}else this.size+=e>>3},o.prototype._writeUint=function(e,t){if(this._rawo){var n,r,i=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setUint8(i,t);break;case 16:this._rawo.setUint16(i,t);break;case 24:n=(16776960&t)>>8,r=255&t,this._rawo.setUint16(i,n),this._rawo.setUint8(i+2,r);break;case 32:this._rawo.setUint32(i,t);break;case 64:r=t-(n=Math.floor(t/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(i,n),this._rawo.setUint32(i+4,r)}this._cursor.offset+=e>>3}else this.size+=e>>3},o.prototype._writeString=function(e,t){for(var n=0;n<e;n++)this._writeUint(8,t.charCodeAt(n))},o.prototype._writeTerminatedString=function(e){if(0!==e.length){for(var t=0;t<e.length;t++)this._writeUint(8,e.charCodeAt(t));this._writeUint(8,0)}},o.prototype._writeTemplate=function(e,t){var n=Math.floor(t),r=(t-n)*Math.pow(2,e/2);this._writeUint(e/2,n),this._writeUint(e/2,r)},o.prototype._writeData=function(e){if(e)if(this._rawo){if(e instanceof Array){for(var t=this._cursor.offset-this._rawo.byteOffset,n=0;n<e.length;n++)this._rawo.setInt8(t+n,e[n]);this._cursor.offset+=e.length}e instanceof Uint8Array&&(this._root.bytes.set(e,this._cursor.offset),this._cursor.offset+=e.length)}else this.size+=e.length},o.prototype._writeUTF8String=function(e){var t=r.Utils.utf8ToByteArray(e);if(this._rawo)for(var n=new DataView(this._rawo.buffer,this._cursor.offset,t.length),i=0;i<t.length;i++)n.setUint8(i,t[i]);else this.size+=t.length},o.prototype._writeField=function(e,t,n){switch(e){case"uint":this._writeUint(t,n);break;case"int":this._writeInt(t,n);break;case"template":this._writeTemplate(t,n);break;case"string":-1==t?this._writeTerminatedString(n):this._writeString(t,n);break;case"data":this._writeData(n);break;case"utf8":this._writeUTF8String(n)}},o.prototype._boxProcessors.avc1=o.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},o.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},o.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"segment_duration","uint",1===this.version?64:32),this._procEntryField(e,"media_time","int",1===this.version?64:32),this._procEntryField(e,"media_rate_integer","int",16),this._procEntryField(e,"media_rate_fraction","int",16)})},o.prototype._boxProcessors.emsg=function(){this._procFullBox(),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("message_data","data",-1)},o.prototype._boxProcessors.free=o.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},o.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},o.prototype._boxProcessors.ftyp=o.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var e=-1;this._parsing&&(e=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",e,"string",4)},o.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},o.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},o.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},o.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},o.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},o.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},o.prototype._boxProcessors.mp4a=o.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},o.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},o.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},o.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},o.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},o.prototype._boxProcessors.sdtp=function(){this._procFullBox();var e=-1;this._parsing&&(e=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",e,"uint",8)},o.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(e){this._parsing||(e.reference=(1&e.reference_type)<<31,e.reference|=2147483647&e.referenced_size,e.sap=(1&e.starts_with_SAP)<<31,e.sap|=(3&e.SAP_type)<<28,e.sap|=268435455&e.SAP_delta_time),this._procEntryField(e,"reference","uint",32),this._procEntryField(e,"subsegment_duration","uint",32),this._procEntryField(e,"sap","uint",32),this._parsing&&(e.reference_type=e.reference>>31&1,e.referenced_size=2147483647&e.reference,e.starts_with_SAP=e.sap>>31&1,e.SAP_type=e.sap>>28&7,e.SAP_delta_time=268435455&e.sap)})},o.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},o.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(e){this._procEntryField(e,"ranges_count","uint",32),this._procSubEntries(e,"ranges",e.ranges_count,function(e){this._procEntryField(e,"level","uint",8),this._procEntryField(e,"range_size","uint",24)})})},o.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},o.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"sample_delta","uint",32),this._procEntryField(e,"subsample_count","uint",16),this._procSubEntries(e,"subsamples",e.subsample_count,function(e){this._procEntryField(e,"subsample_size","uint",1===this.version?32:16),this._procEntryField(e,"subsample_priority","uint",8),this._procEntryField(e,"discardable","uint",8),this._procEntryField(e,"codec_specific_parameters","uint",32)})})},o.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},o.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},o.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},o.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(e){this._procEntryField(e,"time","uint",1===this.version?64:32),this._procEntryField(e,"moof_offset","uint",1===this.version?64:32),this._procEntryField(e,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(e,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(e,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},o.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},o.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},o.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(e){256&this.flags&&this._procEntryField(e,"sample_duration","uint",32),512&this.flags&&this._procEntryField(e,"sample_size","uint",32),1024&this.flags&&this._procEntryField(e,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(e,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},o.prototype._boxProcessors["url "]=o.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},o.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},o.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},o.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},o.prototype._boxProcessors.vtte=function(){}},{}],11:[function(e,t,n){(function(e){function q(e){return Object.prototype.toString.call(e)}n.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===q(e)},n.isBoolean=function(e){return"boolean"==typeof e},n.isNull=function(e){return null===e},n.isNullOrUndefined=function(e){return null==e},n.isNumber=function(e){return"number"==typeof e},n.isString=function(e){return"string"==typeof e},n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=function(e){return void 0===e},n.isRegExp=function(e){return"[object RegExp]"===q(e)},n.isObject=function(e){return"object"==typeof e&&null!==e},n.isDate=function(e){return"[object Date]"===q(e)},n.isError=function(e){return"[object Error]"===q(e)||e instanceof Error},n.isFunction=function(e){return"function"==typeof e},n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e.isBuffer}).call(this,{isBuffer:e(23)})},{23:23}],12:[function(t,n,r){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(e){return"function"==typeof e}function g(e){return"object"==typeof e&&null!==e}function h(e){return void 0===e}n.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},d.prototype.emit=function(t){var n,r,i,o,a,s;if(this._events||(this._events={}),"error"===t&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if((n=arguments[1])instanceof Error)throw n;throw TypeError('Uncaught, unspecified "error" event.')}if(h(r=this._events[t]))return!1;if(e(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,o=new Array(i-1),a=1;a<i;a++)o[a-1]=arguments[a];r.apply(this,o)}else if(g(r)){for(i=arguments.length,o=new Array(i-1),a=1;a<i;a++)o[a-1]=arguments[a];for(i=(s=r.slice()).length,a=0;a<i;a++)s[a].apply(this,o)}return!0},d.prototype.addListener=function(t,n){var r;if(!e(n))throw TypeError("listener must be a function");(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,e(n.listener)?n.listener:n),this._events[t]?g(this._events[t])?this._events[t].push(n):this._events[t]=[this._events[t],n]:this._events[t]=n,g(this._events[t])&&!this._events[t].warned)&&((r=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.trace));return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(t,n){function c(){this.removeListener(t,c),r||(r=!0,n.apply(this,arguments))}if(!e(n))throw TypeError("listener must be a function");var r=!1;return c.listener=n,this.on(t,c),this},d.prototype.removeListener=function(t,n){var r,i,o,a;if(!e(n))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(r=this._events[t]).length,i=-1,r===n||e(r.listener)&&r.listener===n)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,n);else if(g(r)){for(a=o;a-- >0;)if(r[a]===n||r[a].listener&&r[a].listener===n){i=a;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,n)}return this},d.prototype.removeAllListeners=function(t){var n,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(n in this._events)"removeListener"!==n&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events={},this}if(e(r=this._events[t]))this.removeListener(t,r);else for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},d.prototype.listeners=function(t){return this._events&&this._events[t]?e(this._events[t])?[this._events[t]]:this._events[t].slice():[]},d.listenerCount=function(t,n){return t._events&&t._events[n]?e(t._events[n])?1:t._events[n].length:0}},{}],13:[function(e,t,n){"use strict";var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;t.exports=function a(e,t){if(e===t)return!0;var n,s,l,u=r(e),d=r(t);if(u&&d){if((s=e.length)!=t.length)return!1;for(n=0;n<s;n++)if(!a(e[n],t[n]))return!1;return!0}if(u!=d)return!1;var c=e instanceof Date,f=t instanceof Date;if(c!=f)return!1;if(c&&f)return e.getTime()==t.getTime();var h=e instanceof RegExp,p=t instanceof RegExp;if(h!=p)return!1;if(h&&p)return e.toString()==t.toString();if(e instanceof Object&&t instanceof Object){var g=i(e);if((s=g.length)!==i(t).length)return!1;for(n=0;n<s;n++)if(!o.call(t,g[n]))return!1;for(n=0;n<s;n++)if(!a(e[l=g[n]],t[l]))return!1;return!0}return!1}},{}],14:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,d=-7,c=n?i-1:0,f=n?-1:1,h=e[t+c];for(c+=f,o=h&(1<<-d)-1,h>>=-d,d+=s;d>0;o=256*o+e[t+c],c+=f,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=r;d>0;a=256*a+e[t+c],c+=f,d-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,d=(1<<u)-1,c=d>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+c>=1?f/l:f*Math.pow(2,1-c))*l>=2&&(a++,l/=2),a+c>=d?(s=0,a=d):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*g}},{}],15:[function(e,t,n){!function(e,a,d,c,v){function f(e){this.node=e}function g(){this.events=[],this.head=null,this.body=null}function h(){this.styling=null,this.layout=null}function i(){this.styles={}}function j(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function k(){this.regions={}}function l(e){this.kind=e,this.begin=null,this.end=null,this.styleAttrs=null,this.regionID=null,this.sets=null,this.timeContainer=null}function m(){l.call(this,"body")}function n(){l.call(this,"div")}function o(){l.call(this,"p")}function p(){l.call(this,"span"),this.space=null}function q(){l.call(this,"span"),this.space=null,this.text=null}function r(){l.call(this,"br")}function s(){this.id=null,this.begin=null,this.end=null,this.styleAttrs=null,this.sets=null}function t(){this.begin=null,this.end=null,this.qname=null,this.value=null}function u(e){return e&&"xml:id"in e.attributes&&e.attributes["xml:id"].value||null}function x(e){return e&&"style"in e.attributes?e.attributes.style.value.split(" "):[]}function y(e,t){var n={};if(null!==e)for(var r in e.attributes){var i=e.attributes[r].uri+" "+e.attributes[r].local,o=c.byQName[i];if(void 0!==o){var a=o.parse(e.attributes[r].value);null!==a?(n[i]=a,o===c.byName.zIndex&&J(t,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):K(t,"Cannot parse styling attribute "+i+" --\x3e "+e.attributes[r].value)}}return n}function z(e,t,n){for(var r in e.attributes)if(e.attributes[r].uri===t&&e.attributes[r].local===n)return e.attributes[r].value;return null}function D(e,t){var n=z(e,d.ns_tts,"extent");if(null===n)return null;var r=n.split(" ");if(2!==r.length)return J(t,"Malformed extent (ignoring)"),null;var i=v.parseLength(r[0]),o=v.parseLength(r[1]);return o&&i?{h:o,w:i}:(J(t,"Malformed extent values (ignoring)"),null)}function E(e,t,n){var r,i=null;return null!==(r=/^(\d+(?:\.\d+)?)f$/.exec(n))?null!==t&&(i=parseFloat(r[1])/t):null!==(r=/^(\d+(?:\.\d+)?)t$/.exec(n))?null!==e&&(i=parseFloat(r[1])/e):null!==(r=/^(\d+(?:\.\d+)?)ms$/.exec(n))?i=parseFloat(r[1])/1e3:null!==(r=/^(\d+(?:\.\d+)?)s$/.exec(n))?i=parseFloat(r[1]):null!==(r=/^(\d+(?:\.\d+)?)h$/.exec(n))?i=3600*parseFloat(r[1]):null!==(r=/^(\d+(?:\.\d+)?)m$/.exec(n))?i=60*parseFloat(r[1]):null!==(r=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(n))?i=3600*parseInt(r[1])+60*parseInt(r[2])+parseFloat(r[3]):null!==(r=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(n))&&null!==t&&(i=3600*parseInt(r[1])+60*parseInt(r[2])+parseInt(r[3])+(null===r[4]?0:parseInt(r[4])/t)),i}function F(e,t,n,r){var i=t&&"seq"===t.timeContainer,o=0;n&&"begin"in n.attributes&&null===(o=E(e.tickRate,e.effectiveFrameRate,n.attributes.begin.value))&&(J(r,"Malformed begin value "+n.attributes.begin.value+" (using 0)"),o=0);var a=i?0:null;n&&"dur"in n.attributes&&null===(a=E(e.tickRate,e.effectiveFrameRate,n.attributes.dur.value))&&J(r,"Malformed dur value "+n.attributes.dur.value+" (ignoring)");var s=null;n&&"end"in n.attributes&&null===(s=E(e.tickRate,e.effectiveFrameRate,n.attributes.end.value))&&J(r,"Malformed end value (ignoring)");var l=0;if(t&&(l=i&&"contents"in t&&t.contents.length>0?t.contents[t.contents.length-1].end:t.begin||0),o+=l,null!==a)s=o+a;else{var u=t&&"end"in t?t.end:Number.POSITIVE_INFINITY;s=null!==s?s+l:u}return{begin:o,end:s}}function G(e,t,n){for(;t.styleRefs.length>0;){var r=t.styleRefs.pop();r in e.styles?(G(e,e.styles[r],n),I(e.styles[r].styleAttrs,t.styleAttrs)):K(n,"Non-existant style id referenced")}}function H(e,t,n,r){for(var i=t.length-1;i>=0;i--){var o=t[i];o in e.styles?I(e.styles[o].styleAttrs,n):K(r,"Non-existant style id referenced")}}function I(e,t){for(var n in e)n in t||(t[n]=e[n])}function J(e,t){if(e&&e.warn&&e.warn(t))throw t}function K(e,t){if(e&&e.error&&e.error(t))throw t}function L(e,t){throw e&&e.fatal&&e.fatal(t),t}function M(e,t){for(var n,r=0,i=e.length-1;r<=i;){var o=e[n=Math.floor((r+i)/2)];if(o<t)r=n+1;else{if(!(o>t))return{found:!0,index:n};i=n-1}}return{found:!1,index:r}}e.fromXML=function(e,l,u){var c=a.parser(!0,{xmlns:!0}),y=[],v=[],_=[],T=0,E=null;c.onclosetag=function(e){if(y[0]instanceof i)for(var t in y[0].styles)G(y[0],y[0].styles[t],l);else if(y[0]instanceof o||y[0]instanceof p){if(y[0].contents.length>1){var n,r=[y[0].contents[0]];for(n=1;n<y[0].contents.length;n++)y[0].contents[n]instanceof q&&r[r.length-1]instanceof q?r[r.length-1].text+=y[0].contents[n].text:r.push(y[0].contents[n]);y[0].contents=r}y[0]instanceof p&&1===y[0].contents.length&&y[0].contents[0]instanceof q&&null===y[0].text&&(y[0].text=y[0].contents[0].text,delete y[0].contents)}else y[0]instanceof f&&(y[0].node.uri===d.ns_tt&&"metadata"===y[0].node.local?T--:T>0&&u&&"onCloseTag"in u&&u.onCloseTag());_.shift(),v.shift(),y.shift()},c.ontext=function(e){if(void 0===y[0]);else if(y[0]instanceof p||y[0]instanceof o){var t=new q;t.initFromText(E,y[0],e,_[0],l),y[0].contents.push(t)}else y[0]instanceof f&&T>0&&u&&"onText"in u&&u.onText(e)},c.onopentag=function(e){var a=e.attributes["xml:space"];a?_.unshift(a.value):0===_.length?_.unshift("default"):_.unshift(_[0]);var c=e.attributes["xml:lang"];if(c?v.unshift(c.value):0===v.length?v.unshift(""):v.unshift(v[0]),e.uri===d.ns_tt)if("tt"===e.local)null!==E&&L("Two <tt> elements at ("+this.line+","+this.column+")"),(E=new g).initFromNode(e,l),y.unshift(E);else if("head"===e.local)y[0]instanceof g||L("Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),null!==E.head&&L("Second <head> element at ("+this.line+","+this.column+")"),E.head=new h,y.unshift(E.head);else if("styling"===e.local)y[0]instanceof h||L("Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),null!==E.head.styling&&L("Second <styling> element at ("+this.line+","+this.column+")"),E.head.styling=new i,y.unshift(E.head.styling);else if("style"===e.local){var b;y[0]instanceof i?((b=new j).initFromNode(e,l),b.id?E.head.styling.styles[b.id]=b:K("<style> element missing @id attribute"),y.unshift(b)):y[0]instanceof s?((b=new j).initFromNode(e,l),I(b.styleAttrs,y[0].styleAttrs),y.unshift(b)):L(l,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("layout"===e.local)y[0]instanceof h||L(l,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),null!==E.head.layout&&L(l,"Second <layout> element at "+this.line+","+this.column+")"),E.head.layout=new k,y.unshift(E.head.layout);else if("region"===e.local){y[0]instanceof k||L(l,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var A=new s;A.initFromNode(E,e,l),!A.id||A.id in E.head.layout.regions?K(l,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):(E.head.layout.regions[A.id]=A,E._registerEvent(A)),y.unshift(A)}else if("body"===e.local){y[0]instanceof g||L(l,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==E.body&&L(l,"Second <body> element at "+this.line+","+this.column+")");var S=new m;S.initFromNode(E,e,l),E._registerEvent(S),E.body=S,y.unshift(S)}else if("div"===e.local){y[0]instanceof n||y[0]instanceof m||L(l,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var w=new n;w.initFromNode(E,y[0],e,l),E._registerEvent(w),y[0].contents.push(w),y.unshift(w)}else if("p"===e.local){y[0]instanceof n||L(l,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var C=new o;C.initFromNode(E,y[0],e,l),E._registerEvent(C),y[0].contents.push(C),y.unshift(C)}else if("span"===e.local){y[0]instanceof p||y[0]instanceof o||L(l,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var M=new p;M.initFromNode(E,y[0],e,_[0],l),E._registerEvent(M),y[0].contents.push(M),y.unshift(M)}else if("br"===e.local){y[0]instanceof p||y[0]instanceof o||L(l,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var O=new r;O.initFromNode(E,y[0],e,l),E._registerEvent(O),y[0].contents.push(O),y.unshift(O)}else if("set"===e.local){y[0]instanceof p||y[0]instanceof o||y[0]instanceof n||y[0]instanceof m||y[0]instanceof s||y[0]instanceof r||L(l,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var R=new t;R.initFromNode(E,y[0],e,l),E._registerEvent(R),y[0].sets.push(R),y.unshift(R)}else y.unshift(new f(e));else y.unshift(new f(e));if(y[0]instanceof f)if(e.uri===d.ns_tt&&"metadata"===e.local)T++;else if(T>0&&u&&"onOpenTag"in u){var P=[];for(var D in e.attributes)P[e.attributes[D].uri+" "+e.attributes[D].local]={uri:e.attributes[D].uri,local:e.attributes[D].local,value:e.attributes[D].value};u.onOpenTag(e.uri,e.local,P)}},c.write(e).close(),null!==E.head?delete E.head.styling:E.head=new h,null===E.head.layout&&(E.head.layout=new k);var b=!1;for(var A in E.head.layout.regions){b=!0;break}if(!b){var S=s.createDefaultRegion();E.head.layout.regions[S.id]=S}return E},g.prototype.initFromNode=function(e,t){this.cellResolution=function(e,t){var n=z(e,d.ns_ttp,"cellResolution"),r=15,i=32;if(null!==n){var o=/(\d+) (\d+)/.exec(n);null!==o?(i=parseInt(o[1]),r=parseInt(o[2])):J(t,"Malformed cellResolution value (using initial value instead)")}return{w:i,h:r}}(e,t);var n=function(e,t){var n,r=z(e,d.ns_ttp,"frameRate"),i=30;null!==r&&(null!==(n=/(\d+)/.exec(r))?i=parseInt(n[1]):J(t,"Malformed frame rate attribute (using initial value instead)"));var o=z(e,d.ns_ttp,"frameRateMultiplier"),a=1;null!==o&&(null!==(n=/(\d+) (\d+)/.exec(o))?a=parseInt(n[1])/parseInt(n[2]):J(t,"Malformed frame rate multiplier attribute (using initial value instead)"));var s=a*i,l=1,u=z(e,d.ns_ttp,"tickRate");return null===u?null!==r&&(l=s):null!==(n=/(\d+)/.exec(u))?l=parseInt(n[1]):J(t,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:s,tickRate:l}}(e,t);this.effectiveFrameRate=n.effectiveFrameRate,this.tickRate=n.tickRate,this.aspectRatio=function(e,t){var n=z(e,d.ns_ittp,"aspectRatio"),r=null;if(null!==n){var i=/(\d+) (\d+)/.exec(n);if(null!==i){var o=parseInt(i[1]),a=parseInt(i[2]);0!==o&&0!==a?r=o/a:K(t,"Illegal aspectRatio values (ignoring)")}else K(t,"Malformed aspectRatio attribute (ignoring)")}return r}(e,t);var r=z(e,d.ns_ttp,"timeBase");null!==r&&"media"!==r&&L(t,"Unsupported time base");var i=D(e,t);null===i?this.pxDimensions={h:480,w:640}:("px"===i.h.unit&&"px"===i.w.unit||L(t,"Extent on TT must be in px or absent"),this.pxDimensions={h:i.h.value,w:i.w.value})},g.prototype._registerEvent=function(e){if(!(e.end<=e.begin)){var t=M(this.events,e.begin);if(t.found||this.events.splice(t.index,0,e.begin),e.end!==Number.POSITIVE_INFINITY){var n=M(this.events,e.end);n.found||this.events.splice(n.index,0,e.end)}}},g.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},g.prototype.getMediaTimeEvents=function(){return this.events},j.prototype.initFromNode=function(e,t){this.id=u(e),this.styleAttrs=y(e,t),this.styleRefs=x(e)},l.prototype.initFromNode=function(e,t,n,r){var i=F(e,t,n,r);this.begin=i.begin,this.end=i.end,this.styleAttrs=y(n,r),null!==e.head&&null!==e.head.styling&&H(e.head.styling,x(n),this.styleAttrs,r),this.regionID=function(e){return e&&"region"in e.attributes?e.attributes.region.value:""}(n),this.sets=[],this.timeContainer=function(e,t){var n=e&&"timeContainer"in e.attributes?e.attributes.timeContainer.value:null;return n&&"par"!==n?"seq"===n?"seq":(K(t,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(n,r)},m.prototype.initFromNode=function(e,t,n){l.prototype.initFromNode.call(this,e,null,t,n),this.contents=[]},n.prototype.initFromNode=function(e,t,n,r){l.prototype.initFromNode.call(this,e,t,n,r),this.contents=[]},o.prototype.initFromNode=function(e,t,n,r){l.prototype.initFromNode.call(this,e,t,n,r),this.contents=[]},p.prototype.initFromNode=function(e,t,n,r,i){l.prototype.initFromNode.call(this,e,t,n,i),this.space=r,this.contents=[]},q.prototype.initFromText=function(e,t,n,r,i){l.prototype.initFromNode.call(this,e,t,null,i),this.text=n,this.space=r},r.prototype.initFromNode=function(e,t,n,r){l.prototype.initFromNode.call(this,e,t,n,r)},s.createDefaultRegion=function(){var e=new s;return e.id="",e.begin=0,e.end=Number.POSITIVE_INFINITY,e.styleAttrs={},e.sets=[],e},s.prototype.initFromNode=function(e,t,n){this.id=u(t);var r=F(e,null,t,n);this.begin=r.begin,this.end=r.end,this.styleAttrs=y(t,n),this.sets=[],null!==e.head&&null!==e.head.styling&&H(e.head.styling,x(t),this.styleAttrs,n)},t.prototype.initFromNode=function(e,t,n,r){var i=F(e,t,n,r);this.begin=i.begin,this.end=i.end;var o=y(n,r);for(var a in o){if(this.qname){K(r,"More than one style specified on set");break}this.qname=a,this.value=o[a]}}}(void 0===n?this.imscDoc={}:n,"undefined"==typeof sax?e(41):sax,"undefined"==typeof imscNames?e(19):imscNames,"undefined"==typeof imscStyles?e(20):imscStyles,"undefined"==typeof imscUtils?e(21):imscUtils)},{19:19,20:20,21:21,41:41}],16:[function(e,t,n){!function(e,t,n){function d(e,t,o){var a;if("region"===o.kind?(a=document.createElement("div")).style.position="absolute":"body"===o.kind?a=document.createElement("div"):"div"===o.kind?a=document.createElement("div"):"p"===o.kind?a=document.createElement("p"):"span"===o.kind?a=document.createElement("span"):"br"===o.kind&&(a=document.createElement("br")),a){for(var s in a.style.margin="0",r){var l=r[s],u=o.styleAttrs[l.qname];void 0!==u&&null!==l.map&&l.map(e,a,o,u)}var c=a,f=o.styleAttrs[n.byName.multiRowAlign.qname];if(f&&"auto"!==f){var h=document.createElement("span");h.style.display="inline-block",h.style.textAlign=f,a.appendChild(h),c=h,e.mra=f}var p=o.styleAttrs[n.byName.linePadding.qname];if(p&&p>0&&(e.lp=p),"span"===o.kind&&o.text)if(e.lp||e.mra)for(var y=0;y<o.text.length;y++){var v=document.createElement("span");v.textContent=o.text.charAt(y),a.appendChild(v)}else a.textContent=o.text;for(var m in t.appendChild(a),o.contents)d(e,c,o.contents[m]);if((e.lp||e.mra)&&"p"===o.kind){var _=[];(function f(e,t,n){if(0===e.childElementCount)t.push({element:e,bgcolor:n});else for(var r=e.style.backgroundColor||n,i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&f(i,t,r),i=i.nextSibling})(c,_,"red"),i(_,e.lp*e.h),e.lp&&delete e.lp,e.mra&&delete e.mra}if("region"===o.kind){var T=[];g(c,T);var E=o.styleAttrs[n.byName.writingMode.qname];if(("lrtb"===E||"lr"===E||"rltb"===E||"rl"===E)&&e.enableRollUp&&o.contents.length>0&&"after"===o.styleAttrs[n.byName.displayAlign.qname]){var b=new function(e,t){this.id=e,this.plist=t}(""===o.id?"_":o.id,T);if(e.currentISDState[b.id]=b,e.previousISDState&&b.id in e.previousISDState&&e.previousISDState[b.id].plist.length>0&&b.plist.length>1&&b.plist[b.plist.length-2].text===e.previousISDState[b.id].plist[e.previousISDState[b.id].plist.length-1].text){var A=a.firstElementChild;A.style.bottom="-"+b.plist[b.plist.length-1].height+"px",A.style.transition="transform 0.4s",A.style.position="relative",A.style.transform="translateY(-"+b.plist[b.plist.length-1].height+"px)"}}}}else!function(e,t){if(e&&e.error&&e.error(t))throw t}(e.errorHandler,"Error processing ISD element kind: "+o.kind)}function g(e,t){if(0===e.childElementCount&&"span"===e.localName){var n=e.getBoundingClientRect();0!==t.length&&h(n.top,n.height,t[t.length-1].top,t[t.length-1].height)?(n.top<t[t.length-1].top&&(t[t.length-1].top=n.top),n.height>t[t.length-1].height&&(t[t.length-1].height=n.height),t[t.length-1].text+=e.textContent):t.push({top:n.top,height:n.height,text:e.textContent})}else for(var r=e.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&g(r,t),r=r.nextSibling}function h(e,t,n,r){return e+t<n+r&&e>n||n+r<=e+t&&n>=e}function i(e,t){for(var n=null,r=!0,i=!1,o=0;o<=e.length;o++)if(o===e.length||"br"!==e[o].element.localName){if(null===n||o===e.length||!h(e[o].element.getBoundingClientRect().top,e[o].element.getBoundingClientRect().height,e[n].element.getBoundingClientRect().top,e[n].element.getBoundingClientRect().height)){if(t&&!r){for(;--o>=0;)if(0!==e[o].element.getBoundingClientRect().width){if(k(e[o].element,e[o].color,t),0!==e[o].element.getBoundingClientRect().width&&h(e[o].element.getBoundingClientRect().top,e[o].element.getBoundingClientRect().height,e[n].element.getBoundingClientRect().top,e[n].element.getBoundingClientRect().height))break;l(e[o].element)}r=!0;continue}if(o!==e.length&&null!==n&&!i){var a=document.createElement("br");e[o].element.parentElement.insertBefore(a,e[o].element),e.splice(o,0,{element:a}),i=!0;continue}if(o!==e.length&&t)for(;o<e.length;o++)if(0!==e[o].element.getBoundingClientRect().width){j(e[o].element,e[o].color,t);break}r=!1,i=!1,n=o}}else i=!0}function j(e,t,n){e.style.paddingLeft=n+"px",e.style.backgroundColor=t}function k(e,t,n){e.style.paddingRight=n+"px",e.style.backgroundColor=t}function l(e){e.style.paddingRight=null}function m(e,t){this.qname=e,this.map=t}e.render=function(e,t,n,r,i,o,a,s,l){var u=r||t.clientHeight,c=i||t.clientWidth;if(null!==e.aspectRatio){var f=u*e.aspectRatio;f>c?u=Math.round(c/e.aspectRatio):c=f}var h=document.createElement("div");h.style.position="relative",h.style.width=c+"px",h.style.height=u+"px",h.style.margin="auto",h.style.top=0,h.style.bottom=0,h.style.left=0,h.style.right=0,h.style.zIndex=0;var p={h:u,w:c,regionH:null,regionW:null,imgResolver:n,displayForcedOnlyMode:o||!1,isd:e,errorHandler:a,previousISDState:s,enableRollUp:l||!1,currentISDState:{}};for(var g in t.appendChild(h),e.contents)d(p,h,e.contents[g]);return p.currentISDState};var r=[new m("http://www.w3.org/ns/ttml#styling backgroundColor",function(e,t,n,r){t.style.backgroundColor="rgba("+r[0].toString()+","+r[1].toString()+","+r[2].toString()+","+(r[3]/255).toString()+")"}),new m("http://www.w3.org/ns/ttml#styling color",function(e,t,n,r){t.style.color="rgba("+r[0].toString()+","+r[1].toString()+","+r[2].toString()+","+(r[3]/255).toString()+")"}),new m("http://www.w3.org/ns/ttml#styling direction",function(e,t,n,r){t.style.direction=r}),new m("http://www.w3.org/ns/ttml#styling display",function(e,t,n,r){}),new m("http://www.w3.org/ns/ttml#styling displayAlign",function(e,t,n,r){t.style.display="flex",t.style.flexDirection="column","before"===r?t.style.justifyContent="flex-start":"center"===r?t.style.justifyContent="center":"after"===r&&(t.style.justifyContent="flex-end")}),new m("http://www.w3.org/ns/ttml#styling extent",function(e,t,n,r){e.regionH=r.h*e.h,e.regionW=r.w*e.w;var i=0,o=0,a=n.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];a&&(i=(a[0]+a[2])*e.h,o=(a[1]+a[3])*e.w),t.style.height=e.regionH-i+"px",t.style.width=e.regionW-o+"px"}),new m("http://www.w3.org/ns/ttml#styling fontFamily",function(e,t,n,r){var i=[];for(var o in r)"monospaceSerif"===r[o]?(i.push("Courier New"),i.push('"Liberation Mono"'),i.push("Courier"),i.push("monospace")):"proportionalSansSerif"===r[o]?(i.push("Arial"),i.push("Helvetica"),i.push('"Liberation Sans"'),i.push("sans-serif")):"monospace"===r[o]?i.push("monospace"):"sansSerif"===r[o]?i.push("sans-serif"):"serif"===r[o]?i.push("serif"):"monospaceSansSerif"===r[o]?(i.push("Consolas"),i.push("monospace")):"proportionalSerif"===r[o]?i.push("serif"):i.push(r[o]);t.style.fontFamily=i.join(",")}),new m("http://www.w3.org/ns/ttml#styling fontSize",function(e,t,n,r){t.style.fontSize=r*e.h+"px"}),new m("http://www.w3.org/ns/ttml#styling fontStyle",function(e,t,n,r){t.style.fontStyle=r}),new m("http://www.w3.org/ns/ttml#styling fontWeight",function(e,t,n,r){t.style.fontWeight=r}),new m("http://www.w3.org/ns/ttml#styling lineHeight",function(e,t,n,r){t.style.lineHeight="normal"===r?"normal":r*e.h+"px"}),new m("http://www.w3.org/ns/ttml#styling opacity",function(e,t,n,r){t.style.opacity=r}),new m("http://www.w3.org/ns/ttml#styling origin",function(e,t,n,r){t.style.top=r.h*e.h+"px",t.style.left=r.w*e.w+"px"}),new m("http://www.w3.org/ns/ttml#styling overflow",function(e,t,n,r){t.style.overflow=r}),new m("http://www.w3.org/ns/ttml#styling padding",function(e,t,n,r){var i=[];i[0]=r[0]*e.h+"px",i[1]=r[3]*e.w+"px",i[2]=r[2]*e.h+"px",i[3]=r[1]*e.w+"px",t.style.padding=i.join(" ")}),new m("http://www.w3.org/ns/ttml#styling showBackground",null),new m("http://www.w3.org/ns/ttml#styling textAlign",function(e,t,r,i){var o,a=r.styleAttrs[n.byName.direction.qname];o="start"===i?"rtl"===a?"right":"left":"end"===i?"rtl"===a?"left":"right":i,t.style.textAlign=o}),new m("http://www.w3.org/ns/ttml#styling textDecoration",function(e,t,n,r){t.style.textDecoration=r.join(" ").replace("lineThrough","line-through")}),new m("http://www.w3.org/ns/ttml#styling textOutline",function(e,t,n,r){t.style.textShadow="none"===r?"":"rgba("+r.color[0].toString()+","+r.color[1].toString()+","+r.color[2].toString()+","+(r.color[3]/255).toString()+") 0px 0px "+r.thickness*e.h+"px"}),new m("http://www.w3.org/ns/ttml#styling unicodeBidi",function(e,t,n,r){var i;i="bidiOverride"===r?"bidi-override":r,t.style.unicodeBidi=i}),new m("http://www.w3.org/ns/ttml#styling visibility",function(e,t,n,r){t.style.visibility=r}),new m("http://www.w3.org/ns/ttml#styling wrapOption",function(e,t,n,r){"wrap"===r?"preserve"===n.space?t.style.whiteSpace="pre-wrap":t.style.whiteSpace="normal":"preserve"===n.space?t.style.whiteSpace="pre":t.style.whiteSpace="noWrap"}),new m("http://www.w3.org/ns/ttml#styling writingMode",function(e,t,n,r){"lrtb"===r||"lr"===r?t.style.writingMode="horizontal-tb":"rltb"===r||"rl"===r?t.style.writingMode="horizontal-tb":"tblr"===r?t.style.writingMode="vertical-lr":"tbrl"!==r&&"tb"!==r||(t.style.writingMode="vertical-rl")}),new m("http://www.w3.org/ns/ttml#styling zIndex",function(e,t,n,r){t.style.zIndex=r}),new m("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage",function(e,t,n,r){if(null!==e.imgResolver&&null!==r){var i=document.createElement("img"),o=e.imgResolver(r,i);o&&(i.src=o),i.height=e.regionH,i.width=e.regionW,t.appendChild(i)}}),new m("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(e,t,n,r){e.displayForcedOnlyMode&&!1===r&&(t.style.visibility="hidden")})],o={};for(var a in r)o[r[a].qname]=r[a]}(void 0===n?this.imscHTML={}:n,"undefined"==typeof imscNames?e(19):imscNames,"undefined"==typeof imscStyles?e(20):imscStyles)},{19:19,20:20}],17:[function(e,t,n){!function(e,t,n){function d(e,t,r,o,a,s,l,u){if(t<l.begin||t>=l.end)return null;var c="regionID"in l&&""!==l.regionID?l.regionID:s;if(null!==a&&c!==r.id&&(!("contents"in l)||"contents"in l&&0===l.contents.length||""!==c))return null;var f=new function(e){for(var t in this.kind=e.kind||"region",e.id&&(this.id=e.id),this.styleAttrs={},e.styleAttrs)this.styleAttrs[t]=e.styleAttrs[t];"text"in e?this.text=e.text:"br"!==e.kind&&(this.contents=[]),"space"in e&&(this.space=e.space)}(l);for(var h in l.sets)t<l.sets[h].begin||t>=l.sets[h].end||(f.styleAttrs[l.sets[h].qname]=l.sets[h].value);var p,g={};for(var y in f.styleAttrs)if(g[y]=!0,y===n.byName.writingMode.qname&&!(n.byName.direction.qname in f.styleAttrs)){var v=f.styleAttrs[y];"lrtb"===v||"lr"===v?f.styleAttrs[n.byName.direction.qname]="ltr":"rltb"!==v&&"rl"!==v||(f.styleAttrs[n.byName.direction.qname]="rtl")}if(null!==a)for(var m in n.all){var _=n.all[m];if(_.qname===n.byName.textDecoration.qname){var T=a.styleAttrs[_.qname],E=f.styleAttrs[_.qname],b=[];void 0===E?b=T:-1===E.indexOf("none")?((-1===E.indexOf("noUnderline")&&-1!==T.indexOf("underline")||-1!==E.indexOf("underline"))&&b.push("underline"),(-1===E.indexOf("noLineThrough")&&-1!==T.indexOf("lineThrough")||-1!==E.indexOf("lineThrough"))&&b.push("lineThrough"),(-1===E.indexOf("noOverline")&&-1!==T.indexOf("overline")||-1!==E.indexOf("overline"))&&b.push("overline")):b.push("none"),f.styleAttrs[_.qname]=b}else _.inherit&&_.qname in a.styleAttrs&&!(_.qname in f.styleAttrs)&&(f.styleAttrs[_.qname]=a.styleAttrs[_.qname])}for(var A in n.all){var S=n.all[A];S.qname in f.styleAttrs||("region"===f.kind||!1===S.inherit&&null!==S.initial)&&(f.styleAttrs[S.qname]=S.parse(S.initial),g[S.qname]=!0)}for(var w in n.all){var C=n.all[w];if(C.qname in g&&null!==C.compute){var I=C.compute(e,a,f,f.styleAttrs[C.qname]);null!==I?f.styleAttrs[C.qname]=I:i(u,"Style '"+C.qname+"' on element '"+f.kind+"' cannot be computed")}}if("none"===f.styleAttrs[n.byName.display.qname])return null;for(var M in null===a?p=null===o?[]:[o]:"contents"in l&&(p=l.contents),p){var O=d(e,t,r,o,f,c,p[M]);null!==O&&f.contents.push(O.element)}for(var R in f.styleAttrs)-1===n.byQName[R].applies.indexOf(f.kind)&&delete f.styleAttrs[R];if("span"===f.kind&&f.text&&"default"===f.space){var P=f.text.replace(/\s+/g," ");f.text=P}if("p"===f.kind){var D=[];!function e(t,n){if("contents"in t)for(var r in t.contents)e(t.contents[r],n);else n.push(t)}(f,D);for(var N=0,x="after_br",k=0;;)if("after_br"===x)N>=D.length||"br"===D[N].kind?(x="before_br",k=N,N--):("preserve"!==D[N].space&&(D[N].text=D[N].text.replace(/^\s+/g,"")),D[N].text.length>0?(x="looking_br",N++):D.splice(N,1));else if("before_br"===x)if(N<0||"br"===D[N].kind){if(x="after_br",(N=k+1)>=D.length)break}else if("preserve"!==D[N].space&&(D[N].text=D[N].text.replace(/\s+$/g,"")),D[N].text.length>0){if(x="after_br",(N=k+1)>=D.length)break}else D.splice(N,1),N--;else N>=D.length||"br"===D[N].kind?(x="before_br",k=N,N--):N++;!function f(e){if("br"===e.kind)return!1;if("text"in e)return 0===e.text.length;if("contents"in e){for(var t=e.contents.length;t--;)f(e.contents[t])&&e.contents.splice(t,1);return 0===e.contents.length}}(f)}return"div"===f.kind&&n.byName.backgroundImage.qname in f.styleAttrs||"br"===f.kind||"contents"in f&&f.contents.length>0||"span"===f.kind&&null!==f.text||"region"===f.kind&&"always"===f.styleAttrs[n.byName.showBackground.qname]?{region_id:c,element:f}:null}function i(e,t){if(e&&e.error&&e.error(t))throw t}e.generateISD=function(e,t,n){var r=new function(e){this.contents=[],this.aspectRatio=e.aspectRatio}(e);for(var i in e.head.layout.regions){var o=d(e,t,e.head.layout.regions[i],e.body,null,"",e.head.layout.regions[i],n);null!==o&&r.contents.push(o.element)}return r}}(void 0===n?this.imscISD={}:n,"undefined"==typeof imscNames?e(19):imscNames,"undefined"==typeof imscStyles?e(20):imscStyles)},{19:19,20:20}],18:[function(e,t,n){n.generateISD=e(17).generateISD,n.fromXML=e(15).fromXML,n.renderHTML=e(16).render},{15:15,16:16,17:17}],19:[function(e,t,n){!function(e){e.ns_tt="http://www.w3.org/ns/ttml",e.ns_tts="http://www.w3.org/ns/ttml#styling",e.ns_ttp="http://www.w3.org/ns/ttml#parameter",e.ns_xml="http://www.w3.org/XML/1998/namespace",e.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",e.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",e.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",e.ns_ebutts="urn:ebu:tt:style"}(void 0===n?this.imscNames={}:n)},{}],20:[function(e,t,n){!function(e,t,n){function d(e,t,n,r,i,o,a,s){this.name=t,this.ns=e,this.qname=e+" "+t,this.inherit=i,this.animatable=o,this.initial=n,this.applies=r,this.parse=a,this.compute=s}for(var r in e.all=[new d(t.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,n.parseColor,null),new d(t.ns_tts,"color","white",["span"],!0,!0,n.parseColor,null),new d(t.ns_tts,"direction","ltr",["p","span"],!0,!0,function(e){return e},null),new d(t.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(e){return e},null),new d(t.ns_tts,"displayAlign","before",["region"],!1,!0,function(e){return e},null),new d(t.ns_tts,"extent","auto",["tt","region"],!1,!0,function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var r=n.parseLength(t[0]),i=n.parseLength(t[1]);return i&&r?{h:i,w:r}:null},function(e,t,n,r){var i,o;if("auto"===r)i=1;else if("%"===r.h.unit)i=r.h.value/100;else{if("px"!==r.h.unit)return null;i=r.h.value/e.pxDimensions.h}if("auto"===r)o=1;else if("%"===r.w.unit)o=r.w.value/100;else{if("px"!==r.w.unit)return null;o=r.w.value/e.pxDimensions.w}return{h:i,w:o}}),new d(t.ns_tts,"fontFamily","default",["span"],!0,!0,function(e){var t=e.split(","),n=[];for(var r in t)"'"!==t[r].charAt(0)&&'"'!==t[r].charAt(0)&&"default"===t[r]?n.push("monospaceSerif"):n.push(t[r]);return n},null),new d(t.ns_tts,"fontSize","1c",["span"],!0,!0,n.parseLength,function(t,n,r,i){var o;if("%"===i.unit)o=null!==n?n.styleAttrs[e.byName.fontSize.qname]*i.value/100:i.value/100/t.cellResolution.h;else if("em"===i.unit)o=null!==n?n.styleAttrs[e.byName.fontSize.qname]*i.value:i.value/t.cellResolution.h;else if("c"===i.unit)o=i.value/t.cellResolution.h;else{if("px"!==i.unit)return null;o=i.value/t.pxDimensions.h}return o}),new d(t.ns_tts,"fontStyle","normal",["span"],!0,!0,function(e){return e},null),new d(t.ns_tts,"fontWeight","normal",["span"],!0,!0,function(e){return e},null),new d(t.ns_tts,"lineHeight","normal",["p"],!0,!0,function(e){return"normal"===e?e:n.parseLength(e)},function(t,n,r,i){var o;if("normal"===i)o=i;else if("%"===i.unit)o=r.styleAttrs[e.byName.fontSize.qname]*i.value/100;else if("em"===i.unit)o=r.styleAttrs[e.byName.fontSize.qname]*i.value;else if("c"===i.unit)o=i.value/t.cellResolution.h;else{if("px"!==i.unit)return null;o=i.value/t.pxDimensions.h}return o}),new d(t.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new d(t.ns_tts,"origin","auto",["region"],!1,!0,function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var r=n.parseLength(t[0]),i=n.parseLength(t[1]);return i&&r?{h:i,w:r}:null},function(e,t,n,r){var i,o;if("auto"===r)i=0;else if("%"===r.h.unit)i=r.h.value/100;else{if("px"!==r.h.unit)return null;i=r.h.value/e.pxDimensions.h}if("auto"===r)o=0;else if("%"===r.w.unit)o=r.w.value/100;else{if("px"!==r.w.unit)return null;o=r.w.value/e.pxDimensions.w}return{h:i,w:o}}),new d(t.ns_tts,"overflow","hidden",["region"],!1,!0,function(e){return e},null),new d(t.ns_tts,"padding","0px",["region"],!1,!0,function(e){var t=e.split(" ");if(t.length>4)return null;var r=[];for(var i in t){var o=n.parseLength(t[i]);if(!o)return null;r.push(o)}return r},function(t,n,r,i){var o;if(1===i.length)o=[i[0],i[0],i[0],i[0]];else if(2===i.length)o=[i[0],i[1],i[0],i[1]];else if(3===i.length)o=[i[0],i[1],i[2],i[1]];else{if(4!==i.length)return null;o=[i[0],i[1],i[2],i[3]]}var a=r.styleAttrs[e.byName.writingMode.qname];if("lrtb"===a||"lr"===a)o=[o[0],o[3],o[2],o[1]];else if("rltb"===a||"rl"===a)o=[o[0],o[1],o[2],o[3]];else if("tblr"===a)o=[o[3],o[0],o[1],o[2]];else{if("tbrl"!==a&&"tb"!==a)return null;o=[o[3],o[2],o[1],o[0]]}var s=[];for(var l in o)if(0===o[l].value)s[l]=0;else if("%"===o[l].unit)s[l]="0"===l||"2"===l?r.styleAttrs[e.byName.extent.qname].h*o[l].value/100:r.styleAttrs[e.byName.extent.qname].w*o[l].value/100;else if("em"===o[l].unit)s[l]=r.styleAttrs[e.byName.fontSize.qname]*o[l].value;else if("c"===o[l].unit)s[l]=o[l].value/t.cellResolution.h;else{if("px"!==o[l].unit)return null;s[l]=o[l].value/t.pxDimensions.h}return s}),new d(t.ns_tts,"showBackground","always",["region"],!1,!0,function(e){return e},null),new d(t.ns_tts,"textAlign","start",["p"],!0,!0,function(e){return e},function(e,t,n,r){return"left"===r?"start":"right"===r?"end":r}),new d(t.ns_tts,"textDecoration","none",["span"],!0,!0,function(e){return e.split(" ")},null),new d(t.ns_tts,"textOutline","none",["span"],!0,!0,function(e){if("none"===e)return e;var t={},r=e.split(" ");if(0===r.length||r.length>2)return null;var i=n.parseColor(r[0]);if(t.color=i,null!==i&&r.shift(),1!==r.length)return null;var o=n.parseLength(r[0]);return o?(t.thickness=o,t):null},function(t,n,r,i){if("none"===i)return i;var o={};if(null===i.color?o.color=r.styleAttrs[e.byName.color.qname]:o.color=i.color,"%"===i.thickness.unit)o.thickness=r.styleAttrs[e.byName.fontSize.qname]*i.thickness.value/100;else if("em"===i.thickness.unit)o.thickness=r.styleAttrs[e.byName.fontSize.qname]*i.thickness.value;else if("c"===i.thickness.unit)o.thickness=i.thickness.value/t.cellResolution.h;else{if("px"!==i.thickness.unit)return null;o.thickness=i.thickness.value/t.pxDimensions.h}return o}),new d(t.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(e){return e},null),new d(t.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(e){return e},null),new d(t.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(e){return e},null),new d(t.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(e){return e},null),new d(t.ns_tts,"zIndex","auto",["region"],!1,!0,function(e){var t;return"auto"===e?t=e:(t=parseInt(e),isNaN(t)&&(t=null)),t},null),new d(t.ns_ebutts,"linePadding","0c",["p"],!0,!1,n.parseLength,function(e,t,n,r){return"c"===r.unit?r.value/e.cellResolution.h:null}),new d(t.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(e){return e},null),new d(t.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(e){return e},null),new d(t.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(e){return"true"===e},null)],e.byQName={},e.all)e.byQName[e.all[r].qname]=e.all[r];for(var i in e.byName={},e.all)e.byName[e.all[i].name]=e.all[i]}(void 0===n?this.imscStyles={}:n,"undefined"==typeof imscNames?e(19):imscNames,"undefined"==typeof imscUtils?e(21):imscUtils)},{19:19,21:21}],21:[function(e,t,n){!function(e){var t=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,n=/rgb\((\d+),(\d+),(\d+)\)/,r=/rgba\((\d+),(\d+),(\d+),(\d+)\)/,i={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};e.parseColor=function(e){var o,a=null;return e in i?a=i[e]:null!==(o=t.exec(e))?a=[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16),void 0!==o[4]?parseInt(o[4],16):255]:null!==(o=n.exec(e))?a=[parseInt(o[1]),parseInt(o[2]),parseInt(o[3]),255]:null!==(o=r.exec(e))&&(a=[parseInt(o[1]),parseInt(o[2]),parseInt(o[3]),parseInt(o[4])]),a};var o=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/;e.parseLength=function(e){var t,n=null;return null!==(t=o.exec(e))&&(n={value:parseFloat(t[1]),unit:t[2]}),n}}(void 0===n?this.imscUtils={}:n)},{}],22:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],23:[function(e,t,n){function d(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(d(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&d(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],24:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],25:[function(e,t,n){(function(e){"use strict";!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,e(26))},{26:26}],26:[function(t,n,r){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(e){if(o===setTimeout)return setTimeout(e,0);if((o===d||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}function h(){c&&l&&(c=!1,l.length?u=l.concat(u):p=-1,u.length&&i())}function i(){if(!c){var t=f(h);c=!0;for(var n=u.length;n;){for(l=u,u=[];++p<n;)l&&l[p].run();p=-1,n=u.length}l=null,c=!1,function(t){if(a===clearTimeout)return clearTimeout(t);if((a===e||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(t)}}function j(e,t){this.fun=e,this.array=t}function k(){}var o,a,s=n.exports={};!function(){try{o="function"==typeof setTimeout?setTimeout:d}catch(e){o=d}try{a="function"==typeof clearTimeout?clearTimeout:e}catch(t){a=e}}();var l,u=[],c=!1,p=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new j(e,t)),1!==u.length||c||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=k,s.addListener=k,s.once=k,s.off=k,s.removeListener=k,s.removeAllListeners=k,s.emit=k,s.prependListener=k,s.prependOnceListener=k,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],27:[function(e,t,n){t.exports=e(28)},{28:28}],28:[function(t,n,r){"use strict";function d(t){if(!(this instanceof d))return new d(t);s.call(this,t),l.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",e)}function e(){this.allowHalfOpen||this._writableState.ended||i.nextTick(f,this)}function f(e){e.end()}var i=t(25),o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};n.exports=d;var a=t(11);a.inherits=t(22);var s=t(30),l=t(32);a.inherits(d,s);for(var u=o(l.prototype),c=0;c<u.length;c++){var h=u[c];d.prototype[h]||(d.prototype[h]=l.prototype[h])}Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},{11:11,22:22,25:25,30:30,32:32}],29:[function(e,t,n){"use strict";function d(e){if(!(this instanceof d))return new d(e);r.call(this,e)}t.exports=d;var r=e(31),i=e(11);i.inherits=e(22),i.inherits(d,r),d.prototype._transform=function(e,t,n){n(null,e)}},{11:11,22:22,31:31}],30:[function(e,n,a){(function(a,u){"use strict";function h(t,n){p=p||e(28),t=t||{};var r=n instanceof p;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new I,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(C||(C=e(43).StringDecoder),this.decoder=new C(t.encoding),this.encoding=t.encoding)}function i(t){if(p=p||e(28),!(this instanceof i))return new i(t);this._readableState=new h(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),_.call(this)}function j(e,t,n,r,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,q(e)}}(e,a)):(i||(o=l(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===T.prototype||(t=function(e){return T.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):k(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?k(e,a,t,!1):s(e,a)):k(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function k(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&q(e)),s(e,t)}function l(e,t){var n;return function(e){return T.isBuffer(e)||e instanceof b}(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function o(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function q(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(w("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?c.nextTick(r,e):r(e))}function r(e){w("emit readable"),e.emit("readable"),y(e)}function s(e,n){n.readingMore||(n.readingMore=!0,c.nextTick(t,e,n))}function t(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(w("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function v(e){w("readable nexttick read 0"),e.read(0)}function x(e,t){t.reading||(w("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),y(e),t.flowing&&!t.reading&&e.read(0)}function y(e){var t=e._readableState;for(w("flow",t.flowing);t.flowing&&null!==e.read(););}function z(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=T.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0==(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function D(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,c.nextTick(E,t,e))}function E(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function F(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var c=e(25);n.exports=i;var p,g=e(24);i.ReadableState=h;var m=(e(12).EventEmitter,function(e,t){return e.listeners(t).length}),_=e(35),T=e(40).Buffer,b=u.Uint8Array||function(){},A=e(11);A.inherits=e(22);var S=e(7),w=void 0;w=S&&S.debuglog?S.debuglog("stream"):function(){};var C,I=e(33),M=e(34);A.inherits(i,_);var O=["error","close","destroy","pause","resume"];Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),i.prototype.destroy=M.destroy,i.prototype._undestroy=M.undestroy,i.prototype._destroy=function(e,t){this.push(null),t(e)},i.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=T.from(e,t),t=""),n=!0),j(this,e,t,!1,n)},i.prototype.unshift=function(e){return j(this,e,null,!0,!1)},i.prototype.isPaused=function(){return!1===this._readableState.flowing},i.prototype.setEncoding=function(t){return C||(C=e(43).StringDecoder),this._readableState.decoder=new C(t),this._readableState.encoding=t,this};var R=8388608;i.prototype.read=function(e){w("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return w("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):q(this),null;if(0===(e=o(e,t))&&t.ended)return 0===t.length&&D(this),null;var r,i=t.needReadable;return w("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&w("length less than watermark",i=!0),t.ended||t.reading?w("reading or ended",i=!1):i&&(w("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=o(n,t))),null===(r=e>0?z(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&D(this)),null!==r&&this.emit("data",r),r},i.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},i.prototype.pipe=function(t,n){function d(e,t){w("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,f())}function e(){w("onend"),t.end()}function f(){w("cleanup"),t.removeListener("close",j),t.removeListener("finish",k),t.removeListener("drain",u),t.removeListener("error",i),t.removeListener("unpipe",d),r.removeListener("end",e),r.removeListener("end",l),r.removeListener("data",h),p=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||u()}function h(e){w("ondata"),v=!1,!1!==t.write(e)||v||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==F(o.pipes,t))&&!p&&(w("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,v=!0),r.pause())}function i(e){w("onerror",e),l(),t.removeListener("error",i),0===m(t,"error")&&t.emit("error",e)}function j(){t.removeListener("finish",k),l()}function k(){w("onfinish"),t.removeListener("close",j),l()}function l(){w("unpipe"),r.unpipe(t)}var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,w("pipe count=%d opts=%j",o.pipesCount,n);var s=(!n||!1!==n.end)&&t!==a.stdout&&t!==a.stderr?e:l;o.endEmitted?c.nextTick(s):r.once("end",s),t.on("unpipe",d);var u=function(e){return function(){var t=e._readableState;w("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&m(e,"data")&&(t.flowing=!0,y(e))}}(r);t.on("drain",u);var p=!1,v=!1;return r.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?g(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(t,"error",i),t.once("close",j),t.once("finish",k),t.emit("pipe",r),o.flowing||(w("pipe resume"),r.resume()),t},i.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=F(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},i.prototype.on=function(e,t){var n=_.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&q(this):c.nextTick(v,this))}return n},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(w("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,c.nextTick(x,e,t))}(this,e)),this},i.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(w("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){w("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<O.length;o++)e.on(O[o],this.emit.bind(this,O[o]));return this._read=function(t){w("wrapped _read",t),r&&(r=!1,e.resume())},this},i._fromList=z}).call(this,e(26),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{11:11,12:12,22:22,24:24,25:25,26:26,28:28,33:33,34:34,35:35,40:40,43:43,7:7}],31:[function(t,n,r){"use strict";function e(t){if(!(this instanceof e))return new e(t);i.call(this,t),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",f)}function f(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){g(e,t,n)}):g(this,null,null)}function g(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}n.exports=e;var i=t(28),o=t(11);o.inherits=t(22),o.inherits(e,i),e.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},e.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},e.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},e.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},e.prototype._destroy=function(e,t){var n=this;i.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},{11:11,22:22,28:28}],32:[function(t,r,a){(function(a,l){"use strict";function e(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}function h(){}function i(n,r){c=c||t(28),n=n||{};var i=r instanceof c;this.objectMode=!!n.objectMode,i&&(this.objectMode=this.objectMode||!!n.writableObjectMode);var o=n.highWaterMark,a=n.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:i&&(a||0===a)?a:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===n.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=n.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(d.nextTick(i,r),d.nextTick(y,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),y(e,t))}(e,n,r,t,i);else{var o=v(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||u(e,n),r?f(s,e,n,o,i):s(e,n,o,i)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function j(e){if(c=c||t(28),!(g.call(j,this)||this instanceof c))return new j(e);this._writableState=new i(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),_.call(this)}function n(e,t,n,r,i,a){if(!n){var s=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=T.from(t,n)),t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var l=t.objectMode?1:r.length;t.length+=l;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else o(e,t,!1,l,r,i,a);return u}function o(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function s(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),y(e,t)}function u(t,n){n.bufferProcessing=!0;var r=n.bufferedRequest;if(t._writev&&r&&r.next){var i=n.bufferedRequestCount,a=new Array(i),s=n.corkedRequestsFree;s.entry=r;for(var l=0,u=!0;r;)a[l]=r,r.isBuf||(u=!1),r=r.next,l+=1;a.allBuffers=u,o(t,n,!0,n.length,a,"",s.finish),n.pendingcb++,n.lastBufferedRequest=null,s.next?(n.corkedRequestsFree=s.next,s.next=null):n.corkedRequestsFree=new e(n),n.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,c=r.encoding,f=r.callback;if(o(t,n,!1,n.objectMode?1:d.length,d,c,f),r=r.next,n.bufferedRequestCount--,n.writing)break}null===r&&(n.lastBufferedRequest=null)}n.bufferedRequest=r,n.bufferProcessing=!1}function v(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),y(e,t)})}function y(e,t){var n=v(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,d.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}var d=t(25);r.exports=j;var c,f=!a.browser&&["v0.10","v0.9."].indexOf(a.version.slice(0,5))>-1?setImmediate:d.nextTick;j.WritableState=i;var p=t(11);p.inherits=t(22);var g,m={deprecate:t(44)},_=t(35),T=t(40).Buffer,E=l.Uint8Array||function(){},b=t(34);p.inherits(j,_),i.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(i.prototype,"buffer",{get:m.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(e){return!!g.call(this,e)||this===j&&e&&e._writableState instanceof i}})):g=function(e){return e instanceof this},j.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},j.prototype.write=function(e,t,r){var i=this._writableState,o=!1,a=!i.objectMode&&function(e){return T.isBuffer(e)||e instanceof E}(e);return a&&!T.isBuffer(e)&&(e=function(e){return T.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=h),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),d.nextTick(t,n)}(this,r):(a||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),d.nextTick(r,o),i=!1),i}(this,i,e,r))&&(i.pendingcb++,o=n(this,i,a,e,t,r)),o},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||u(this,e))},j.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},j.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},j.prototype._writev=null,j.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,y(e,t),n&&(t.finished?d.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(j.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),j.prototype.destroy=b.destroy,j.prototype._undestroy=b.undestroy,j.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,t(26),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{11:11,22:22,25:25,26:26,28:28,34:34,35:35,40:40,44:44}],33:[function(t,n,r){"use strict";function e(e,t,n){e.copy(t,n)}var i=t(40).Buffer,o=t(7);n.exports=function(){function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},a.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},a.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},a.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var n=i.allocUnsafe(t>>>0),r=this.head,o=0;r;)e(r.data,n,o),o+=r.data.length,r=r.next;return n},a}(),o&&o.inspect&&o.inspect.custom&&(n.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},{40:40,7:7}],34:[function(e,t,n){"use strict";function f(e,t){e.emit("error",t)}var r=e(25);t.exports={destroy:function(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return i||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(f,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(f,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{25:25}],35:[function(e,t,n){t.exports=e(12).EventEmitter},{12:12}],36:[function(e,t,n){t.exports=e(37).PassThrough},{37:37}],37:[function(e,t,n){(n=t.exports=e(30)).Stream=n,n.Readable=n,n.Writable=e(32),n.Duplex=e(28),n.Transform=e(31),n.PassThrough=e(29)},{28:28,29:29,30:30,31:31,32:32}],38:[function(e,t,n){t.exports=e(37).Transform},{37:37}],39:[function(e,t,n){t.exports=e(32)},{32:32}],40:[function(t,n,r){function d(e,t){for(var n in e)t[n]=e[n]}function e(e,t,n){return o(e,t,n)}var i=t(9),o=i.Buffer;o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=i:(d(i,r),r.Buffer=e),d(o,e),e.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},e.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},e.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},e.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},{9:9}],41:[function(a,c,f){(function(c){!function(f){function d(e,t){if(!(this instanceof d))return new d(e,t);var r=this;(function(e){for(var t=0,n=g.length;t<n;t++)e[g[t]]=""})(r),r.q=r.c="",r.bufferCheckPosition=f.MAX_BUFFER_LENGTH,r.opt=t||{},r.opt.lowercase=r.opt.lowercase||r.opt.lowercasetags,r.looseCase=r.opt.lowercase?"toLowerCase":"toUpperCase",r.tags=[],r.closed=r.closedRoot=r.sawRoot=!1,r.tag=r.error=null,r.strict=!!e,r.noscript=!(!e&&!r.opt.noscript),r.state=F.BEGIN,r.strictEntities=r.opt.strictEntities,r.ENTITIES=r.strictEntities?Object.create(f.XML_ENTITIES):Object.create(f.ENTITIES),r.attribList=[],r.opt.xmlns&&(r.ns=Object.create(P)),r.trackPosition=!1!==r.opt.position,r.trackPosition&&(r.position=r.line=r.column=0),n(r,"onready")}function e(e){for(var t=Math.max(f.MAX_BUFFER_LENGTH,10),n=0,i=0,a=g.length;i<a;i++){var s=e[g[i]].length;if(s>t)switch(g[i]){case"textNode":p(e);break;case"cdata":o(e,"oncdata",e.cdata),e.cdata="";break;case"script":o(e,"onscript",e.script),e.script="";break;default:r(e,"Max buffer length exceeded: "+g[i])}n=Math.max(n,s)}var l=f.MAX_BUFFER_LENGTH-n;e.bufferCheckPosition=l+e.position}function i(e,t){if(!(this instanceof i))return new i(e,t);h.apply(this),this._parser=new d(e,t),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,_.forEach(function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})})}function j(e){return e.split("").reduce(function(e,t){return e[t]=!0,e},{})}function l(e,t){return function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}(e)?!!t.match(e):e[t]}function m(e,t){return!l(e,t)}function n(e,t,n){e[t]&&e[t](n)}function o(e,t,r){e.textNode&&p(e),n(e,t,r)}function p(e){e.textNode=q(e.opt,e.textNode),e.textNode&&n(e,"ontext",e.textNode),e.textNode=""}function q(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function r(e,t){return p(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,n(e,"onerror",t),e}function s(e){return e.sawRoot&&!e.closedRoot&&t(e,"Unclosed root tag"),e.state!==F.BEGIN&&e.state!==F.BEGIN_WHITESPACE&&e.state!==F.TEXT&&r(e,"Unexpected end"),p(e),e.c="",e.closed=!0,n(e,"onend"),d.call(e,e.strict,e.opt),e}function t(e,t){if("object"!=typeof e||!(e instanceof d))throw new Error("bad call to strictFail");e.strict&&r(e,t)}function u(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,o(e,"onopentagstart",n)}function v(e,t){var n=e.indexOf(":")<0?["",e]:e.split(":"),r=n[0],i=n[1];return t&&"xmlns"===e&&(r="xmlns",i=""),{prefix:r,local:i}}function w(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var n=v(e.attribName,!0),r=n.prefix,i=n.local;if("xmlns"===r)if("xml"===i&&e.attribValue!==O)t(e,"xml: prefix must be bound to "+O+"\nActual: "+e.attribValue);else if("xmlns"===i&&e.attribValue!==R)t(e,"xmlns: prefix must be bound to "+R+"\nActual: "+e.attribValue);else{var a=e.tag,s=e.tags[e.tags.length-1]||e;a.ns===s.ns&&(a.ns=Object.create(s.ns)),a.ns[i]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,o(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function x(e,n){if(e.opt.xmlns){var r=e.tag,i=v(e.tagName);r.prefix=i.prefix,r.local=i.local,r.uri=r.ns[i.prefix]||"",r.prefix&&!r.uri&&(t(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=i.prefix);var a=e.tags[e.tags.length-1]||e;r.ns&&a.ns!==r.ns&&Object.keys(r.ns).forEach(function(t){o(e,"onopennamespace",{prefix:t,uri:r.ns[t]})});for(var s=0,l=e.attribList.length;s<l;s++){var u=e.attribList[s],d=u[0],c=u[1],f=v(d,!0),h=f.prefix,p=f.local,g=""===h?"":r.ns[h]||"",y={name:d,value:c,prefix:h,local:p,uri:g};h&&"xmlns"!==h&&!g&&(t(e,"Unbound namespace prefix: "+JSON.stringify(h)),y.uri=h),e.tag.attributes[d]=y,o(e,"onattribute",y)}e.attribList.length=0}e.tag.isSelfClosing=!!n,e.sawRoot=!0,e.tags.push(e.tag),o(e,"onopentag",e.tag),n||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=F.TEXT:e.state=F.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function y(e){if(!e.tagName)return t(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=F.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=F.SCRIPT);o(e,"onscript",e.script),e.script=""}var n=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var i=r;n--&&e.tags[n].name!==i;)t(e,"Unexpected close tag");if(n<0)return t(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=F.TEXT);e.tagName=r;for(var a=e.tags.length;a-- >n;){var s=e.tag=e.tags.pop();e.tagName=e.tag.name,o(e,"onclosetag",e.tagName);var l={};for(var u in s.ns)l[u]=s.ns[u];var d=e.tags[e.tags.length-1]||e;e.opt.xmlns&&s.ns!==d.ns&&Object.keys(s.ns).forEach(function(t){var n=s.ns[t];o(e,"onclosenamespace",{prefix:t,uri:n})})}0===n&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=F.TEXT}function z(e){var n,r=e.entity,i=r.toLowerCase(),o="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[i]?e.ENTITIES[i]:("#"===(r=i).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),o=(n=parseInt(r,16)).toString(16)):(r=r.slice(1),o=(n=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),o.toLowerCase()!==r?(t(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(n))}function A(e,n){"<"===n?(e.state=F.OPEN_WAKA,e.startTagPosition=e.position):m(T,n)&&(t(e,"Non-whitespace before first tag."),e.textNode=n,e.state=F.TEXT)}function B(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}f.parser=function(e,t){return new d(e,t)},f.SAXParser=d,f.SAXStream=i,f.createStream=function(e,t){return new i(e,t)},f.MAX_BUFFER_LENGTH=65536;var h,g=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];f.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function b(){}return b.prototype=e,new b}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),d.prototype={end:function(){s(this)},write:function(n){var i=this;if(this.error)throw this.error;if(i.closed)return r(i,"Cannot write after close. Assign an onready handler.");if(null===n)return s(i);"object"==typeof n&&(n=n.toString());for(var a=0,d="";d=B(n,a++),i.c=d,d;)switch(i.trackPosition&&(i.position++,"\n"===d?(i.line++,i.column=0):i.column++),i.state){case F.BEGIN:if(i.state=F.BEGIN_WHITESPACE,"\ufeff"===d)continue;A(i,d);continue;case F.BEGIN_WHITESPACE:A(i,d);continue;case F.TEXT:if(i.sawRoot&&!i.closedRoot){for(var c=a-1;d&&"<"!==d&&"&"!==d;)(d=B(n,a++))&&i.trackPosition&&(i.position++,"\n"===d?(i.line++,i.column=0):i.column++);i.textNode+=n.substring(c,a-1)}"<"!==d||i.sawRoot&&i.closedRoot&&!i.strict?(!m(T,d)||i.sawRoot&&!i.closedRoot||t(i,"Text data outside of root node."),"&"===d?i.state=F.TEXT_ENTITY:i.textNode+=d):(i.state=F.OPEN_WAKA,i.startTagPosition=i.position);continue;case F.SCRIPT:"<"===d?i.state=F.SCRIPT_ENDING:i.script+=d;continue;case F.SCRIPT_ENDING:"/"===d?i.state=F.CLOSE_TAG:(i.script+="<"+d,i.state=F.SCRIPT);continue;case F.OPEN_WAKA:if("!"===d)i.state=F.SGML_DECL,i.sgmlDecl="";else if(l(T,d));else if(l(D,d))i.state=F.OPEN_TAG,i.tagName=d;else if("/"===d)i.state=F.CLOSE_TAG,i.tagName="";else if("?"===d)i.state=F.PROC_INST,i.procInstName=i.procInstBody="";else{if(t(i,"Unencoded <"),i.startTagPosition+1<i.position){var f=i.position-i.startTagPosition;d=new Array(f).join(" ")+d}i.textNode+="<"+d,i.state=F.TEXT}continue;case F.SGML_DECL:(i.sgmlDecl+d).toUpperCase()===I?(o(i,"onopencdata"),i.state=F.CDATA,i.sgmlDecl="",i.cdata=""):i.sgmlDecl+d==="--"?(i.state=F.COMMENT,i.comment="",i.sgmlDecl=""):(i.sgmlDecl+d).toUpperCase()===M?(i.state=F.DOCTYPE,(i.doctype||i.sawRoot)&&t(i,"Inappropriately located doctype declaration"),i.doctype="",i.sgmlDecl=""):">"===d?(o(i,"onsgmldeclaration",i.sgmlDecl),i.sgmlDecl="",i.state=F.TEXT):l(S,d)?(i.state=F.SGML_DECL_QUOTED,i.sgmlDecl+=d):i.sgmlDecl+=d;continue;case F.SGML_DECL_QUOTED:d===i.q&&(i.state=F.SGML_DECL,i.q=""),i.sgmlDecl+=d;continue;case F.DOCTYPE:">"===d?(i.state=F.TEXT,o(i,"ondoctype",i.doctype),i.doctype=!0):(i.doctype+=d,"["===d?i.state=F.DOCTYPE_DTD:l(S,d)&&(i.state=F.DOCTYPE_QUOTED,i.q=d));continue;case F.DOCTYPE_QUOTED:i.doctype+=d,d===i.q&&(i.q="",i.state=F.DOCTYPE);continue;case F.DOCTYPE_DTD:i.doctype+=d,"]"===d?i.state=F.DOCTYPE:l(S,d)&&(i.state=F.DOCTYPE_DTD_QUOTED,i.q=d);continue;case F.DOCTYPE_DTD_QUOTED:i.doctype+=d,d===i.q&&(i.state=F.DOCTYPE_DTD,i.q="");continue;case F.COMMENT:"-"===d?i.state=F.COMMENT_ENDING:i.comment+=d;continue;case F.COMMENT_ENDING:"-"===d?(i.state=F.COMMENT_ENDED,i.comment=q(i.opt,i.comment),i.comment&&o(i,"oncomment",i.comment),i.comment=""):(i.comment+="-"+d,i.state=F.COMMENT);continue;case F.COMMENT_ENDED:">"!==d?(t(i,"Malformed comment"),i.comment+="--"+d,i.state=F.COMMENT):i.state=F.TEXT;continue;case F.CDATA:"]"===d?i.state=F.CDATA_ENDING:i.cdata+=d;continue;case F.CDATA_ENDING:"]"===d?i.state=F.CDATA_ENDING_2:(i.cdata+="]"+d,i.state=F.CDATA);continue;case F.CDATA_ENDING_2:">"===d?(i.cdata&&o(i,"oncdata",i.cdata),o(i,"onclosecdata"),i.cdata="",i.state=F.TEXT):"]"===d?i.cdata+="]":(i.cdata+="]]"+d,i.state=F.CDATA);continue;case F.PROC_INST:"?"===d?i.state=F.PROC_INST_ENDING:l(T,d)?i.state=F.PROC_INST_BODY:i.procInstName+=d;continue;case F.PROC_INST_BODY:if(!i.procInstBody&&l(T,d))continue;"?"===d?i.state=F.PROC_INST_ENDING:i.procInstBody+=d;continue;case F.PROC_INST_ENDING:">"===d?(o(i,"onprocessinginstruction",{name:i.procInstName,body:i.procInstBody}),i.procInstName=i.procInstBody="",i.state=F.TEXT):(i.procInstBody+="?"+d,i.state=F.PROC_INST_BODY);continue;case F.OPEN_TAG:l(N,d)?i.tagName+=d:(u(i),">"===d?x(i):"/"===d?i.state=F.OPEN_TAG_SLASH:(m(T,d)&&t(i,"Invalid character in tag name"),i.state=F.ATTRIB));continue;case F.OPEN_TAG_SLASH:">"===d?(x(i,!0),y(i)):(t(i,"Forward-slash in opening tag not followed by >"),i.state=F.ATTRIB);continue;case F.ATTRIB:if(l(T,d))continue;">"===d?x(i):"/"===d?i.state=F.OPEN_TAG_SLASH:l(D,d)?(i.attribName=d,i.attribValue="",i.state=F.ATTRIB_NAME):t(i,"Invalid attribute name");continue;case F.ATTRIB_NAME:"="===d?i.state=F.ATTRIB_VALUE:">"===d?(t(i,"Attribute without value"),i.attribValue=i.attribName,w(i),x(i)):l(T,d)?i.state=F.ATTRIB_NAME_SAW_WHITE:l(N,d)?i.attribName+=d:t(i,"Invalid attribute name");continue;case F.ATTRIB_NAME_SAW_WHITE:if("="===d)i.state=F.ATTRIB_VALUE;else{if(l(T,d))continue;t(i,"Attribute without value"),i.tag.attributes[i.attribName]="",i.attribValue="",o(i,"onattribute",{name:i.attribName,value:""}),i.attribName="",">"===d?x(i):l(D,d)?(i.attribName=d,i.state=F.ATTRIB_NAME):(t(i,"Invalid attribute name"),i.state=F.ATTRIB)}continue;case F.ATTRIB_VALUE:if(l(T,d))continue;l(S,d)?(i.q=d,i.state=F.ATTRIB_VALUE_QUOTED):(t(i,"Unquoted attribute value"),i.state=F.ATTRIB_VALUE_UNQUOTED,i.attribValue=d);continue;case F.ATTRIB_VALUE_QUOTED:if(d!==i.q){"&"===d?i.state=F.ATTRIB_VALUE_ENTITY_Q:i.attribValue+=d;continue}w(i),i.q="",i.state=F.ATTRIB_VALUE_CLOSED;continue;case F.ATTRIB_VALUE_CLOSED:l(T,d)?i.state=F.ATTRIB:">"===d?x(i):"/"===d?i.state=F.OPEN_TAG_SLASH:l(D,d)?(t(i,"No whitespace between attributes"),i.attribName=d,i.attribValue="",i.state=F.ATTRIB_NAME):t(i,"Invalid attribute name");continue;case F.ATTRIB_VALUE_UNQUOTED:if(m(C,d)){"&"===d?i.state=F.ATTRIB_VALUE_ENTITY_U:i.attribValue+=d;continue}w(i),">"===d?x(i):i.state=F.ATTRIB;continue;case F.CLOSE_TAG:if(i.tagName)">"===d?y(i):l(N,d)?i.tagName+=d:i.script?(i.script+="</"+i.tagName,i.tagName="",i.state=F.SCRIPT):(m(T,d)&&t(i,"Invalid tagname in closing tag"),i.state=F.CLOSE_TAG_SAW_WHITE);else{if(l(T,d))continue;m(D,d)?i.script?(i.script+="</"+d,i.state=F.SCRIPT):t(i,"Invalid tagname in closing tag."):i.tagName=d}continue;case F.CLOSE_TAG_SAW_WHITE:if(l(T,d))continue;">"===d?y(i):t(i,"Invalid characters in closing tag");continue;case F.TEXT_ENTITY:case F.ATTRIB_VALUE_ENTITY_Q:case F.ATTRIB_VALUE_ENTITY_U:var h,p;switch(i.state){case F.TEXT_ENTITY:h=F.TEXT,p="textNode";break;case F.ATTRIB_VALUE_ENTITY_Q:h=F.ATTRIB_VALUE_QUOTED,p="attribValue";break;case F.ATTRIB_VALUE_ENTITY_U:h=F.ATTRIB_VALUE_UNQUOTED,p="attribValue"}";"===d?(i[p]+=z(i),i.entity="",i.state=h):l(i.entity.length?L:k,d)?i.entity+=d:(t(i,"Invalid character in entity name"),i[p]+="&"+i.entity+d,i.entity="",i.state=h);continue;default:throw new Error(i,"Unknown state: "+i.state)}return i.position>=i.bufferCheckPosition&&e(i),i},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;p(e=this),""!==e.cdata&&(o(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(o(e,"onscript",e.script),e.script="")}};try{h=a(42).Stream}catch(e){h=function(){}}var _=f.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});i.prototype=Object.create(h.prototype,{constructor:{value:i}}),i.prototype.write=function(e){if("function"==typeof c&&"function"==typeof c.isBuffer&&c.isBuffer(e)){if(!this._decoder){var t=a(8).StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},i.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},i.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||-1===_.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),h.prototype.on.call(n,e,t)};var T="\r\n\t ",E="0124356789",b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",S="'\"",C=T+">",I="[CDATA[",M="DOCTYPE",O="http://www.w3.org/XML/1998/namespace",R="http://www.w3.org/2000/xmlns/",P={xml:O,xmlns:R};T=j(T),E=j(E),b=j(b);var D=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,N=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,k=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,L=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;S=j(S),C=j(C);var F=0;for(var U in f.STATE={BEGIN:F++,BEGIN_WHITESPACE:F++,TEXT:F++,TEXT_ENTITY:F++,OPEN_WAKA:F++,SGML_DECL:F++,SGML_DECL_QUOTED:F++,DOCTYPE:F++,DOCTYPE_QUOTED:F++,DOCTYPE_DTD:F++,DOCTYPE_DTD_QUOTED:F++,COMMENT_STARTING:F++,COMMENT:F++,COMMENT_ENDING:F++,COMMENT_ENDED:F++,CDATA:F++,CDATA_ENDING:F++,CDATA_ENDING_2:F++,PROC_INST:F++,PROC_INST_BODY:F++,PROC_INST_ENDING:F++,OPEN_TAG:F++,OPEN_TAG_SLASH:F++,ATTRIB:F++,ATTRIB_NAME:F++,ATTRIB_NAME_SAW_WHITE:F++,ATTRIB_VALUE:F++,ATTRIB_VALUE_QUOTED:F++,ATTRIB_VALUE_CLOSED:F++,ATTRIB_VALUE_UNQUOTED:F++,ATTRIB_VALUE_ENTITY_Q:F++,ATTRIB_VALUE_ENTITY_U:F++,CLOSE_TAG:F++,CLOSE_TAG_SAW_WHITE:F++,SCRIPT:F++,SCRIPT_ENDING:F++},f.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},f.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(f.ENTITIES).forEach(function(e){var t=f.ENTITIES[e],n="number"==typeof t?String.fromCharCode(t):t;f.ENTITIES[e]=n}),f.STATE)f.STATE[f.STATE[U]]=U;F=f.STATE,String.fromCodePoint||function(){var e=String.fromCharCode,t=Math.floor,n=function(){var n,r,i=[],o=-1,a=arguments.length;if(!a)return"";for(var s="";++o<a;){var l=Number(arguments[o]);if(!isFinite(l)||l<0||l>1114111||t(l)!==l)throw RangeError("Invalid code point: "+l);l<=65535?i.push(l):(n=55296+((l-=65536)>>10),r=l%1024+56320,i.push(n,r)),(o+1===a||i.length>16384)&&(s+=e.apply(null,i),i.length=0)}return s};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}(void 0===f?this.sax={}:f)}).call(this,a(9).Buffer)},{42:42,8:8,9:9}],42:[function(e,t,n){function d(){r.call(this)}t.exports=d;var r=e(12).EventEmitter;e(22)(d,r),d.Readable=e(37),d.Writable=e(39),d.Duplex=e(27),d.Transform=e(38),d.PassThrough=e(36),d.Stream=d,d.prototype.pipe=function(e,t){function c(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function d(){n.readable&&n.resume&&n.resume()}function f(){o||(o=!0,e.end())}function g(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function h(e){if(i(),0===r.listenerCount(this,"error"))throw e}function i(){n.removeListener("data",c),e.removeListener("drain",d),n.removeListener("end",f),n.removeListener("close",g),n.removeListener("error",h),e.removeListener("error",h),n.removeListener("end",i),n.removeListener("close",i),e.removeListener("close",i)}var n=this;n.on("data",c),e.on("drain",d),e._isStdio||t&&!1===t.end||(n.on("end",f),n.on("close",g));var o=!1;return n.on("error",h),e.on("error",h),n.on("end",i),n.on("close",i),e.on("close",i),e.emit("pipe",n),e}},{12:12,22:22,27:27,36:36,37:37,38:38,39:39}],43:[function(e,t,i){"use strict";function f(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(a.isEncoding===s||!s(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=m,this.end=n,t=4;break;case"utf8":this.fillLast=j,t=4;break;case"base64":this.text=o,this.end=p,t=3;break;default:return this.write=q,void(this.end=r)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(t)}function g(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function j(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"".repeat(n);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"".repeat(n+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"".repeat(n+2)}}(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function m(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function n(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function o(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function q(e){return e.toString(this.encoding)}function r(e){return e&&e.length?this.write(e):""}var a=e(40).Buffer,s=a.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};i.StringDecoder=f,f.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},f.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"".repeat(this.lastTotal-this.lastNeed):t},f.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=g(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n?0:(i=g(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n?0:(i=g(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},f.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{40:40}],44:[function(e,t,n){(function(e){function d(t){try{if(!e.localStorage)return!1}catch(e){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(e,t){if(d("noDeprecation"))return e;var n=!1;return function(){if(!n){if(d("throwDeprecation"))throw new Error(t);d("traceDeprecation"),n=!0}return e.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){var e,t=this.context,n=(0,i.default)(t).getInstance(),r=void 0,a=void 0,s=void 0,l=void 0;return e={log:function(){var e="",t=null;a&&(t=(new Date).getTime(),e+="["+(t-l)+"]"),s&&this&&this.getClassName&&(e+="["+this.getClassName()+"]",this.getType&&(e+="["+this.getType()+"]")),e.length>0&&(e+=" "),Array.apply(null,arguments).forEach(function(t){e+=t+" "}),n.trigger(o.default.LOG,{message:e})},setLogTimestampVisible:function(e){a=e},setCalleeNameVisible:function(e){s=e},setLogToBrowserConsole:function(e){r=e},getLogToBrowserConsole:function(){return r}},r=!0,a=!0,s=!1,l=(new Date).getTime(),e}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(46)),o=d(t(50)),a=d(t(47));e.__dashjs_factory_name="Debug",r.default=a.default.getSingletonFactory(e),n.exports=r.default},{46:46,47:47,50:50}],46:[function(t,n,r){"use strict";function e(){function d(t,n,r){var i=-1;return e[t]?(e[t].some(function(e,t){if(e&&e.callback===n&&(!r||r===e.scope))return i=t,!0}),i):i}var e={};return{on:function(t,n,r){var i=arguments.length<=3||void 0===arguments[3]?o:arguments[3];if(!t)throw new Error("event type cannot be null or undefined");if(!n||"function"!=typeof n)throw new Error("listener must be a function: "+n);if(!(d(t,n,r)>=0)){e[t]=e[t]||[];var a={callback:n,scope:r,priority:i};e[t].some(function(n,r){if(n&&i>n.priority)return e[t].splice(r,0,a),!0})||e[t].push(a)}},off:function(t,n,r){if(t&&n&&e[t]){var i=d(t,n,r);i<0||(e[t][i]=null)}},trigger:function(t,n){if(t&&e[t]){if((n=n||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");n.type=t,e[t]=e[t].filter(function(e){return e}),e[t].forEach(function(e){return e&&e.callback.call(e.scope,n)})}},reset:function(){e={}}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47)),o=0;e.__dashjs_factory_name="EventBus";var a=i.default.getSingletonFactory(e);a.EVENT_PRIORITY_LOW=o,a.EVENT_PRIORITY_HIGH=5e3,i.default.updateSingletonFactory(e.__dashjs_factory_name,a),r.default=a,n.exports=r.default},{47:47}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function b(e,t){for(var r in n){var i=n[r];if(i.context===e&&i.name===t)return i.instance}return null}function d(e,t){return t[e]}function e(e,t,n){e in n&&(n[e]=t)}function l(e,n,r){var i=void 0,o=e.__dashjs_factory_name,a=n[o];if(a){var s=a.instance;if(!a.override)return s.apply({context:n,factory:t},r);for(var l in i=e.apply({context:n},r),s=s.apply({context:n,factory:t,parent:i},r))i.hasOwnProperty(l)&&(i[l]=s[l])}else i=e.apply({context:n},r);return i.getClassName=function(){return o},i}var t=void 0,n=[],r={},i={};return t={extend:function(e,t,n,r){!r[e]&&t&&(r[e]={instance:t,override:n})},getSingletonInstance:b,setSingletonInstance:function(e,t,r){for(var i in n){var o=n[i];if(o.context===e&&o.name===t)return void(n[i].instance=r)}n.push({name:t,context:e,instance:r})},getSingletonFactory:function(e){var t=d(e.__dashjs_factory_name,r);return t||(t=function(t){var r=void 0;return void 0===t&&(t={}),{getInstance:function(){return r||(r=b(t,e.__dashjs_factory_name)),r||(r=l(e,t,arguments),n.push({name:e.__dashjs_factory_name,context:t,instance:r})),r}}},r[e.__dashjs_factory_name]=t),t},getSingletonFactoryByName:function(e){return d(e,r)},updateSingletonFactory:function(t,n){e(t,n,r)},getClassFactory:function(e){var t=d(e.__dashjs_factory_name,i);return t||(t=function(t){return void 0===t&&(t={}),{create:function(){return l(e,t,arguments)}}},i[e.__dashjs_factory_name]=t),t},getClassFactoryByName:function(e){return d(e,i)},updateClassFactory:function(t,n){e(t,n,i)}}}();n.default=r,t.exports=n.default},{}],48:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getVersionString=function(){return r};var r="2.7.0"},{}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},i=function(e){return e&&e.__esModule?e:{default:e}}(e(51)),o=function(e){function b(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,b),r(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.LOADING_DATA_PROGRESS="loadingDataProgress",this.LOADING_ABANDONED="loadingAborted",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,i.default),b}();n.default=o,t.exports=n.default},{51:51}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},i=function(e){return e&&e.__esModule?e:{default:e}}(e(49)),o=new(function(e){function b(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,b),r(Object.getPrototypeOf(b.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,i.default),b}());n.default=o,t.exports=n.default},{49:49}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=function(){function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a)}return r(a,[{key:"extend",value:function(e,t){if(e){var n=!!t&&t.override,r=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!n||r&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}]),a}();n.default=i,t.exports=n.default},{}],52:[function(r,i,o){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function c(e,t){return t&&e?t.getRepresentationForQuality(e.quality):null}function d(e){return e&&e.streamInfo&&void 0!==e.streamInfo.id&&m[e.streamInfo.id]?m[e.streamInfo.id][e.index]:null}function e(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r];if(e.id===i.id)return i}return null}function f(e){var t=new s.default,n=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index],r=i.getRepresentationFor(e.index,n);return t.id=e.id,t.quality=e.index,t.bandwidth=i.getBandwidth(r),t.DVRWindow=e.segmentAvailabilityRange,t.fragmentDuration=e.segmentDuration||(e.segments&&e.segments.length>0?e.segments[0].duration:NaN),t.MSETimeOffset=e.MSETimeOffset,t.useCalculatedLiveEdgeTime=e.useCalculatedLiveEdgeTime,t.mediaInfo=h(e.adaptation),t}function h(e){var t,r=new u.default,o=e.period.mpd.manifest.Period_asArray[e.period.index].AdaptationSet_asArray[e.index];return r.id=e.id,r.index=e.index,r.type=e.type,r.streamInfo=n(e.period),r.representationCount=i.getRepresentationCount(o),r.lang=i.getLanguageForAdaptation(o),t=i.getViewpointForAdaptation(o),r.viewpoint=t?t.value:void 0,r.accessibility=i.getAccessibilityForAdaptation(o).map(function(e){var t=e.value,n=t;return e.schemeIdUri&&e.schemeIdUri.search("cea-608")>=0&&void 0!==_.default&&(n=t?"cea-608:"+t:"cea-608",r.embeddedCaptions=!0),n}),r.audioChannelConfiguration=i.getAudioChannelConfigurationForAdaptation(o).map(function(e){return e.value}),r.roles=i.getRolesForAdaptation(o).map(function(e){return e.value}),r.codec=i.getCodec(o),r.mimeType=i.getMimeType(o),r.contentProtection=i.getContentProtectionData(o),r.bitrateList=i.getBitrateListForAdaptation(o),r.contentProtection&&r.contentProtection.forEach(function(e){e.KID=i.getKID(e)}),r.isText=i.getIsTextTrack(r.mimeType),r}function j(e,t,n){e.id=t,e.index=100+parseInt(t.substring(2,3)),e.type=a.default.EMBEDDED_TEXT,e.codec="cea-608-in-SEI",e.isText=!0,e.isEmbedded=!0,e.lang=n,e.roles=["caption"]}function l(e){e.type=a.default.IMAGE}function n(e){var t=new p.default;return t.id=e.id,t.index=e.index,t.start=e.start,t.duration=e.duration,t.manifestInfo=function(e){var t=new g.default;return t.DVRWindowSize=e.timeShiftBufferDepth,t.loadedTime=e.manifest.loadedTime,t.availableFrom=e.availabilityStartTime,t.minBufferTime=e.manifest.minBufferTime,t.maxFragmentDuration=e.maxSegmentDuration,t.duration=i.getDuration(e.manifest),t.isDynamic=i.getIsDynamic(e.manifest),t}(e.mpd),t.isLast=1===e.mpd.manifest.Period_asArray.length||Math.abs(t.start+t.duration-t.manifestInfo.duration)<1,t}function t(){if(!i||!i.hasOwnProperty("getMpd")||!i.hasOwnProperty("getRegularPeriods"))throw new Error("setConfig function has to be called previously")}function x(e){if(!(e&&e.hasOwnProperty("getRepresentationController")&&e.hasOwnProperty("getIndexHandler")&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getType")&&e.hasOwnProperty("getStreamInfo")))throw new Error("streamProcessor parameter is missing or malformed!")}function y(e){if(!e||!e.hasOwnProperty("getRepresentationForQuality")||!e.hasOwnProperty("getCurrentRepresentation"))throw new Error("representationController parameter is missing or malformed!")}function z(e){if(null===e||isNaN(e)||e%1!=0)throw new Error("quality argument is not an integer")}function L(){o=[],m={}}var r,i=void 0,o=void 0,m=void 0;return r={convertDataToRepresentationInfo:f,getDataForMedia:d,getStreamsInfo:function(e,r){var a=[],s=o;if(e){t();var l=i.getMpd(e);s=i.getRegularPeriods(l)}r||(r=s.length);for(var u=0;u<r;u++)a.push(n(s[u]));return a},getMediaInfoForType:function(t,n){if(0===o.length)return null;var r=o[0].mpd.manifest,a=i.getAdaptationForType(r,t.index,n,t);if(!a)return null;var s=e(t,o),l=s.id,u=i.getIndexForAdaptation(a,r,t.index);return m[l]=m[l]||i.getAdaptationsForPeriod(s),h(m[l][u])},getAllMediaInfoForType:function(n,r,s){var u,d=o,c=s,f=[],p=void 0,g=void 0,y=void 0,v=void 0,_=void 0;if(c){t();var T=i.getMpd(c);d=i.getRegularPeriods(T)}else{if(!(o.length>0))return f;c=o[0].mpd.manifest}var E=e(n,d),b=E.id,A=i.getAdaptationsForType(c,n.index,r!==a.default.EMBEDDED_TEXT?r:a.default.VIDEO);if(!A)return f;for(m[b]=m[b]||i.getAdaptationsForPeriod(E),v=0,u=A.length;v<u;v++)if(p=A[v],y=i.getIndexForAdaptation(p,c,n.index),g=h(m[b][y]),r===a.default.EMBEDDED_TEXT){var S=g.accessibility.length;for(_=0;_<S;_++)if(g){var w=g.accessibility[_];if(0===w.indexOf("cea-608:")){var C=w.substring(8).split(";");if("CC"===C[0].substring(0,2))for(_=0;_<C.length;_++)g||(g=h.call(this,m[b][y])),j(g,C[_].substring(0,3),C[_].substring(4)),f.push(g),g=null;else for(_=0;_<C.length;_++)g||(g=h.call(this,m[b][y])),j(g,"CC"+(_+1),C[_]),f.push(g),g=null}else 0===w.indexOf("cea-608")&&(j(g,a.default.CC1,"eng"),f.push(g),g=null)}}else r===a.default.IMAGE?(l(g),f.push(g),g=null):g&&f.push(g);return f},getCurrentRepresentationInfo:function(e){y(e);var t=e.getCurrentRepresentation();return t?f(t):null},getRepresentationInfoForQuality:function(e,t){y(e),z(t);var n=e.getRepresentationForQuality(t);return n?f(n):null},updateData:function(t){x(t);var n,r=e(t.getStreamInfo(),o),a=t.getMediaInfo(),s=d(a),l=t.getType(),u=void 0;n=a?a.id:null,o.length>0&&(u=n?i.getAdaptationForId(n,o[0].mpd.manifest,r.index):i.getAdaptationForIndex(a.index,o[0].mpd.manifest,r.index),t.getRepresentationController().updateData(u,s,l))},getInitRequest:function(e,t){var n,r=void 0,i=void 0;return x(e),z(t),r=e.getRepresentationController(),i=e.getIndexHandler(),n=r?r.getRepresentationForQuality(t):null,i?i.getInitRequest(n):null},getNextFragmentRequest:function(e,t){var n,r=void 0;return x(e),n=c(t,e.getRepresentationController()),(r=e.getIndexHandler())?r.getNextSegmentRequest(n):null},getFragmentRequestForTime:function(e,t,n,r){var i,o=void 0;return x(e),i=c(t,e.getRepresentationController()),(o=e.getIndexHandler())?o.getSegmentRequestForTime(i,n,r):null},generateFragmentRequestForTime:function(e,t,n){var r,i=void 0;return x(e),r=c(t,e.getRepresentationController()),(i=e.getIndexHandler())?i.generateSegmentRequestForTime(r,n):null},getIndexHandlerTime:function(e){x(e);var t=e.getIndexHandler();return t?t.getCurrentTime():NaN},setIndexHandlerTime:function(e,t){x(e);var n=e.getIndexHandler();n&&n.setCurrentTime(t)},getEventsFor:function(t,n){var r=[];if(0===o.length)return r;var a=o[0].mpd.manifest;return t instanceof p.default?r=i.getEventsForPeriod(e(t,o)):t instanceof u.default?r=i.getEventStreamForAdaptationSet(a,d(t)):t instanceof s.default&&(r=i.getEventStreamForRepresentation(a,c(t,n.getRepresentationController()))),r},getEvent:function(e,t,n){if(!e||!t)return null;var r=new v.default,i=e.scheme_id_uri,o=e.value,a=e.timescale,s=e.presentation_time_delta,l=e.event_duration,u=e.id,d=e.message_data,c=n*a+s;return t[i]?(r.eventStream=t[i],r.eventStream.value=o,r.eventStream.timescale=a,r.duration=l,r.id=u,r.presentationTime=c,r.messageData=d,r.presentationTimeDelta=s,r):null},setConfig:function(e){e&&e.dashManifestModel&&(i=e.dashManifestModel)},updatePeriods:function(e){if(!e)return null;t();var n=i.getMpd(e);o=i.getRegularPeriods(n),m={}},reset:L},L(),r}Object.defineProperty(o,"__esModule",{value:!0});var a=d(r(99)),s=d(r(221)),u=d(r(219)),p=d(r(222)),g=d(r(218)),v=d(r(81)),m=d(r(47)),_=d(r(2));e.__dashjs_factory_name="DashAdapter",o.default=m.default.getSingletonFactory(e),i.exports=o.default},{2:2,218:218,219:219,221:221,222:222,47:47,81:81,99:99}],53:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function l(){k=-1,j=0,U=NaN,L=null,V=null,H=null}function q(e,t,n){var i=P.resolve(n.path),o=void 0,a=void 0;return i&&t!==i.url&&r.isRelative(t)?(o=i.url,a=i.serviceLocation,t&&(o=r.resolve(t,o))):o=t,!r.isRelative(o)&&(e.url=o,e.serviceLocation=a,!0)}function u(e){var t=!1,n=V?V.getStreamInfo().manifestInfo.isDynamic:null;if(n||k!==e.availableSegmentsNumber){var r=(0,_.getSegmentByIndex)(k,e);if(r){var i=parseFloat((r.presentationStartTime-e.adaptation.period.start).toFixed(5)),a=e.adaptation.period.duration;x(e.segmentInfoType+": "+i+" / "+a),t=(e.segmentInfoType!==o.default.SEGMENT_TIMELINE||!n)&&i>=a}else x("isMediaFinished - no segment found")}else t=!0;return t}function w(e){H.getSegments(e,L,k,y)}function y(e,t){var n=V?V.getStreamInfo().manifestInfo.isDynamic:null;if(e.segments=t,t&&t.length>0&&(U=isNaN(U)?t[0].presentationStartTime:Math.min(t[0].presentationStartTime,U),n&&isNaN(p.getExpectedLiveEdge()))){var r=t[t.length-1].presentationStartTime,o=C.getMetricsFor(i.default.STREAM);p.setExpectedLiveEdge(r),C.updateManifestUpdateInfo(S.getCurrentManifestUpdate(o),{presentationStartTime:r})}}function B(e){if(!e)throw new Error("no representation");e.segments=null,w(e)}function F(e,t,n){var r=t.segments,i=r?r.length:null,o=-1,a=void 0,s=void 0,l=void 0,u=void 0,d=void 0;if(r&&i>0)for(n=void 0===n||null===n?O.getSegmentOverlapToleranceTime():n,d=0;d<i;d++)if(l=(s=r[d]).presentationStartTime,u=s.duration,e+(a=void 0===n||null===n?u/2:n)>=l&&e-a<l+u){o=s.availabilityIdx;break}return o}function I(e){if(null===e||void 0===e)return null;var t=new a.default,n=e.representation,r=n.adaptation.period.mpd.manifest.Period_asArray[n.adaptation.period.index].AdaptationSet_asArray[n.adaptation.index].Representation_asArray[n.index].bandwidth,i=e.media,o=V?V.getType():null;return i=(0,_.replaceTokenForTemplate)(i,"Number",e.replacementNumber),i=(0,_.replaceTokenForTemplate)(i,"Time",e.replacementTime),i=(0,_.replaceTokenForTemplate)(i,"Bandwidth",r),i=(0,_.replaceIDForTemplate)(i,n.id),i=(0,_.unescapeDollarsInTemplate)(i),t.mediaType=o,t.type=c.HTTPRequest.MEDIA_SEGMENT_TYPE,t.range=e.mediaRange,t.startTime=e.presentationStartTime,t.duration=e.duration,t.timescale=n.timescale,t.availabilityStartTime=e.availabilityStartTime,t.availabilityEndTime=e.availabilityEndTime,t.wallStartTime=e.wallStartTime,t.quality=n.index,t.index=e.availabilityIdx,t.mediaInfo=V.getMediaInfo(),t.adaptationIndex=n.adaptation.index,t.representationId=n.id,q(t,i,n)?t:void 0}function J(e,t,n){var r=void 0,i=V?V.getType():null,s=V?V.getStreamInfo().manifestInfo.isDynamic:null,l=k,d=!!n&&n.keepIdx,c=n?n.timeThreshold:null,f=!(!n||!n.ignoreIsFinished);return e?(L!==t&&(L=t,x("Getting the request for "+i+" time : "+t)),w(e),(k=F(t,e,c))<0&&(w(e),k=F(t,e,c)),k>0&&x("Index for "+i+" time "+t+" is "+k),!f&&u(e)?((r=new a.default).action=a.default.ACTION_COMPLETE,r.index=k,r.mediaType=i,r.mediaInfo=V.getMediaInfo(),x("Signal complete in getSegmentRequestForTime -",i)):r=I((0,_.getSegmentByIndex)(k,e)),d&&l>=0&&(k=e.segmentInfoType===o.default.SEGMENT_TIMELINE&&s?k:l),r):null}function M(e){var t=e.representation;t.segments&&n.trigger(f.default.REPRESENTATION_UPDATED,{sender:this,representation:t})}function N(e){var t=V?V.getType():null,r=V?V.getStreamInfo().manifestInfo.isDynamic:null;if(!e.error&&t===e.mediaType){var i,o=e.segments,a=e.representation,s=[],l=0,u=void 0,d=void 0,c=void 0;for(u=0,i=o.length;u<i;u++)d=o[u],c=(0,_.getTimeBasedSegment)(p,r,a,d.startTime,d.duration,d.timescale,d.media,d.mediaRange,l),s.push(c),c=null,l++;a.segmentAvailabilityRange={start:s[0].presentationStartTime,end:s[i-1].presentationStartTime},a.availableSegmentsNumber=i,y(a,s),m.default.hasInitialization(a)&&n.trigger(f.default.REPRESENTATION_UPDATED,{sender:this,representation:a})}}e=e||{};var t=this.context,n=(0,h.default)(t).getInstance(),r=(0,v.default)(t).getInstance(),d=void 0,p=e.timelineConverter,S=e.dashMetrics,C=e.metricsModel,O=e.mediaPlayerModel,R=e.errHandler,P=e.baseURLController,D=void 0,x=void 0,k=void 0,L=void 0,j=void 0,U=void 0,V=void 0,H=void 0;return D={initialize:function(n){var r=(V=n)?V.getStreamInfo().manifestInfo.isDynamic:null;d.initialize(),H=(0,T.default)(t).create(e,r)},getStreamProcessor:function(){return V},getInitRequest:function(e){var t=V?V.getType():null;return e?function(e,t){var n=new a.default,r=e.adaptation.period,i=r.start,o=V?V.getStreamInfo().manifestInfo.isDynamic:null;if(n.mediaType=t,n.type=c.HTTPRequest.INIT_SEGMENT_TYPE,n.range=e.range,n.availabilityStartTime=p.calcAvailabilityStartTimeFromPresentationTime(i,r.mpd,o),n.availabilityEndTime=p.calcAvailabilityEndTimeFromPresentationTime(i+r.duration,r.mpd,o),n.quality=e.index,n.mediaInfo=V?V.getMediaInfo():null,n.representationId=e.id,q(n,e.initialization,e))return n}(e,t):null},getSegmentRequestForTime:J,getNextSegmentRequest:function(e){var t=void 0,n=void 0,r=V?V.getType():null,i=V?V.getStreamInfo().manifestInfo.isDynamic:null;return e&&-1!==k?(L=null,x("Getting the next request at index: "+ ++k+", type: "+r),!(0,_.getSegmentByIndex)(k,e)&&i?(x("No segment found at index: "+k+". Wait for next loop"),w(e),k--,null):(u(e)?((t=new a.default).action=a.default.ACTION_COMPLETE,t.index=k,t.mediaType=r,t.mediaInfo=V.getMediaInfo(),x("Signal complete -",r)):(w(e),t=I(n=(0,_.getSegmentByIndex)(k,e)),!n&&i&&k--),t)):null},generateSegmentRequestForTime:function(e,t){var n=(e.segmentAvailabilityRange.end-e.segmentAvailabilityRange.start)/2;return e.segments=null,e.segmentAvailabilityRange={start:t-n,end:t+n},J(e,t,{keepIdx:!1,ignoreIsFinished:!0})},updateRepresentation:function(e,t){var r=m.default.hasInitialization(e),i=m.default.hasSegments(e),o=V?V.getType():null,a=V?V.getStreamInfo().manifestInfo.isDynamic:null,l=void 0;if(e.segmentDuration||e.segments||B(e),e.segmentAvailabilityRange=p.calcSegmentAvailabilityRange(e,a),e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime)return l=new s.default(A,"no segments are available yet",{availabilityDelay:e.segmentAvailabilityRange.start-e.segmentAvailabilityRange.end}),void n.trigger(f.default.REPRESENTATION_UPDATED,{sender:this,representation:e,error:l});t||(k=-1),e.segmentDuration&&B(e),r||d.loadInitialization(e),i||d.loadSegments(e,o,e.indexRange),r&&i&&n.trigger(f.default.REPRESENTATION_UPDATED,{sender:this,representation:e})},updateSegmentList:B,setCurrentTime:function(e){j=e},getCurrentTime:function(){return j},getEarliestTime:function(){return U},reset:function(){l(),n.off(f.default.INITIALIZATION_LOADED,M,D),n.off(f.default.SEGMENTS_LOADED,N,D)}},x=(0,g.default)(t).getInstance().log.bind(D),l(),(d=function(e){return"webm"===e.split("/")[1].toLowerCase()}(e.mimeType)?(0,b.default)(t).getInstance():(0,E.default)(t).getInstance()).setConfig({baseURLController:P,metricsModel:C,mediaPlayerModel:O,errHandler:R}),n.on(f.default.INITIALIZATION_LOADED,M,D),n.on(f.default.SEGMENTS_LOADED,N,D),D}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(99)),o=d(t(57)),a=d(t(214)),s=d(t(212)),c=t(232),f=d(t(50)),h=d(t(46)),p=d(t(47)),g=d(t(45)),v=d(t(207)),m=d(t(85)),_=t(75),T=d(t(74)),E=d(t(55)),b=d(t(56)),A=1;e.__dashjs_factory_name="DashHandler";var S=p.default.getClassFactory(e);S.SEGMENTS_UNAVAILABLE_ERROR_CODE=A,p.default.updateClassFactory(e.__dashjs_factory_name,S),r.default=S,n.exports=r.default},{207:207,212:212,214:214,232:232,45:45,46:46,47:47,50:50,55:55,56:56,57:57,74:74,75:75,85:85,99:99}],54:[function(t,r,i){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function g(e){return n(e,s.default.BUFFER_LEVEL)}function k(e){if(!e)return null;var t=e.HttpList,n=null,r=void 0;if(!t||t.length<=0)return null;for(r=t.length-1;r>=0;){if(t[r].responsecode){n=t[r];break}r--}return n}function m(e){return e&&e.HttpList?e.HttpList:[]}function n(e,t){if(!e)return null;var n=e[t];if(!n)return null;var r=n.length;return r<=0?null:n[r-1]}function u(e){var t={};if(!e)return t;for(var n=e.trim().split("\r\n"),r=0,i=n.length;r<i;r++){var o=n[r],a=o.indexOf(": ");a>0&&(t[o.substring(0,a)]=o.substring(a+2))}return t}function w(e,t,n){var r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;if(e)for(r=e.AdaptationSet_asArray,a=0;a<r.length;a+=1)for(o=r[a].Representation_asArray,s=0;s<o.length;s+=1)if(t===(i=o[s]).id)return n?s:i;return null}function x(e,n){return t.getIsTypeOf(e,n)}var t=(e=e||{}).dashManifestModel,r=e.manifestModel;return{getBandwidthForRepresentation:function(e,t){var n;return null===(n=w(r.getValue().Period_asArray[t],e))?null:n.bandwidth},getIndexForRepresentation:function(e,t){return function(e,t){var n=w(e,t,!0);return null!==n?n:-1}(r.getValue().Period_asArray[t],e)},getMaxIndexForBufferType:function(e,t){var n=r.getValue();return n?function(e,t){var n=void 0,r=void 0,i=void 0,o=void 0;if(!e||!t)return-1;for(r=e.AdaptationSet_asArray,o=0;o<r.length;o+=1)if(n=r[o],i=n.Representation_asArray,x(n,t))return i.length;return-1}(n.Period_asArray[t],e):-1},getCurrentRepresentationSwitch:function(e){return n(e,s.default.TRACK_SWITCH)},getLatestBufferLevelVO:g,getCurrentBufferLevel:function(e){var t=g(e);return t?l.default.round10(t.level/1e3,-3):0},getCurrentHttpRequest:k,getHttpRequests:m,getCurrentDroppedFrames:function(e){return n(e,s.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(e){return n(e,s.default.SCHEDULING_INFO)},getCurrentDVRInfo:function(e){return n(e,s.default.DVR_INFO)},getCurrentManifestUpdate:function(e){return n(e,s.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(e,t){var n={},r=k(e);return r&&(n=u(r._responseHeaders)),void 0===n[t]?null:n[t]},getLatestMPDRequestHeaderValueByID:function(e,t){var n,r={},i=void 0,a=void 0;for(a=(n=m(e)).length-1;a>=0;a--)if((i=n[a]).type===o.HTTPRequest.MPD_TYPE){r=u(i._responseHeaders);break}return void 0===r[t]?null:r[t]},getRequestsQueue:function(e){return e?e.RequestsQueue:null}}}Object.defineProperty(i,"__esModule",{value:!0});var o=t(232),a=d(t(47)),s=d(t(100)),l=d(t(73));e.__dashjs_factory_name="DashMetrics",i.default=a.default.getSingletonFactory(e),r.exports=i.default},{100:100,232:232,47:47,73:73}],55:[function(t,r,i){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function c(){if(!w||!w.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function h(e,t){for(var n=e.references,r=n.length,i=e.timescale,o=e.earliest_presentation_time,s=t.range.start+e.offset+e.first_offset+e.size,l=[],u=void 0,d=void 0,c=void 0,f=void 0,h=0;h<r;h++)c=n[h].subsegment_duration,f=n[h].referenced_size,(u=new a.default).duration=c,u.startTime=o,u.timescale=i,d=s+f-1,u.mediaRange=s+"-"+d,l.push(u),o+=c,s+=f;return l}function l(e){if(e.url){var t=new m.default;return t.type=e.init?v.HTTPRequest.INIT_SEGMENT_TYPE:v.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}}function n(e,t,n){e?i.trigger(u.default.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):i.trigger(u.default.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new s.default(null,"error loading segments",null)})}var t=this.context,r=(0,y.default)(t).getInstance().log,i=(0,f.default)(t).getInstance(),g=void 0,T=void 0,E=void 0,b=void 0,A=void 0,S=void 0,w=void 0;return{setConfig:function(e){e.baseURLController&&(w=e.baseURLController),e.metricsModel&&(b=e.metricsModel),e.mediaPlayerModel&&(A=e.mediaPlayerModel),e.errHandler&&(g=e.errHandler)},initialize:function(){T=(0,p.default)(t).getInstance(),E=(0,o.default)(t).getInstance(),S=(0,_.default)(t).create({errHandler:g,metricsModel:b,mediaPlayerModel:A,requestModifier:E})},loadInitialization:function d(e,t){c();var n=null,o=null,a=w.resolve(e.path),s=t||{init:!0,url:a?a.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500};r("Start searching for initialization.");var f=l(s);S.load({request:f,success:function(t){s.bytesLoaded=s.range.end,o=T.parse(t),(n=function(e){var t=e.getBox("ftyp"),n=e.getBox("moov"),i=null,o=void 0,a=void 0;return r("Searching for initialization."),n&&n.isComplete&&(o=t?t.offset:n.offset,a=n.offset+n.size-1,r("Found the initialization.  Range: "+(i=o+"-"+a))),i}(o))?(e.range=n,i.trigger(u.default.INITIALIZATION_LOADED,{representation:e})):(s.range.end=s.bytesLoaded+s.bytesToLoad,d(e,s))},error:function(){i.trigger(u.default.INITIALIZATION_LOADED,{representation:e})}}),r("Perform init search: "+s.url)},loadSegments:function e(t,i,o,a,s){if(c(),o&&(void 0===o.start||void 0===o.end)){var u=o?o.toString().split("-"):null;o=u?{start:parseFloat(u[0]),end:parseFloat(u[1])}:null}s=s||n;var d=null,f=null,p=!!o,g=w.resolve(t.path),y={init:!1,url:g?g.url:void 0,range:p?o:{start:0,end:1500},searching:!p,bytesLoaded:a?a.bytesLoaded:0,bytesToLoad:1500},v=l(y);S.load({request:v,success:function(n){var o=y.bytesToLoad,a=n.byteLength;if(y.bytesLoaded=y.range.end-y.range.start,d=T.parse(n),(f=d.getBox("sidx"))&&f.isComplete){var l=f.references,u=void 0,c=void 0;null!==l&&void 0!==l&&l.length>0&&(u=1===l[0].reference_type),u?function(){r("Initiate multiple SIDX load."),y.range.end=y.range.start+f.size;var n=void 0,o=void 0,a=void 0,u=void 0,d=[],c=0,h=(f.offset||y.range.start)+f.size,p=function(e){e?(d=d.concat(e),++c>=o&&s(d,t,i)):s(null,t,i)};for(n=0,o=l.length;n<o;n++)a=h,u=h+l[n].referenced_size-1,h+=l[n].referenced_size,e(t,null,{start:a,end:u},y,p)}():(r("Parsing segments from SIDX."),c=h(f,y),s(c,t,i))}else{if(f)y.range.start=f.offset||y.range.start,y.range.end=y.range.start+(f.size||o);else{if(a<y.bytesLoaded)return void s(null,t,i);var p=d.getLastBox();p&&p.size?(y.range.start=p.offset+p.size,y.range.end=y.range.start+o):y.range.end+=o}e(t,i,y.range,y,s)}},error:function(){s(null,t,i)}}),r("Perform SIDX load: "+y.url)},reset:function(){S.abort(),S=null,g=null,T=null,E=null}}}Object.defineProperty(i,"__esModule",{value:!0});var o=d(t(205)),a=d(t(86)),s=d(t(212)),u=d(t(50)),f=d(t(46)),p=d(t(195)),g=d(t(47)),y=d(t(45)),v=t(232),m=d(t(214)),_=d(t(146));e.__dashjs_factory_name="SegmentBaseLoader",i.default=g.default.getSingletonFactory(e),r.exports=i.default},{146:146,195:195,205:205,212:212,214:214,232:232,45:45,46:46,47:47,50:50,86:86}],56:[function(t,r,i){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function d(e){var n=[],r=void 0,i=void 0,o=(0,s.default)(t).create({data:e});for(o.consumeTagAndSize(l.Segment.Cues);o.moreData()&&o.consumeTagAndSize(l.Segment.Cues.CuePoint,!0);){for((r={}).CueTime=o.parseTag(l.Segment.Cues.CuePoint.CueTime),r.CueTracks=[];o.moreData()&&o.consumeTag(l.Segment.Cues.CuePoint.CueTrackPositions,!0);){var a=o.getMatroskaCodedNum(),u=o.getPos();if((i={}).Track=o.parseTag(l.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===i.Track)throw new Error("Cue track cannot be 0");i.ClusterPosition=o.parseTag(l.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),r.CueTracks.push(i),o.setPos(u+a)}if(0===r.CueTracks.length)throw new Error("Mandatory cuetrack not found");n.push(r)}if(0===n.length)throw new Error("mandatory cuepoint not found");return n}function e(e,t,n,i){var o,a,s=void 0,l=void 0,u=void 0,c=void 0,f=void 0,h=void 0;for(l=[],c=0,a=(o=d(e)).length;c<a;c+=1)u=new p.default,s=0,s=c<o.length-1?o[c+1].CueTime-o[c].CueTime:i-o[c].CueTime,u.duration=s,u.startTime=o[c].CueTime,u.timescale=1e3,f=o[c].CueTracks[0].ClusterPosition+t,h=c<o.length-1?o[c+1].CueTracks[0].ClusterPosition+t-1:n-1,u.mediaRange=f+"-"+h,l.push(u);return r("Parsed cues: "+l.length+" cues."),l}function f(i,o,a,u){var d,c=(0,s.default)(t).create({data:i}),f=void 0,h=void 0,p=a.split("-"),g=null,y={url:o,range:{start:parseFloat(p[0]),end:parseFloat(p[1])},request:g},v=void 0;for(r("Parse EBML header: "+y.url),c.skipOverElement(l.EBML),c.consumeTag(l.Segment),v=c.getMatroskaCodedNum(),v+=c.getPos(),d=c.getPos();c.moreData()&&!c.consumeTagAndSize(l.Segment.Info,!0);)if(!(c.skipOverElement(l.Segment.SeekHead,!0)||c.skipOverElement(l.Segment.Tracks,!0)||c.skipOverElement(l.Segment.Cues,!0)||c.skipOverElement(l.Void,!0)))throw new Error("no valid top level element found");for(;void 0===f;){var m=c.getMatroskaCodedNum(!0),_=c.getMatroskaCodedNum();switch(m){case l.Segment.Info.Duration.tag:f=c[l.Segment.Info.Duration.parse](_);break;default:c.setPos(c.getPos()+_)}}g=n(y);A.load({request:g,success:function(t){h=e(t,d,v,f),u(h)},error:function(){r("Download Error: Cues "+y.url),u(null)}}),r("Perform cues load: "+y.url+" bytes="+y.range.start+"-"+y.range.end)}function h(){if(!S||!S.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function m(e,t,n){e?i.trigger(o.default.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):i.trigger(o.default.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new Error(null,"error loading segments",null)})}function n(e){var t=new y.default;return t.type=e.init?g.HTTPRequest.INIT_SEGMENT_TYPE:g.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}var t=this.context,r=(0,u.default)(t).getInstance().log,i=(0,a.default)(t).getInstance(),l=void 0,_=void 0,T=void 0,E=void 0,b=void 0,A=void 0,S=void 0;return l={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},{setConfig:function(e){if(!(e.baseURLController&&e.metricsModel&&e.mediaPlayerModel&&e.errHandler))throw new Error("Missing config parameter(s)");S=e.baseURLController,E=e.metricsModel,b=e.mediaPlayerModel,_=e.errHandler},initialize:function(){T=(0,c.default)(t).getInstance(),A=(0,v.default)(t).create({errHandler:_,metricsModel:E,mediaPlayerModel:b,requestModifier:T})},loadInitialization:function(e,t){h();var a=null,s=S.resolve(e.path),l=s?s.url:void 0,u=e.range.split("-"),d=t||{range:{start:parseFloat(u[0]),end:parseFloat(u[1])},request:a,url:l,init:!0};r("Start loading initialization."),a=n(d),A.load({request:a,success:function(){i.trigger(o.default.INITIALIZATION_LOADED,{representation:e})},error:function(){i.trigger(o.default.INITIALIZATION_LOADED,{representation:e})}}),r("Perform init load: "+d.url)},loadSegments:function(e,t,i,o){h();var a=null,s=S.resolve(e.path),l=s?s.url:void 0;o=o||m,a=n({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:a,url:l,init:!1}),r("Parsing ebml header"),A.load({request:a,success:function(n){f(n,l,i,function(n){o(n,e,t)})},error:function(){o(null,e,t)}})},reset:function(){_=null,T=null,r=null}}}Object.defineProperty(i,"__esModule",{value:!0});var o=d(t(50)),a=d(t(46)),s=d(t(199)),l=d(t(47)),u=d(t(45)),c=d(t(205)),p=d(t(86)),g=t(232),y=d(t(214)),v=d(t(146));e.__dashjs_factory_name="WebmSegmentBaseLoader",i.default=l.default.getSingletonFactory(e),r.exports=i.default},{146:146,199:199,205:205,214:214,232:232,45:45,46:46,47:47,50:50,86:86}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=new(function(){function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.init()}return r(a,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight"}}]),a}());n.default=i,t.exports=n.default},{}],58:[function(n,i,o){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function h(){return y}function j(){return _}function l(){d=null,p=-1,y=!0,m=[],T=null,S=null,w=null,I=null,M=null,O=null,R=null}function q(){var e=new Date,t=j(),n=1e3*S.getTime();w.addRepresentationSwitch(t.adaptation.type,e,n,t.id)}function r(){var e=P.getStreamInfo(),t=e?e.manifestInfo:null,n=t?t.isDynamic:null,r=M.calcSegmentAvailabilityRange(_,n);w.addDVRInfo(P.getType(),S.getTime(),t,r)}function t(e){return m[e]}function v(){for(var e=0,t=m.length;e<t;e++){var n=m[e].segmentInfoType;if(null===m[e].segmentAvailabilityRange||!g.default.hasInitialization(m[e])||(n===s.default.SEGMENT_BASE||n===s.default.BASE_URL)&&!m[e].segments)return!1}return!0}function z(e){var t=e;y=!1,i.trigger(f.default.AST_IN_FUTURE,{delay:t}),setTimeout(function(){if(!h()){y=!0,i.trigger(f.default.DATA_UPDATE_STARTED,{sender:o}),m.forEach(function(e){e.segmentAvailabilityRange=null});for(var e=0;e<m.length;e++)b.updateRepresentation(m[e],!0)}},t)}function A(t){if(t.sender.getStreamProcessor()===P&&h()){var n=t.representation,o=w.getMetricsFor(a.default.STREAM),l=w.getMetricsFor(j().adaptation.type),c=R.getCurrentManifestUpdate(o),p=!1,g=0,E=void 0,b=void 0;if(n.adaptation.period.mpd.manifest.type===s.default.DYNAMIC&&!n.adaptation.period.mpd.manifest.ignorePostponeTimePeriod){var A=n.segmentAvailabilityRange.end-n.segmentAvailabilityRange.start;g=1e3*(S.computeLiveDelay(_.segmentDuration,P.getStreamInfo().manifestInfo.DVRWindowSize)-A)}if(g>0)return r(),z(g),b=new u.default(e,"Segments update failed",null),void i.trigger(f.default.DATA_UPDATE_COMPLETED,{sender:this,data:d,currentRepresentation:_,error:b});if(c){for(var C=0;C<c.representationInfo.length;C++)if((E=c.representationInfo[C]).index===n.index&&E.mediaType===P.getType()){p=!0;break}p||w.addManifestUpdateRepresentationInfo(c,n.id,n.index,n.adaptation.period.index,P.getType(),n.presentationTimeOffset,n.startNumber,n.segmentInfoType)}v()&&(y=!1,T.setPlaybackQuality(P.getType(),P.getStreamInfo(),function(e){return m.indexOf(e)}(_)),w.updateManifestUpdateInfo(c,{latency:_.segmentAvailabilityRange.end-S.getTime()}),R.getCurrentRepresentationSwitch(l)||q(),i.trigger(f.default.DATA_UPDATE_COMPLETED,{sender:this,data:d,currentRepresentation:_}))}}function B(e){e.isDynamic&&function(e){for(var t=void 0,n=0,r=m.length;n<r;n++)(t=m[n]).segmentAvailabilityRange=M.calcSegmentAvailabilityRange(t,e)}(e.isDynamic)}function C(e){e.sender.getStreamProcessor()===P&&(N.getValue().doNotUpdateDVRWindowOnBufferUpdated||r())}function D(e){if(e.mediaType===P.getType()&&P.getStreamInfo().id===e.streamInfo.id&&e.oldQuality!==e.newQuality){_=t(e.newQuality);var n=T.getThroughputHistory().getAverageThroughput(e.mediaType);isNaN(n)||I.setSavedBitrateSettings(e.mediaType,n),q()}}function E(e){if(e.newDuration){var t=j();t&&t.adaptation.period&&(t.adaptation.period.duration=e.newDuration)}}var e=1,n=this.context,i=(0,c.default)(n).getInstance(),o=void 0,d=void 0,p=void 0,y=void 0,m=void 0,_=void 0,T=void 0,b=void 0,S=void 0,w=void 0,I=void 0,M=void 0,O=void 0,R=void 0,P=void 0,N=void 0;return o={initialize:function(){b=P.getIndexHandler()},setConfig:function(e){e.abrController&&(T=e.abrController),e.domStorage&&(I=e.domStorage),e.metricsModel&&(w=e.metricsModel),e.dashMetrics&&(R=e.dashMetrics),e.dashManifestModel&&(O=e.dashManifestModel),e.playbackController&&(S=e.playbackController),e.timelineConverter&&(M=e.timelineConverter),e.manifestModel&&(N=e.manifestModel),e.streamProcessor&&(P=e.streamProcessor)},getData:function(){return d},getDataIndex:function(){return p},isUpdating:h,updateData:function(e,n,r){var o=P.getStreamInfo(),s=T.getTopQualityIndexFor(r,o.id),l=T.getMinAllowedIndexFor(r),u=void 0,c=null;if(y=!0,i.trigger(f.default.DATA_UPDATE_STARTED,{sender:this}),m=function(e){return p=O.getIndexForAdaptation(d,e.period.mpd.manifest,e.period.index),O.getRepresentationsForAdaptation(e)}(n),null!==d&&d.id==e.id||r===a.default.FRAGMENTED_TEXT?u=T.getQualityFor(r,o):(c=T.getThroughputHistory().getAverageThroughput(r)||T.getInitialBitrateFor(r,o),u=T.getQualityForBitrate(P.getMediaInfo(),c)),void 0!==l&&u<l&&(u=l),u>s&&(u=s),_=t(u),d=e,r!==a.default.VIDEO&&r!==a.default.AUDIO&&r!==a.default.FRAGMENTED_TEXT)return y=!1,void i.trigger(f.default.DATA_UPDATE_COMPLETED,{sender:this,data:d,currentRepresentation:_});for(var h=0;h<m.length;h++)b.updateRepresentation(m[h],!0)},getStreamProcessor:function(){return P},getCurrentRepresentation:j,getRepresentationForQuality:t,reset:function(){i.off(f.default.QUALITY_CHANGE_REQUESTED,D,o),i.off(f.default.REPRESENTATION_UPDATED,A,o),i.off(f.default.WALLCLOCK_TIME_UPDATED,B,o),i.off(f.default.BUFFER_LEVEL_UPDATED,C,o),i.off(f.default.MANIFEST_VALIDITY_CHANGED,E,o),l()}},l(),i.on(f.default.QUALITY_CHANGE_REQUESTED,D,o),i.on(f.default.REPRESENTATION_UPDATED,A,o),i.on(f.default.WALLCLOCK_TIME_UPDATED,B,o),i.on(f.default.BUFFER_LEVEL_UPDATED,C,o),i.on(f.default.MANIFEST_VALIDITY_CHANGED,E,o),o}Object.defineProperty(o,"__esModule",{value:!0});var a=d(n(99)),s=d(n(57)),u=d(n(212)),c=d(n(46)),f=d(n(50)),p=d(n(47)),g=d(n(85));e.__dashjs_factory_name="RepresentationController",o.default=p.default.getClassFactory(e),i.exports=o.default},{212:212,46:46,47:47,50:50,57:57,85:85,99:99}],59:[function(t,n,i){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(t){function b(e,t){var n=void 0,r=void 0,i=void 0,s=void 0,l=void 0,u=void 0,d=!1,c=!1;if(!e)throw new Error("adaptation is not defined");if(!t)throw new Error("type is not defined");if(e.hasOwnProperty("ContentComponent_asArray")&&(s=e.ContentComponent_asArray),l=t!==o.default.TEXT?new RegExp(t):new RegExp("(vtt|ttml)"),e.Representation_asArray&&e.Representation_asArray.length&&e.Representation_asArray.length>0&&e.Representation_asArray[0].hasOwnProperty(a.default.CODECS)&&(0===(u=e.Representation_asArray[0].codecs).search(o.default.STPP)||0===u.search(o.default.WVTT)))return t===o.default.FRAGMENTED_TEXT;if(s){if(s.length>1)return t===o.default.MUXED;s[0]&&s[0].contentType===t&&(d=!0,c=!0)}if(e.hasOwnProperty(a.default.MIME_TYPE)&&(d=l.test(e.mimeType),c=!0),!c)for(n=0,r=e.Representation_asArray&&e.Representation_asArray.length?e.Representation_asArray.length:0;!c&&n<r;)(i=e.Representation_asArray[n]).hasOwnProperty(a.default.MIME_TYPE)&&(d=l.test(i.mimeType),c=!0),n++;return d}function c(e){return b(e,o.default.AUDIO)}function d(e){return b(e,o.default.VIDEO)}function e(e){return b(e,o.default.FRAGMENTED_TEXT)}function h(e){return b(e,o.default.MUXED)}function j(e){return b(e,o.default.IMAGE)}function l(e){return"text/vtt"===e||"application/ttml+xml"===e}function r(e){return e&&e.hasOwnProperty(a.default.ROLE_ASARRAY)?e.Role_asArray:[]}function x(e){return r(e).filter(function(e){return e.value===a.default.MAIN})[0]}function z(){return function(e,t){return e.bandwidth-t.bandwidth}}function B(e){return e&&void 0!==e.Representation_asArray&&null!==e.Representation_asArray&&e.Representation_asArray.sort(function(e,t){return e.bandwidth-t.bandwidth}),e}function G(e,t,n){var r,i=e&&e.Period_asArray&&C(t)&&e.Period_asArray[t]?e.Period_asArray[t].AdaptationSet_asArray:[],o=void 0,a=[];for(o=0,r=i.length;o<r;o++)b(i[o],n)&&a.push(B(i[o]));return a}function M(e){var t=!1;return e&&e.hasOwnProperty("type")&&(t=e.type===a.default.DYNAMIC),t}function U(e){return e&&e.EssentialProperty_asArray&&e.EssentialProperty_asArray.length?e.EssentialProperty_asArray.map(function(e){return{schemeIdUri:e.schemeIdUri,value:e.value}}):null}function W(e){if(e&&e.period&&C(e.period.index)){var t=e.period.mpd.manifest.Period_asArray[e.period.index];if(t&&t.AdaptationSet_asArray&&C(e.index))return B(t.AdaptationSet_asArray[e.index])}}function X(e){var t=e.S_asArray[e.S_asArray.length-1];return!t.hasOwnProperty("r")||t.r>=0}function aa(e,t){if(!e)throw new Error("Period cannot be null or undefined");var n=f.default.DEFAULT_ID+"_"+t;return e.hasOwnProperty(a.default.ID)&&e.id.length>0&&"__proto__"!==e.id&&(n=e.id),n}function ea(e,t){var n=[],r=void 0;if(!e)return n;for(r=0;r<e.length;r++){var i=new m.default;if(i.timescale=1,i.representation=t,!e[r].hasOwnProperty(o.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");i.schemeIdUri=e[r].schemeIdUri,e[r].hasOwnProperty(a.default.TIMESCALE)&&(i.timescale=e[r].timescale),e[r].hasOwnProperty(a.default.VALUE)&&(i.value=e[r].value),n.push(i)}return n}function ia(e){var t=[],n=!1;return(e.BaseURL_asArray||[e.baseUri]).some(function(r){if(r){var o=new v.default,s=r.__text||r;return i.isRelative(s)&&(n=!0,e.baseUri&&(s=i.resolve(s,e.baseUri))),o.url=s,r.hasOwnProperty(a.default.SERVICE_LOCATION)&&r.serviceLocation.length?o.serviceLocation=r.serviceLocation:o.serviceLocation=s,r.hasOwnProperty(a.default.DVB_PRIORITY)&&(o.dvb_priority=r[a.default.DVB_PRIORITY]),r.hasOwnProperty(a.default.DVB_WEIGHT)&&(o.dvb_weight=r[a.default.DVB_WEIGHT]),r.hasOwnProperty(a.default.AVAILABILITY_TIME_OFFSET)&&(o.availabilityTimeOffset=r[a.default.AVAILABILITY_TIME_OFFSET]),r.hasOwnProperty(a.default.AVAILABILITY_TIME_COMPLETE)&&(o.availabilityTimeComplete="false"!==r[a.default.AVAILABILITY_TIME_COMPLETE]),t.push(o),n}}),t}t=t||{};var n=this.context,i=(0,T.default)(n).getInstance(),E=t.mediaController,A=t.timelineConverter,S=t.adapter,w="urn:dvb:dash:profile:dvb-dash:2014",C=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};return{getIsTypeOf:b,getIsAudio:c,getIsVideo:d,getIsText:function(e){return b(e,o.default.TEXT)},getIsMuxed:h,getIsTextTrack:l,getIsFragmentedText:e,getIsImage:j,getIsMain:x,getLanguageForAdaptation:function(e){var t="";return e&&e.hasOwnProperty(a.default.LANG)&&(t=e.lang.replace(/[^A-Za-z0-9-]/g,"")),t},getViewpointForAdaptation:function(e){return e&&e.hasOwnProperty(a.default.VIEWPOINT)?e.Viewpoint:null},getRolesForAdaptation:r,getAccessibilityForAdaptation:function(e){return e&&e.hasOwnProperty(a.default.ACCESSIBILITY_ASARRAY)?e.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function(e){return e&&e.hasOwnProperty(a.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?e.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function(e,t,n){var r=t&&t.Period_asArray&&C(n)&&t.Period_asArray[n]?t.Period_asArray[n].AdaptationSet_asArray:null;return r&&C(e)?r[e]:null},getIndexForAdaptation:function(e,t,r){var i=t&&t.Period_asArray&&C(r)&&t.Period_asArray[r]?t.Period_asArray[r].AdaptationSet_asArray:[],o=i.length;if(e)for(var a=0;a<o;a++)if((0,_.default)(n).getInstance().areEqual(i[a],e))return a;return-1},getAdaptationForId:function(e,t,n){var r,i=t&&t.Period_asArray&&C(n)&&t.Period_asArray[n]?t.Period_asArray[n].AdaptationSet_asArray:[],o=void 0;for(o=0,r=i.length;o<r;o++)if(i[o].hasOwnProperty(a.default.ID)&&i[o].id===e)return i[o];return null},getAdaptationsForType:G,getAdaptationForType:function(e,t,n,r){var i=G(e,t,n);if(!i||0===i.length)return null;if(i.length>1&&r){var o=E.getCurrentTrackFor(n,r),a=S.getAllMediaInfoForType(r,n);if(o)for(var s=0,l=i.length;s<l;s++)if(E.isTracksEqual(o,a[s]))return i[s];for(s=0,l=i.length;s<l;s++)if(x(i[s]))return i[s]}return i[0]},getCodec:function(e,t,n){if(e&&e.Representation_asArray&&e.Representation_asArray.length>0){var r=C(t)&&t>=0&&t<e.Representation_asArray.length?e.Representation_asArray[t]:e.Representation_asArray[0],i=r.mimeType+';codecs="'+r.codecs+'"';return n&&void 0!==r.width&&(i+=';width="'+r.width+'";height="'+r.height+'"'),i}return null},getMimeType:function(e){return e&&e.Representation_asArray&&e.Representation_asArray.length>0?e.Representation_asArray[0].mimeType:null},getKID:function(e){return e&&e.hasOwnProperty(a.default.CENC_DEFAULT_KID)?e[a.default.CENC_DEFAULT_KID]:null},getContentProtectionData:function(e){return e&&e.hasOwnProperty(a.default.CONTENTPROTECTION_ASARRAY)&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null},getIsDynamic:M,getIsDVB:function(e){return function(e,t){var n=!1;return e&&e.profiles&&e.profiles.length>0&&(n=-1!==e.profiles.indexOf(t)),n}(e,w)},getDuration:function(e){return e&&e.hasOwnProperty(a.default.MEDIA_PRESENTATION_DURATION)?e.mediaPresentationDuration:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(e){return e&&e.bandwidth?e.bandwidth:NaN},getManifestUpdatePeriod:function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=NaN;return e&&e.hasOwnProperty(a.default.MINIMUM_UPDATE_PERIOD)&&(n=e.minimumUpdatePeriod),isNaN(n)?n:Math.max(n-t,1)},getRepresentationCount:function(e){return e&&e.Representation_asArray&&e.Representation_asArray.length?e.Representation_asArray.length:0},getBitrateListForAdaptation:function(e){return e&&e.Representation_asArray&&e.Representation_asArray.length?B(e).Representation_asArray.map(function(e){return{bandwidth:e.bandwidth,width:e.width||0,height:e.height||0,scanType:e.scanType||null}}):null},getRepresentationFor:function(e,t){return t&&t.Representation_asArray&&t.Representation_asArray.length>0&&C(e)?t.Representation_asArray[e]:null},getRepresentationsForAdaptation:function(e){var t=[],n=W(e),r=void 0,i=void 0;if(e&&e.period&&C(e.period.index)){var o=ia(e.period.mpd.manifest);o&&(i=o[0])}if(n&&n.Representation_asArray)for(var u=0,d=n.Representation_asArray.length;u<d;++u){var c=n.Representation_asArray[u],f=new s.default;if(f.index=u,f.adaptation=e,c.hasOwnProperty(a.default.ID)&&(f.id=c.id),c.hasOwnProperty(a.default.CODECS)&&(f.codecs=c.codecs),c.hasOwnProperty(a.default.CODEC_PRIVATE_DATA)&&(f.codecPrivateData=c.codecPrivateData),c.hasOwnProperty(a.default.BANDWITH)&&(f.bandwidth=c.bandwidth),c.hasOwnProperty(a.default.WIDTH)&&(f.width=c.width),c.hasOwnProperty(a.default.HEIGHT)&&(f.height=c.height),c.hasOwnProperty(a.default.SCAN_TYPE)&&(f.scanType=c.scanType),c.hasOwnProperty(a.default.MAX_PLAYOUT_RATE)&&(f.maxPlayoutRate=c.maxPlayoutRate),c.hasOwnProperty(a.default.SEGMENT_BASE)?(r=c.SegmentBase,f.segmentInfoType=a.default.SEGMENT_BASE):c.hasOwnProperty(a.default.SEGMENT_LIST)?(r=c.SegmentList).hasOwnProperty(a.default.SEGMENT_TIMELINE)?(f.segmentInfoType=a.default.SEGMENT_TIMELINE,f.useCalculatedLiveEdgeTime=X(r.SegmentTimeline)):(f.segmentInfoType=a.default.SEGMENT_LIST,f.useCalculatedLiveEdgeTime=!0):c.hasOwnProperty(a.default.SEGMENT_TEMPLATE)?((r=c.SegmentTemplate).hasOwnProperty(a.default.SEGMENT_TIMELINE)?(f.segmentInfoType=a.default.SEGMENT_TIMELINE,f.useCalculatedLiveEdgeTime=X(r.SegmentTimeline)):f.segmentInfoType=a.default.SEGMENT_TEMPLATE,r.hasOwnProperty(a.default.INITIALIZATION_MINUS)&&(f.initialization=r.initialization.split("$Bandwidth$").join(c.bandwidth).split("$RepresentationID$").join(c.id))):f.segmentInfoType=a.default.BASE_URL,f.essentialProperties=U(c),r){if(r.hasOwnProperty(a.default.INITIALIZATION)){var h=r.Initialization;h.hasOwnProperty(a.default.SOURCE_URL)?f.initialization=h.sourceURL:h.hasOwnProperty(a.default.RANGE)&&(f.range=h.range)}else c.hasOwnProperty(a.default.MIME_TYPE)&&l(c.mimeType)&&(f.range=0);r.hasOwnProperty(a.default.TIMESCALE)&&(f.timescale=r.timescale),r.hasOwnProperty(a.default.DURATION)&&(f.segmentDuration=r.duration/f.timescale),r.hasOwnProperty(a.default.MEDIA)&&(f.media=r.media),r.hasOwnProperty(a.default.START_NUMBER)&&(f.startNumber=r.startNumber),r.hasOwnProperty(a.default.INDEX_RANGE)&&(f.indexRange=r.indexRange),r.hasOwnProperty(a.default.PRESENTATION_TIME_OFFSET)&&(f.presentationTimeOffset=r.presentationTimeOffset/f.timescale),r.hasOwnProperty(a.default.AVAILABILITY_TIME_OFFSET)?f.availabilityTimeOffset=r.availabilityTimeOffset:i&&void 0!==i.availabilityTimeOffset&&(f.availabilityTimeOffset=i.availabilityTimeOffset),r.hasOwnProperty(a.default.AVAILABILITY_TIME_COMPLETE)?f.availabilityTimeComplete="false"!==r.availabilityTimeComplete:i&&void 0!==i.availabilityTimeComplete&&(f.availabilityTimeComplete=i.availabilityTimeComplete)}f.MSETimeOffset=A.calcMSETimeOffset(f),f.path=[e.period.index,e.index,u],t.push(f)}return t},getAdaptationsForPeriod:function(t){var n=t&&C(t.index)?t.mpd.manifest.Period_asArray[t.index]:null,r=[],i=void 0,s=void 0,l=void 0;if(n&&n.AdaptationSet_asArray)for(l=0;l<n.AdaptationSet_asArray.length;l++)s=n.AdaptationSet_asArray[l],i=new u.default,s.hasOwnProperty(a.default.ID)&&(i.id=s.id),i.index=l,i.period=t,h(s)?i.type=o.default.MUXED:c(s)?i.type=o.default.AUDIO:d(s)?i.type=o.default.VIDEO:e(s)?i.type=o.default.FRAGMENTED_TEXT:j(s)?i.type=o.default.IMAGE:i.type=o.default.TEXT,r.push(i);return r},getRegularPeriods:function(e){var t,n=!!e&&M(e.manifest),r=[],i=null,o=null,s=null,l=null,u=void 0;for(u=0,t=e&&e.manifest&&e.manifest.Period_asArray?e.manifest.Period_asArray.length:0;u<t;u++)(o=e.manifest.Period_asArray[u]).hasOwnProperty(a.default.START)?(l=new f.default).start=o.start:null!==i&&o.hasOwnProperty(a.default.DURATION)&&null!==s?((l=new f.default).start=parseFloat((s.start+s.duration).toFixed(5)),l.duration=o.duration):0!==u||n||((l=new f.default).start=0),null!==s&&isNaN(s.duration)&&(s.duration=parseFloat((l.start-s.start).toFixed(5))),null!==l&&(l.id=aa(o,u)),null!==l&&o.hasOwnProperty(a.default.DURATION)&&(l.duration=o.duration),null!==l&&(l.index=u,l.mpd=e,r.push(l),i=o,s=l),o=null,l=null;return 0===r.length?r:(null!==s&&isNaN(s.duration)&&(s.duration=parseFloat((function(e){var t=M(e.mpd.manifest),n=void 0;if(e.mpd.manifest.mediaPresentationDuration)n=e.mpd.manifest.mediaPresentationDuration;else if(e.duration)n=e.duration;else{if(!t)throw new Error("Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.");n=Number.POSITIVE_INFINITY}return n}(s)-s.start).toFixed(5))),r)},getMpd:function(e){var t=new p.default;return e&&(t.manifest=e,e.hasOwnProperty(a.default.AVAILABILITY_START_TIME)?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):t.availabilityStartTime=new Date(e.loadedTime.getTime()),e.hasOwnProperty(a.default.AVAILABILITY_END_TIME)&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty(a.default.MINIMUM_UPDATE_PERIOD)&&(t.minimumUpdatePeriod=e.minimumUpdatePeriod),e.hasOwnProperty(a.default.MEDIA_PRESENTATION_DURATION)&&(t.mediaPresentationDuration=e.mediaPresentationDuration),e.hasOwnProperty(o.default.SUGGESTED_PRESENTATION_DELAY)&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty(a.default.TIMESHIFT_BUFFER_DEPTH)&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty(a.default.MAX_SEGMENT_DURATION)&&(t.maxSegmentDuration=e.maxSegmentDuration)),t},getEventsForPeriod:function(e){var t=e&&e.mpd&&e.mpd.manifest?e.mpd.manifest:null,n=t?t.Period_asArray:null,r=n&&e&&C(e.index)?n[e.index].EventStream_asArray:null,i=[],s=void 0,l=void 0;if(r)for(s=0;s<r.length;s++){var u=new m.default;if(u.period=e,u.timescale=1,!r[s].hasOwnProperty(o.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(u.schemeIdUri=r[s].schemeIdUri,r[s].hasOwnProperty(a.default.TIMESCALE)&&(u.timescale=r[s].timescale),r[s].hasOwnProperty(a.default.VALUE)&&(u.value=r[s].value),l=0;l<r[s].Event_asArray.length;l++){var d=new y.default;d.presentationTime=0,d.eventStream=u,r[s].Event_asArray[l].hasOwnProperty(a.default.PRESENTATION_TIME)&&(d.presentationTime=r[s].Event_asArray[l].presentationTime),r[s].Event_asArray[l].hasOwnProperty(a.default.DURATION)&&(d.duration=r[s].Event_asArray[l].duration),r[s].Event_asArray[l].hasOwnProperty(a.default.ID)&&(d.id=r[s].Event_asArray[l].id),i.push(d)}}return i},getEventStreamForAdaptationSet:function(e,t){var n=void 0,r=void 0,i=void 0;return e&&e.Period_asArray&&t&&t.period&&C(t.period.index)&&(r=e.Period_asArray[t.period.index])&&r.AdaptationSet_asArray&&C(t.index)&&(i=r.AdaptationSet_asArray[t.index])&&(n=i.InbandEventStream_asArray),ea(n,null)},getEventStreamForRepresentation:function(e,t){var n=void 0,r=void 0,i=void 0,o=void 0;return e&&e.Period_asArray&&t&&t.adaptation&&t.adaptation.period&&C(t.adaptation.period.index)&&(r=e.Period_asArray[t.adaptation.period.index])&&r.AdaptationSet_asArray&&C(t.adaptation.index)&&(i=r.AdaptationSet_asArray[t.adaptation.index])&&i.Representation_asArray&&C(t.index)&&(o=i.Representation_asArray[t.index])&&(n=o.InbandEventStream_asArray),ea(n,t)},getUTCTimingSources:function(e){var t=M(e),n=!!e&&e.hasOwnProperty(a.default.AVAILABILITY_START_TIME),r=e?e.UTCTiming_asArray:null,i=[];return(t||n)&&r&&r.forEach(function(e){var t=new g.default;e.hasOwnProperty(o.default.SCHEME_ID_URI)&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty(a.default.VALUE)&&(t.value=e.value.toString(),i.push(t)))}),i},getBaseURLsFromElement:ia,getRepresentationSortFunction:z,getLocation:function(e){if(e&&e.hasOwnProperty(o.default.LOCATION))return e.Location=e.Location_asArray[0],e.Location},getUseCalculatedLiveEdgeTimeForAdaptation:function(e){var t=W(e).Representation_asArray[0],n=void 0;return t.hasOwnProperty(a.default.SEGMENT_LIST)?!(n=t.SegmentList).hasOwnProperty(a.default.SEGMENT_TIMELINE)||X(n.SegmentTimeline):!(!t.hasOwnProperty(a.default.SEGMENT_TEMPLATE)||(n=t.SegmentTemplate,!n.hasOwnProperty(a.default.SEGMENT_TIMELINE)))&&X(n.SegmentTimeline)}}}Object.defineProperty(i,"__esModule",{value:!0});var o=d(t(99)),a=d(t(57)),s=d(t(85)),u=d(t(79)),f=d(t(84)),p=d(t(83)),g=d(t(87)),y=d(t(81)),v=d(t(80)),m=d(t(82)),_=d(t(204)),T=d(t(207)),E=d(t(47));e.__dashjs_factory_name="DashManifestModel",i.default=E.default.getSingletonFactory(e),n.exports=i.default},{204:204,207:207,47:47,57:57,79:79,80:80,81:81,82:82,83:83,84:84,85:85,87:87,99:99}],60:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){var e,t=this.context,n=(0,o.default)(t).getInstance().log,r=void 0,i=void 0,d=void 0;return e={parse:function(e){var t,r=window.performance.now();if(!(t=i.xml_str2json(e)))throw new Error("parsing the manifest failed");var o=window.performance.now();d.run(t);var a=window.performance.now();return n("Parsing complete: ( xml2json: "+(o-r).toPrecision(3)+"ms, objectiron: "+(a-o).toPrecision(3)+"ms, total: "+((a-r)/1e3).toPrecision(3)+"s)"),t},getMatchers:function(){return r},getIron:function(){return d}},r=[new u.default,new c.default,new f.default,new l.default],i=new s.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:r}),d=(0,a.default)(t).create({adaptationset:new h.default,period:new p.default}),e}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(47)),o=d(t(45)),a=d(t(70)),s=d(t(3)),l=d(t(69)),u=d(t(67)),c=d(t(66)),f=d(t(68)),h=d(t(63)),p=d(t(64));e.__dashjs_factory_name="DashParser",r.default=i.default.getClassFactory(e),n.exports=r.default},{3:3,45:45,47:47,63:63,64:64,66:66,67:67,68:68,69:69,70:70}],61:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=function(){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);this._name=e,this._merge=function(e){return e&&e.length&&e.charAt(0)===e.charAt(0).toUpperCase()}(e)}return r(a,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),a}();n.default=i,t.exports=n.default},{}],62:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(e(61)),o=function(){function a(e,t,n){var r=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this._name=e||"",this._properties=[],this._children=n||[],Array.isArray(t)&&t.forEach(function(e){r._properties.push(new i.default(e))})}return r(a,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),a}();n.default=o,t.exports=n.default},{61:61}],63:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},i=d(e(62)),o=d(e(57)),a=function(e){function b(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var e=[o.default.PROFILES,o.default.WIDTH,o.default.HEIGHT,o.default.SAR,o.default.FRAMERATE,o.default.AUDIO_SAMPLING_RATE,o.default.MIME_TYPE,o.default.SEGMENT_PROFILES,o.default.CODECS,o.default.MAXIMUM_SAP_PERIOD,o.default.START_WITH_SAP,o.default.MAX_PLAYOUT_RATE,o.default.CODING_DEPENDENCY,o.default.SCAN_TYPE,o.default.FRAME_PACKING,o.default.AUDIO_CHANNEL_CONFIGURATION,o.default.CONTENT_PROTECTION,o.default.ESSENTIAL_PROPERTY,o.default.SUPPLEMENTAL_PROPERTY,o.default.INBAND_EVENT_STREAM];r(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,o.default.ADAPTATION_SET,e,[new i.default(o.default.REPRESENTATION,e,[new i.default(o.default.SUB_REPRESENTATION,e)])])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,i.default),b}();n.default=a,t.exports=n.default},{57:57,62:62}],64:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},i=d(e(62)),o=d(e(57)),a=function(e){function b(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var e=[o.default.SEGMENT_BASE,o.default.SEGMENT_TEMPLATE,o.default.SEGMENT_LIST];r(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,o.default.PERIOD,e,[new i.default(o.default.ADAPTATION_SET,e,[new i.default(o.default.REPRESENTATION,e)])])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,i.default),b}();n.default=a,t.exports=n.default},{57:57,62:62}],65:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=function(){function a(e,t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this._test=e,this._converter=t}return r(a,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),a}();n.default=i,t.exports=n.default},{}],66:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},i=function(e){return e&&e.__esModule?e:{default:e}}(e(65)),o=60,a=60,s=1e3,l=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,u=function(e){function b(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,b),r(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,function(e){return l.test(e.value)},function(e){var t=l.exec(e),n=void 0;if(n=Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),t[6]&&parseInt(t[6],10)||0,t[7]&&parseFloat(t[7])*s||0),t[9]&&t[10]){var r=parseInt(t[9],10)*a+parseInt(t[10],10);n+=("+"===t[8]?-1:1)*r*o*s}return new Date(n)})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,i.default),b}();n.default=u,t.exports=n.default},{65:65}],67:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},i=d(e(65)),o=d(e(99)),a=d(e(57)),s=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,l=31536e3,u=2592e3,c=86400,f=3600,h=60,p=function(e){function b(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,b),r(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,function(e){for(var t=[a.default.MIN_BUFFER_TIME,a.default.MEDIA_PRESENTATION_DURATION,a.default.MINIMUM_UPDATE_PERIOD,a.default.TIMESHIFT_BUFFER_DEPTH,a.default.MAX_SEGMENT_DURATION,a.default.MAX_SUBSEGMENT_DURATION,o.default.SUGGESTED_PRESENTATION_DELAY,a.default.START,o.default.START_TIME,a.default.DURATION],n=t.length,r=0;r<n;r++)if(e.nodeName===t[r])return s.test(e.value);return!1},function(e){var t=s.exec(e),n=parseFloat(t[2]||0)*l+parseFloat(t[4]||0)*u+parseFloat(t[6]||0)*c+parseFloat(t[8]||0)*f+parseFloat(t[10]||0)*h+parseFloat(t[12]||0);return void 0!==t[1]&&(n=-n),n})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,i.default),b}();n.default=p,t.exports=n.default},{57:57,65:65,99:99}],68:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},i=function(e){return e&&e.__esModule?e:{default:e}}(e(65)),o=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,a=function(e){function b(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,b),r(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,function(e){return o.test(e.value)},function(e){return parseFloat(e)})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,i.default),b}();n.default=a,t.exports=n.default},{65:65}],69:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},o=d(t(65)),a=d(t(57)),s=function(t){function b(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,b),i(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,function(t,n){var r,i=(e(r={},a.default.MPD,[a.default.ID,a.default.PROFILES]),e(r,a.default.PERIOD,[a.default.ID]),e(r,a.default.BASE_URL,[a.default.SERVICE_LOCATION,a.default.BYTE_RANGE]),e(r,a.default.SEGMENT_BASE,[a.default.INDEX_RANGE]),e(r,a.default.INITIALIZATION,[a.default.RANGE]),e(r,a.default.REPRESENTATION_INDEX,[a.default.RANGE]),e(r,a.default.SEGMENT_LIST,[a.default.INDEX_RANGE]),e(r,a.default.BITSTREAM_SWITCHING,[a.default.RANGE]),e(r,a.default.SEGMENT_URL,[a.default.MEDIA_RANGE,a.default.INDEX_RANGE]),e(r,a.default.SEGMENT_TEMPLATE,[a.default.INDEX_RANGE,a.default.MEDIA,a.default.INDEX,a.default.INITIALIZATION_MINUS,a.default.BITSTREAM_SWITCHING_MINUS]),e(r,a.default.ASSET_IDENTIFIER,[a.default.VALUE,a.default.ID]),e(r,a.default.EVENT_STREAM,[a.default.VALUE]),e(r,a.default.ADAPTATION_SET,[a.default.PROFILES,a.default.MIME_TYPE,a.default.SEGMENT_PROFILES,a.default.CODECS,a.default.CONTENT_TYPE]),e(r,a.default.FRAME_PACKING,[a.default.VALUE,a.default.ID]),e(r,a.default.AUDIO_CHANNEL_CONFIGURATION,[a.default.VALUE,a.default.ID]),e(r,a.default.CONTENT_PROTECTION,[a.default.VALUE,a.default.ID]),e(r,a.default.ESSENTIAL_PROPERTY,[a.default.VALUE,a.default.ID]),e(r,a.default.SUPPLEMENTAL_PROPERTY,[a.default.VALUE,a.default.ID]),e(r,a.default.INBAND_EVENT_STREAM,[a.default.VALUE,a.default.ID]),e(r,a.default.ACCESSIBILITY,[a.default.VALUE,a.default.ID]),e(r,a.default.ROLE,[a.default.VALUE,a.default.ID]),e(r,a.default.RATING,[a.default.VALUE,a.default.ID]),e(r,a.default.VIEWPOINT,[a.default.VALUE,a.default.ID]),e(r,a.default.CONTENT_COMPONENT,[a.default.CONTENT_TYPE]),e(r,a.default.REPRESENTATION,[a.default.ID,a.default.DEPENDENCY_ID,a.default.MEDIA_STREAM_STRUCTURE_ID]),e(r,a.default.SUBSET,[a.default.ID]),e(r,a.default.METRICS,[a.default.METRICS_MINUS]),e(r,a.default.REPORTING,[a.default.VALUE,a.default.ID]),r);if(i.hasOwnProperty(n)){var o=i[n];return void 0!==o&&o.indexOf(t.name)>=0}return!1},function(e){return String(e)})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,o.default),b}();r.default=s,n.exports=r.default},{57:57,65:65}],70:[function(t,n,r){"use strict";function e(e){function b(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function c(e,t,n){for(var r=0,i=e.length;r<i;++r){var o=e[r];if(t[o.name])if(n[o.name]){if(o.merge){var a=t[o.name],s=n[o.name];"object"==typeof a&&"object"==typeof s?b(a,s):n[o.name]=a+s}}else n[o.name]=t[o.name]}}function d(e,t){for(var n=0,r=e.children.length;n<r;++n){var i=e.children[n],o=t[i.name+"_asArray"];if(o)for(var a=0,s=o.length;a<s;++a){var l=o[a];c(e.properties,t,l),d(i,l)}}}return{run:function(t){if(null===t||"object"!=typeof t)return t;if("period"in e)for(var n=e.period,r=t.Period_asArray,i=0,o=r.length;i<o;++i){var a=r[i];if(d(n,a),"adaptationset"in e){var s=a.AdaptationSet_asArray;if(s)for(var l=e.adaptationset,u=0,c=s.length;u<c;++u)d(l,s[u])}}return t}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47));e.__dashjs_factory_name="ObjectIron";var o=i.default.getClassFactory(e);r.default=o,n.exports=r.default},{47:47}],71:[function(t,n,r){"use strict";function e(){var e=void 0;return{getSamplesInfo:function(t){if(!e)throw new Error("boxParser is undefined");if(!t||0===t.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var n,r,i=e.parse(t),o=i.getBoxes("moof"),a=i.getBoxes("mfhd"),s=void 0,l=void 0,u=void 0,d=void 0,c=void 0,f=void 0,h=void 0,p=void 0,g=void 0,y=void 0,v=void 0,m=void 0,_=void 0,T=void 0;r=i.getBoxes("moof").length,n=a[a.length-1].sequence_number,l=0,c=[];var E=-1,b=-1;for(y=0;y<o.length;y++){var A=o[y],S=A.getChildBoxes("traf");for(p=0;p<S.length;p++){var w=S[p],C=w.getChildBox("tfhd"),I=w.getChildBox("tfdt");d=I.baseMediaDecodeTime;var M=w.getChildBoxes("trun"),O=w.getChildBoxes("subs");for(g=0;g<M.length;g++){var R=M[g];for(l=R.sample_count,_=(C.base_data_offset||0)+(R.data_offset||0),h=0;h<l;h++){s=void 0!==(f=R.samples[h]).sample_duration?f.sample_duration:C.default_sample_duration,u=void 0!==f.sample_size?f.sample_size:C.default_sample_size;var P={dts:d,cts:d+(void 0!==f.sample_composition_time_offset?f.sample_composition_time_offset:0),duration:s,offset:A.offset+_,size:u,subSizes:[u]};if(O)for(v=0;v<O.length;v++){var D=O[v];if(E<D.entry_count&&h>b&&(E++,b+=D.entries[E].sample_delta),h==b){P.subSizes=[];var N=D.entries[E];for(m=0;m<N.subsample_count;m++)P.subSizes.push(N.subsamples[m].subsample_size)}}c.push(P),_+=u,d+=s}}T=d-I.baseMediaDecodeTime}}return{sampleList:c,lastSequenceNumber:n,totalDuration:T,numSequences:r}},getMediaTimescaleFromMoov:function(t){if(!e)throw new Error("boxParser is undefined");var n=e.parse(t),r=n?n.getBox("mdhd"):void 0;return r?r.timescale:NaN},setConfig:function(t){t&&t.boxParser&&(e=t.boxParser)}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47));e.__dashjs_factory_name="FragmentedTextBoxParser",r.default=i.default.getSingletonFactory(e),n.exports=r.default},{47:47}],72:[function(t,n,r){"use strict";function e(e,t){var n=(e=e||{}).timelineConverter;return{getSegments:function(e,r,i,a){var s,l,u,d,c=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,f=c.SegmentURL_asArray.length,h=[],p=void 0,g=void 0,y=void 0;for(d=e.startNumber,s=(0,o.decideSegmentListRangeForTemplate)(n,t,e,r,i,a),l=Math.max(s.start,0),u=Math.min(s.end,c.SegmentURL_asArray.length-1),p=l;p<=u;p++)y=c.SegmentURL_asArray[p],(g=(0,o.getIndexBasedSegment)(n,t,e,p)).replacementTime=(d+p-1)*e.segmentDuration,g.media=y.media?y.media:"",g.mediaRange=y.mediaRange,g.index=y.index,g.indexRange=y.indexRange,h.push(g),g=null;return e.availableSegmentsNumber=f,h}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47)),o=t(75);e.__dashjs_factory_name="ListSegmentsGetter";var a=i.default.getClassFactory(e);r.default=a,n.exports=r.default},{47:47,75:75}],73:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=function(){function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a)}return r(a,null,[{key:"round10",value:function(e,t){return function(e,t,n){return void 0===n||0==+n?Math[e](t):(n=+n,null===(t=+t)||isNaN(t)||"number"!=typeof n||n%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+n:n))))}("round",e,t)}}]),a}();n.default=i,t.exports=n.default},{}],74:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e,t){var n,r=this.context,o=void 0,u=void 0,d=void 0;return n={getSegments:function(e,t,n,r,a){var s=void 0,l=e.segmentInfoType;l!==i.default.SEGMENT_BASE&&l!==i.default.BASE_URL&&function(e,t){var n=e.segments,r=!1,i=void 0,o=void 0;return n&&0!==n.length?(o=n[0].availabilityIdx,i=n[n.length-1].availabilityIdx,r=t<o||t>i):r=!0,r}(e,n)?(l===i.default.SEGMENT_TIMELINE?s=o.getSegments(e,t,n,a):l===i.default.SEGMENT_TEMPLATE?s=u.getSegments(e,t,n,a):l===i.default.SEGMENT_LIST&&(s=d.getSegments(e,t,n,a)),r&&r(e,s)):s=e.segments}},o=(0,a.default)(r).create(e,t),u=(0,s.default)(r).create(e,t),d=(0,l.default)(r).create(e,t),n}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(57)),o=d(t(47)),a=d(t(78)),s=d(t(76)),l=d(t(72));e.__dashjs_factory_name="SegmentsGetter";var u=o.default.getClassFactory(e);r.default=u,n.exports=r.default},{47:47,57:57,72:72,76:76,78:78}],75:[function(t,n,r){"use strict";function e(e,t){for(;e.length<t;)e="0"+e;return e}function f(e,t){return e.representation.startNumber+t}function i(t,n,r){var i=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,d=n.length,c="%0".length;if(!t)return t;for(;;){if((i=t.indexOf("$"+n))<0)return t;if((o=t.indexOf("$",i+d))<0)return t;if((a=t.indexOf("%0",i+d))>i&&a<o)switch(s=t.charAt(o-1),l=parseInt(t.substring(a+c,o-1),10),s){case"d":case"i":case"u":u=e(r.toString(),l);break;case"x":u=e(r.toString(16),l);break;case"X":u=e(r.toString(16),l).toUpperCase();break;case"o":u=e(r.toString(8),l);break;default:return t}else u=r;t=t.substring(0,i)+u+t.substring(o+1)}}function l(e,t){if(!t||!t.segments)return null;var n=t.segments.length,r=void 0,i=void 0;if(e<n&&(r=t.segments[e])&&r.availabilityIdx===e)return r;for(i=0;i<n;i++)if((r=t.segments[i])&&r.availabilityIdx===e)return r;return null}Object.defineProperty(r,"__esModule",{value:!0}),r.unescapeDollarsInTemplate=function(e){return e?e.split("$$").join("$"):e},r.replaceIDForTemplate=function(e,t){if(!t||!e||-1===e.indexOf("$RepresentationID$"))return e;var n=t.toString();return e.split("$RepresentationID$").join(n)},r.replaceTokenForTemplate=i,r.getIndexBasedSegment=function(e,t,n,r){var i,a,s=void 0,l=void 0;return l=n.segmentDuration,isNaN(l)&&(l=n.adaptation.period.duration),i=parseFloat((n.adaptation.period.start+r*l).toFixed(5)),a=parseFloat((i+l).toFixed(5)),(s=new o.default).representation=n,s.duration=l,s.presentationStartTime=i,s.mediaStartTime=e.calcMediaTimeFromPresentationTime(s.presentationStartTime,n),s.availabilityStartTime=e.calcAvailabilityStartTimeFromPresentationTime(s.presentationStartTime,n.adaptation.period.mpd,t),s.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(a,n.adaptation.period.mpd,t),s.wallStartTime=e.calcWallTimeForSegment(s,t),s.replacementNumber=f(s,r),s.availabilityIdx=r,s},r.getTimeBasedSegment=function(e,t,n,r,a,s,l,u,d,c){var h,p,g=r/s,y=Math.min(a/s,n.adaptation.period.mpd.maxSegmentDuration),v=void 0;return p=(h=e.calcPresentationTimeFromMediaTime(g,n))+y,(v=new o.default).representation=n,v.duration=y,v.mediaStartTime=g,v.presentationStartTime=h,v.availabilityStartTime=n.adaptation.period.mpd.manifest.loadedTime,v.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(p,n.adaptation.period.mpd,t),v.wallStartTime=e.calcWallTimeForSegment(v,t),v.replacementTime=c||r,v.replacementNumber=f(v,d),l=i(l=i(l,"Number",v.replacementNumber),"Time",v.replacementTime),v.media=l,v.mediaRange=u,v.availabilityIdx=d,v},r.getSegmentByIndex=l,r.decideSegmentListRangeForTemplate=function(e,t,n,r,i,o){var a=n.segmentDuration,s=n.adaptation.period.mpd.manifest.minBufferTime,u=n.segmentAvailabilityRange,d={start:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,u.start),end:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,u.end)},c=n.segments,f=2*a,h=o||Math.max(2*s,10*a),p=NaN,g=null,y=void 0;return d.start=Math.max(d.start,0),t&&!e.isTimeSyncCompleted()?{start:y=Math.floor(d.start/a),end:Math.floor(d.end/a)}:(p=c&&c.length>0?(g=l(i,n))?e.calcPeriodRelativeTimeFromMpdRelativeTime(n,g.presentationStartTime):i>0?i*a:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,r):i>0?i*a:t?d.end:d.start,{start:y=Math.floor(Math.max(p-f,d.start)/a),end:Math.floor(Math.min(y+h/a,d.end/a))})};var o=function(e){return e&&e.__esModule?e:{default:e}}(t(86))},{86:86}],76:[function(t,n,r){"use strict";function e(e,t){var n=e.timelineConverter;return{getSegments:function(e,r,i,a){var s,l,u,d,c=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate,f=e.segmentDuration,h=e.segmentAvailabilityRange,p=[],g=null,y=null,v=void 0;for(d=e.startNumber,l=(s=isNaN(f)&&!t?{start:d,end:d}:(0,o.decideSegmentListRangeForTemplate)(n,t,e,r,i,a)).start,u=s.end,v=l;v<=u;v++)(y=(0,o.getIndexBasedSegment)(n,t,e,v)).replacementTime=(d+v-1)*e.segmentDuration,g=c.media,g=(0,o.replaceTokenForTemplate)(g,"Number",y.replacementNumber),g=(0,o.replaceTokenForTemplate)(g,"Time",y.replacementTime),y.media=g,p.push(y),y=null;return isNaN(f)?e.availableSegmentsNumber=1:e.availableSegmentsNumber=Math.ceil((h.end-h.start)/f),p}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47)),o=t(75);e.__dashjs_factory_name="TemplateSegmentsGetter";var a=i.default.getClassFactory(e);r.default=a,n.exports=r.default},{47:47,75:75}],77:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function e(e){r=e}function j(e,t,n,i){return i?n&&t.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(t.availabilityStartTime.getTime()+1e3*(e+t.timeShiftBufferDepth)):t.availabilityEndTime:n?new Date(t.availabilityStartTime.getTime()+1e3*(e-r)):t.availabilityStartTime}function m(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+1e3*r)/1e3}function s(t){a||void 0!==t.offset&&(e(t.offset/1e3),a=!0)}function u(){r=0,a=!1,l=NaN}var t=this.context,n=(0,i.default)(t).getInstance(),r=void 0,a=void 0,l=void 0;return{initialize:function(){u(),n.on(o.default.TIME_SYNCHRONIZATION_COMPLETED,s,this)},isTimeSyncCompleted:function(){return a},setTimeSyncCompleted:function(e){a=e},getClientTimeOffset:function(){return r},setClientTimeOffset:e,getExpectedLiveEdge:function(){return l},setExpectedLiveEdge:function(e){l=e},calcAvailabilityStartTimeFromPresentationTime:function(e,t,n){return j.call(this,e,t,n)},calcAvailabilityEndTimeFromPresentationTime:function(e,t,n){return j.call(this,e,t,n,!0)},calcPresentationTimeFromWallTime:m,calcPresentationTimeFromMediaTime:function(e,t){return e+(t.adaptation.period.start-t.presentationTimeOffset)},calcPeriodRelativeTimeFromMpdRelativeTime:function(e,t){return t-e.adaptation.period.start},calcMediaTimeFromPresentationTime:function(e,t){return e-t.adaptation.period.start+t.presentationTimeOffset},calcSegmentAvailabilityRange:function(e,t){var n=e.adaptation.period,r={start:n.start,end:n.start+n.duration};if(!t)return r;if(!a&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;var i=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0),o=m(new Date,n),s=n.start+n.duration;r.start=Math.max(o-n.mpd.timeShiftBufferDepth,n.start);var l=void 0!==e.availabilityTimeOffset&&e.availabilityTimeOffset<i?i-e.availabilityTimeOffset:i;return r.end=o>=s&&o-l<s?s:o-l,r},calcWallTimeForSegment:function(e,t){var n=void 0,r=void 0,i=void 0;return t&&(n=e.representation.adaptation.period.mpd.suggestedPresentationDelay,r=e.presentationStartTime+n,i=new Date(e.availabilityStartTime.getTime()+1e3*r)),i},calcMSETimeOffset:function(e){var t=e.presentationTimeOffset;return e.adaptation.period.start-t},reset:function(){n.off(o.default.TIME_SYNCHRONIZATION_COMPLETED,s,this),u()}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(46)),o=d(t(50)),a=d(t(47));e.__dashjs_factory_name="TimelineConverter",r.default=a.default.getSingletonFactory(e),n.exports=r.default},{46:46,47:47,50:50}],78:[function(t,n,r){"use strict";function e(e,t){var n=(e=e||{}).timelineConverter;return{getSegments:function(e,r,i,a){if(function(){if(!(n&&n.hasOwnProperty("calcMediaTimeFromPresentationTime")&&n.hasOwnProperty("calcSegmentAvailabilityRange")&&n.hasOwnProperty("calcMediaTimeFromPresentationTime")))throw new Error("Missing config parameter(s)")}(),!e)throw new Error("no representation");void 0===r&&(r=null);var s,l=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,u=l.SegmentTimeline,d=l.SegmentURL_asArray,c=e.availableSegmentsNumber>0;s=a||(i>-1||null!==r?10:1/0);var f,h,p,g=0,y=0,v=-1,m=[],_=null,T=void 0,E=void 0,b=void 0,A=void 0,S=void 0,w=void 0,C=void 0,I=void 0,M=function(r,i){var a=l.media,s=r.mediaRange;return d&&(a=d[i].media||"",s=d[i].mediaRange),(0,o.getTimeBasedSegment)(n,t,e,g,r.d,I,a,s,v,r.tManifest)};for(I=e.timescale,f=u.S_asArray,p=i,null!==r&&(_=n.calcMediaTimeFromPresentationTime(r,e)),E=0,h=f.length;E<h;E++){if(A=0,(T=f[E]).hasOwnProperty("r")&&(A=T.r),T.hasOwnProperty("t")&&(y=(g=T.t)/I),A<0){if((w=f[E+1])&&w.hasOwnProperty("t"))S=w.t/I;else{var O=e.segmentAvailabilityRange?e.segmentAvailabilityRange.end:n.calcSegmentAvailabilityRange(e,t).end;S=n.calcMediaTimeFromPresentationTime(O,e),e.segmentDuration=T.d/I}A=Math.ceil((S-y)/(T.d/I))-1}if(C){if(c)break;v+=A+1}else for(b=0;b<=A;b++)if(v++,m.length>s){if(C=!0,c)break}else null!==_?y>=_-T.d/I*1.5&&m.push(M(T,v)):v>=p&&m.push(M(T,v)),y=(g+=T.d)/I}return c||(e.availableSegmentsNumber=v+1),m}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47)),o=t(75);e.__dashjs_factory_name="TimelineSegmentsGetter";var a=i.default.getClassFactory(e);r.default=a,n.exports=r.default},{47:47,75:75}],79:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.period=null,this.index=-1,this.type=null},t.exports=n.default},{}],80:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function a(e,t,n,r){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.url=e||"",this.serviceLocation=t||e||"",this.dvb_priority=n||1,this.dvb_weight=r||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0};r.DEFAULT_DVB_PRIORITY=1,r.DEFAULT_DVB_WEIGHT=1,n.default=r,t.exports=n.default},{}],81:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},t.exports=n.default},{}],82:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""},t.exports=n.default},{}],83:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN},t.exports=n.default},{}],84:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};r.DEFAULT_ID="defaultId",n.default=r,t.exports=n.default},{}],85:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(e(57)),o=function(){function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return r(a,null,[{key:"hasInitialization",value:function(e){return null!==e.initialization||null!==e.range}},{key:"hasSegments",value:function(e){return e.segmentInfoType!==i.default.BASE_URL&&e.segmentInfoType!==i.default.SEGMENT_BASE&&!e.indexRange}}]),a}();n.default=o,t.exports=n.default},{57:57}],86:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null},t.exports=n.default},{}],87:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.schemeIdUri="",this.value=""},t.exports=n.default},{}],88:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){e=e||{};var t=this.context,n=(0,s.default)(t).getInstance(),r=void 0,u=void 0;return r={checkForExistence:function(e){var t=function(t){n.trigger(l.default.CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:t})};if(e){var r=new o.default(e.url);u.load({request:r,success:function(){t(!0)},error:function(){t(!1)}})}else t(!1)},load:function(e){var t=function(t,i){n.trigger(l.default.LOADING_COMPLETED,{request:e,response:t||null,error:i||null,sender:r})};e?u.load({request:e,progress:function(t){n.trigger(l.default.LOADING_PROGRESS,{request:e}),t&&n.trigger(l.default.LOADING_DATA_PROGRESS,{request:e,response:t||null,error:null,sender:r})},success:function(e){t(e)},error:function(e,n,r){t(void 0,new a.default(c,r,n))},abort:function(e){e&&n.trigger(l.default.LOADING_ABANDONED,{request:e,mediaType:e.mediaType,sender:r})}}):t(void 0,new a.default(f,h))},abort:function(){u&&u.abort()},reset:function(){u&&(u.abort(),u=null)}},u=(0,i.default)(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,useFetch:e.mediaPlayerModel.getLowLatencyEnabled()}),r}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(146)),o=d(t(215)),a=d(t(212)),s=d(t(46)),l=d(t(50)),u=d(t(47)),c=1,f=2,h="request is null";e.__dashjs_factory_name="FragmentLoader";var p=u.default.getClassFactory(e);p.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=c,p.FRAGMENT_LOADER_ERROR_NULL_REQUEST=f,u.default.updateClassFactory(e.__dashjs_factory_name,p),r.default=p,n.exports=r.default},{146:146,212:212,215:215,46:46,47:47,50:50}],89:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function c(e){n.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}function d(e){var n=null;return e.indexOf("SmoothStreamingMedia")>-1?(w&&(n=w.createMssParser(),w.registerEvents()),n):e.indexOf("MPD")>-1?(0,y.default)(t).create():n}e=e||{};var t=this.context,n=(0,h.default)(t).getInstance(),r=(0,s.default)(t).getInstance(),g=(0,v.default)(t).getInstance().log,E=void 0,b=void 0,A=void 0,S=void 0,w=e.mssHandler,C=e.errHandler;return E={load:function(e){var t=new l.default(e,f.HTTPRequest.MPD_TYPE);b.load({request:t,success:function(t,o,a){if(A){var s=void 0,l=void 0,c=void 0;if(a&&a!==e?(l=r.parseBaseUrl(a),s=a):(r.isRelative(e)&&(e=r.resolve(e,window.location.href)),l=r.parseBaseUrl(e)),null===S&&(S=d(t)),null===S)return void n.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new u.default(m,"Failed detecting manifest type or manifest type unsupported : "+e)});A.setMatchers(S.getMatchers()),A.setIron(S.getIron());try{c=S.parse(t)}catch(t){return void n.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new u.default(m,"Failed parsing manifest : "+e)})}c?(c.url=s||e,c.originalUrl||(c.originalUrl=c.url),c.hasOwnProperty(i.default.LOCATION)&&(l=r.parseBaseUrl(c.Location_asArray[0]),g("BaseURI set by Location to: "+l)),c.baseUri=l,c.loadedTime=new Date,A.resolveManifestOnLoad(c)):n.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new u.default(m,T)})}},error:function(t,r,i){n.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new u.default(_,"Failed loading manifest: "+e+", "+i)})}})},reset:function(){n.off(p.default.XLINK_READY,c,E),A&&(A.reset(),A=null),b&&(b.abort(),b=null),w&&w.reset()}},n.on(p.default.XLINK_READY,c,E),b=(0,a.default)(t).create({errHandler:C,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier}),A=(0,o.default)(t).create({errHandler:C,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier}),S=null,E}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(99)),o=d(t(114)),a=d(t(146)),s=d(t(207)),l=d(t(223)),u=d(t(212)),f=t(232),h=d(t(46)),p=d(t(50)),g=d(t(47)),y=d(t(60)),v=d(t(45)),m=1,_=2,T="parsing failed";e.__dashjs_factory_name="ManifestLoader";var E=g.default.getClassFactory(e);E.MANIFEST_LOADER_ERROR_PARSING_FAILURE=m,E.MANIFEST_LOADER_ERROR_LOADING_FAILURE=_,g.default.updateClassFactory(e.__dashjs_factory_name,E),r.default=E,n.exports=r.default},{114:114,146:146,207:207,212:212,223:223,232:232,45:45,46:46,47:47,50:50,60:60,99:99}],90:[function(t,r,i){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function d(){i=NaN,y=!1,g=!0,f()}function f(){null!==u&&(clearInterval(u),u=null)}function h(e){f(),isNaN(e)&&!isNaN(i)&&(e=1e3*i),isNaN(e)||(t("Refresh manifest in "+e+" milliseconds."),u=setTimeout(l,e))}function j(){y=!0;var e=m.getValue(),t=e.url,n=_.getLocation(e);n&&(t=n),v.load(t)}function k(e){m.setValue(e);var n=new Date,o=(n.getTime()-e.loadedTime.getTime())/1e3;1e3*(i=_.getManifestUpdatePeriod(e,o))>2147483647&&(i=2147483.647),r.trigger(s.default.MANIFEST_UPDATED,{manifest:e}),t("Manifest has been refreshed at "+n+"["+n.getTime()/1e3+"] "),g||h()}function l(){if(!g||T.getScheduleWhilePaused())return y?void h(T.getManifestUpdateRetryInterval()):void j()}function n(e){e.error?E.manifestError(e.error.message,e.error.code):k(e.manifest)}function o(){g=!1,h()}function p(){g=!0,f()}function q(){y=!1}var e=this.context,t=(0,c.default)(e).getInstance().log,r=(0,a.default)(e).getInstance(),i=void 0,u=void 0,g=void 0,y=void 0,v=void 0,m=void 0,_=void 0,T=void 0,E=void 0;return{initialize:function(){d(),r.on(s.default.STREAMS_COMPOSED,q,this),r.on(s.default.PLAYBACK_STARTED,o,this),r.on(s.default.PLAYBACK_PAUSED,p,this),r.on(s.default.INTERNAL_MANIFEST_LOADED,n,this)},setManifest:function(e){k(e)},refreshManifest:j,setConfig:function(e){e&&(e.manifestModel&&(m=e.manifestModel),e.dashManifestModel&&(_=e.dashManifestModel),e.mediaPlayerModel&&(T=e.mediaPlayerModel),e.manifestLoader&&(v=e.manifestLoader),e.errHandler&&(E=e.errHandler))},reset:function(){r.off(s.default.PLAYBACK_STARTED,o,this),r.off(s.default.PLAYBACK_PAUSED,p,this),r.off(s.default.STREAMS_COMPOSED,q,this),r.off(s.default.INTERNAL_MANIFEST_LOADED,n,this),d()}}}Object.defineProperty(i,"__esModule",{value:!0});var a=d(t(46)),s=d(t(50)),u=d(t(47)),c=d(t(45));e.__dashjs_factory_name="ManifestUpdater",i.default=u.default.getClassFactory(e),r.exports=i.default},{45:45,46:46,47:47,50:50}],91:[function(n,r,i){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function e(){return!!Q&&!!me.getElement()}function j(){return(0,N.getVersionString)()}function t(){if(!ee)throw i;return pe.isPaused()}function R(e){var t=xc(),n=pe.getLiveDelay();if(!t)return 0;var r=t.range.start+e;return r>t.range.end-n&&(r=t.range.end-n),r}function T(e){if(!ee)throw i;var t=Rb().currentTime;if(void 0!==e)t=he.getTimeRelativeToStreamId(t,e);else if(pe.getIsDynamic()){var n=xc();t=null===n?0:V()-(n.range.end-n.time)}return t}function V(){if(!ee)throw i;var e=Rb().duration;if(pe.getIsDynamic()){var t,n=xc();if(!n)return 0;e=(t=n.range.end-n.range.start)<n.manifestInfo.DVRWindowSize?t:n.manifestInfo.DVRWindowSize}return e}function Da(e){te=e}function $a(e,t){_a(e,t);var n=new l.default;n.schemeIdUri=e,n.value=t,de.getUTCTimingSources().push(n)}function _a(e,t){var n=de.getUTCTimingSources();n.forEach(function(r,i){r.schemeIdUri===e&&r.value===t&&n.splice(i,1)})}function bb(){$a(b.default.DEFAULT_UTC_TIMING_SOURCE.scheme,b.default.DEFAULT_UTC_TIMING_SOURCE.value)}function Fb(){return ge}function Gb(e){return ue.getReadOnlyMetricsFor(e)}function Rb(){if(!me.getElement())throw d;return me.getElement()}function Ub(e){if(!$)throw G;me.setElement(e),e&&(uc(),function(){if(!ae){var e=dashjs.MetricsReporting;if("function"==typeof e){var t=e(K).create();ae=t.createMetricsReporting({log:X,eventBus:z,mediaElement:Rb(),dashManifestModel:ye,metricsModel:ue,events:O.default,constants:o.default,metricsConstants:s.default})}}}(),function(){if(!se){var e=dashjs.MssHandler;"function"==typeof e&&(se=e(K).create({eventBus:z,mediaPlayerModel:de,metricsModel:ue,playbackController:pe,protectionController:oe,errHandler:ce,events:O.default,constants:o.default,log:X,initSegmentType:B.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:U.default,ISOBoxer:H.default}))}}(),he&&he.switchToVideoElement()),ee&&rc(),Ac()}function Zb(e){if(!Z)throw r;var t=he.getActiveStreamInfo();return t?ie.getTracksFor(e,t):[]}function nc(t){if(!$)throw G;"string"==typeof t&&(0,_.default)(K).getInstance().initialize(t),Q=t,(Z||ee)&&rc(),e()&&Ac()}function rc(){ee=!1,Z=!1,le.reset(),he.reset(),pe.reset(),ne.reset(),ie.reset(),_e.reset(),oe&&(oe.reset(),oe=null,uc())}function tc(){return(0,h.default)(K).create({errHandler:ce,metricsModel:ue,mediaPlayerModel:de,requestModifier:(0,v.default)(K).getInstance(),mssHandler:se})}function uc(){if(oe)return oe;var e=dashjs.Protection;if("function"==typeof e){var t=e(K).create();return O.default.extend(e.events),P.default.extend(e.events,{publicOnly:!0}),fe||(fe=(0,g.default)(K).getInstance()),oe=t.createProtectionSystem({log:X,errHandler:ce,videoModel:me,capabilities:fe,eventBus:z,events:O.default,BASE64:U.default,constants:o.default})}return null}function xc(){var e=ue.getReadOnlyMetricsFor(o.default.VIDEO)||ue.getReadOnlyMetricsFor(o.default.AUDIO);return ge.getCurrentDVRInfo(e)}function yc(e){var t=xc();return t?e+(t.manifestInfo.availableFrom.getTime()/1e3+t.range.start):0}function zc(){if(!Z)throw r;var e=he.getActiveStreamInfo();return e?he.getStreamById(e.id):null}function Ac(){var t;!Z&&Q&&(Z=!0,X("Streaming Initialized"),t=tc(),he||(he=(0,c.default)(K).getInstance()),ie.setConfig({errHandler:ce,domStorage:Te}),he.setConfig({capabilities:fe,manifestLoader:t,manifestModel:ve,dashManifestModel:ye,mediaPlayerModel:de,protectionController:oe,adapter:le,metricsModel:ue,dashMetrics:ge,errHandler:ce,timelineConverter:re,videoModel:me,playbackController:pe,domStorage:Te,abrController:ne,mediaController:ie,textController:_e}),pe.setConfig({streamController:he,metricsModel:ue,dashMetrics:ge,manifestModel:ve,mediaPlayerModel:de,dashManifestModel:ye,adapter:le,videoModel:me}),ne.setConfig({streamController:he,domStorage:Te,mediaPlayerModel:de,metricsModel:ue,dashMetrics:ge,dashManifestModel:ye,manifestModel:ve,videoModel:me,adapter:le}),ne.createAbrRulesCollection(),_e.setConfig({errHandler:ce,manifestModel:ve,dashManifestModel:ye,mediaController:ie,streamController:he,videoModel:me}),he.initialize(te,J),"string"==typeof Q?he.load(Q):he.loadWithManifest(Q)),!ee&&e()&&(ee=!0,X("Playback Initialized"))}var n,r="You must first call initialize() and set a source before calling this method",i="You must first call initialize() and set a valid source and view before calling this method",d="You must first call attachView() to set the video element before calling this method",q="You must first call attachSource() with a valid source before calling this method",G="MediaPlayer not initialized!",Y="MediaPlayer Invalid Arguments!",K=this.context,z=(0,M.default)(K).getInstance(),W=(0,I.default)(K).getInstance(),X=W.log,Q=void 0,J=void 0,$=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,le=void 0,ue=void 0,de=void 0,ce=void 0,fe=void 0,he=void 0,pe=void 0,ge=void 0,ye=void 0,ve=void 0,me=void 0,_e=void 0,Te=void 0;return n={initialize:function(e,t,n){fe||(fe=(0,g.default)(K).getInstance()),ce=(0,p.default)(K).getInstance(),fe.supportsMediaSource()?$||($=!0,re=(0,F.default)(K).getInstance(),ne||(ne=(0,S.default)(K).getInstance()),pe||(pe=(0,u.default)(K).getInstance()),ie||(ie=(0,f.default)(K).getInstance()),le=(0,x.default)(K).getInstance(),ye=(0,k.default)(K).getInstance({mediaController:ie,timelineConverter:re,adapter:le}),ve=(0,E.default)(K).getInstance(),ge=(0,L.default)(K).getInstance({manifestModel:ve,dashManifestModel:ye}),ue=(0,A.default)(K).getInstance(),_e=(0,m.default)(K).getInstance(),Te=(0,C.default)(K).getInstance({mediaPlayerModel:de}),le.setConfig({dashManifestModel:ye}),ue.setConfig({adapter:le}),bb(),Da(void 0===n||n),e&&Ub(e),t&&nc(t),X("[dash.js "+j()+"] MediaPlayer has been initialized")):ce.capabilityError("mediasource")},setConfig:function(e){e&&(e.capabilities&&(fe=e.capabilities),e.streamController&&(he=e.streamController),e.playbackController&&(pe=e.playbackController),e.mediaPlayerModel&&(de=e.mediaPlayerModel),e.abrController&&(ne=e.abrController),e.mediaController&&(ie=e.mediaController))},on:function(e,t,n){z.on(e,t,n)},off:function(e,t,n){z.off(e,t,n)},extend:function(e,t,n){D.default.extend(e,t,n,K)},attachView:Ub,attachSource:nc,isReady:e,preload:function(){if(me.getElement()||Z)return!1;if(!Q)throw q;Ac()},play:function(){if(!ee)throw i;(!te||t()&&ee)&&pe.play()},isPaused:t,pause:function(){if(!ee)throw i;pe.pause()},isSeeking:function(){if(!ee)throw i;return pe.isSeeking()},isDynamic:function(){if(!ee)throw i;return pe.getIsDynamic()},seek:function(e){if(!ee)throw i;if("number"!=typeof e||isNaN(e))throw Y;var t=pe.getIsDynamic()?R(e):e;pe.seek(t)},setPlaybackRate:function(e){if(!me.getElement())throw d;Rb().playbackRate=e},getPlaybackRate:function(){if(!me.getElement())throw d;return Rb().playbackRate},setMute:function(e){if(!me.getElement())throw d;Rb().muted=e},isMuted:function(){if(!me.getElement())throw d;return Rb().muted},setVolume:function(e){if(!me.getElement())throw d;Rb().volume=e},getVolume:function(){if(!me.getElement())throw d;return Rb().volume},time:T,duration:V,timeAsUTC:function(){if(!ee)throw i;return T()<0?NaN:yc(T())},durationAsUTC:function(){if(!ee)throw i;return yc(V())},getActiveStream:zc,getDVRWindowSize:function(){var e=xc();return e?e.manifestInfo.DVRWindowSize:0},getDVRSeekOffset:R,convertToTimeCode:function(e){e=Math.max(e,0);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(n<10?"0"+n.toString():n.toString())+":"+(r<10?"0"+r.toString():r.toString())},formatUTC:function(e,t,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],i=new Date(1e3*e),o=i.toLocaleDateString(t),a=i.toLocaleTimeString(t,{hour12:n});return r?a+" "+o:a},getVersion:j,getDebug:function(){return W},getBufferLength:function(e){var t,n=[o.default.VIDEO,o.default.AUDIO,o.default.FRAGMENTED_TEXT];return e?-1!==n.indexOf(e)?(t=Fb().getCurrentBufferLevel(Gb(e)))||NaN:(X("Warning  - getBufferLength requested for invalid type"),NaN):(t=n.map(function(e){return Zb(e).length>0?Fb().getCurrentBufferLevel(Gb(e)):Number.MAX_VALUE}).reduce(function(e,t){return Math.min(e,t)}))===Number.MAX_VALUE?NaN:t},getVideoContainer:function(){return me?me.getVideoContainer():null},getTTMLRenderingDiv:function(){return me?me.getTTMLRenderingDiv():null},getVideoElement:Rb,getSource:function(){if(!Q)throw q;return Q},setLiveDelayFragmentCount:function(e){de.setLiveDelayFragmentCount(e)},setLiveDelay:function(e){de.setLiveDelay(e)},getLiveDelay:function(){return de.getLiveDelay()},getCurrentLiveLatency:function(){if(!$)throw G;return ee?pe.getCurrentLiveLatency():NaN},useSuggestedPresentationDelay:function(e){de.setUseSuggestedPresentationDelay(e)},enableLastBitrateCaching:function(e,t){de.setLastBitrateCachingInfo(e,t)},enableLastMediaSettingsCaching:function(e,t){de.setLastMediaSettingsCachingInfo(e,t)},setMaxAllowedBitrateFor:function(e,t){ne.setMaxAllowedBitrateFor(e,t)},getMaxAllowedBitrateFor:function(e){return ne.getMaxAllowedBitrateFor(e)},getTopBitrateInfoFor:function(e){if(!Z)throw r;return ne.getTopBitrateInfoFor(e)},setMinAllowedBitrateFor:function(e,t){ne.setMinAllowedBitrateFor(e,t)},getMinAllowedBitrateFor:function(e){return ne.getMinAllowedBitrateFor(e)},setMaxAllowedRepresentationRatioFor:function(e,t){ne.setMaxAllowedRepresentationRatioFor(e,t)},getMaxAllowedRepresentationRatioFor:function(e){return ne.getMaxAllowedRepresentationRatioFor(e)},setAutoPlay:Da,getAutoPlay:function(){return te},setScheduleWhilePaused:function(e){de.setScheduleWhilePaused(e)},getScheduleWhilePaused:function(){return de.getScheduleWhilePaused()},getDashMetrics:Fb,getMetricsFor:Gb,getQualityFor:function(e){if(!Z)throw r;if(e===o.default.IMAGE){var t=zc();if(!t)return-1;var n=t.getThumbnailController();return n?n.getCurrentTrackIndex():-1}return ne.getQualityFor(e,he.getActiveStreamInfo())},setQualityFor:function(e,t){if(!Z)throw r;if(e===o.default.IMAGE){var n=zc();if(!n)return;var i=n.getThumbnailController();i&&i.setTrackByIndex(t)}ne.setPlaybackQuality(e,he.getActiveStreamInfo(),t)},updatePortalSize:function(){ne.setElementSize(),ne.setWindowResizeEventCalled(!0)},getLimitBitrateByPortal:function(){return ne.getLimitBitrateByPortal()},setLimitBitrateByPortal:function(e){ne.setLimitBitrateByPortal(e)},getUsePixelRatioInLimitBitrateByPortal:function(){return ne.getUsePixelRatioInLimitBitrateByPortal()},setUsePixelRatioInLimitBitrateByPortal:function(e){ne.setUsePixelRatioInLimitBitrateByPortal(e)},setTextDefaultLanguage:function(e){void 0===_e&&(_e=(0,m.default)(K).getInstance()),_e.setTextDefaultLanguage(e)},getTextDefaultLanguage:function(){return void 0===_e&&(_e=(0,m.default)(K).getInstance()),_e.getTextDefaultLanguage()},setTextDefaultEnabled:function(e){void 0===_e&&(_e=(0,m.default)(K).getInstance()),_e.setTextDefaultEnabled(e)},getTextDefaultEnabled:function(){return void 0===_e&&(_e=(0,m.default)(K).getInstance()),_e.getTextDefaultEnabled()},enableText:function(e){void 0===_e&&(_e=(0,m.default)(K).getInstance()),_e.enableText(e)},enableForcedTextStreaming:function(e){void 0===_e&&(_e=(0,m.default)(K).getInstance()),_e.enableForcedTextStreaming(e)},isTextEnabled:function(){return void 0===_e&&(_e=(0,m.default)(K).getInstance()),_e.isTextEnabled()},setTextTrack:function(e){if(!ee)throw i;void 0===_e&&(_e=(0,m.default)(K).getInstance()),_e.setTextTrack(e)},getBitrateInfoListFor:function(e){if(!Z)throw r;var t=zc();return t?t.getBitrateListFor(e):[]},setInitialBitrateFor:function(e,t){ne.setInitialBitrateFor(e,t)},getInitialBitrateFor:function(e){if(!Z)throw r;return ne.getInitialBitrateFor(e)},setInitialRepresentationRatioFor:function(e,t){ne.setInitialRepresentationRatioFor(e,t)},getInitialRepresentationRatioFor:function(e){return ne.getInitialRepresentationRatioFor(e)},getStreamsFromManifest:function(e){if(!Z)throw r;return le.getStreamsInfo(e)},getTracksFor:Zb,getTracksForTypeFromManifest:function(e,t,n){if(!Z)throw r;return(n=n||le.getStreamsInfo(t,1)[0])?le.getAllMediaInfoForType(n,e,t):[]},getCurrentTrackFor:function(e){if(!Z)throw r;var t=he.getActiveStreamInfo();return t?ie.getCurrentTrackFor(e,t):null},setInitialMediaSettingsFor:function(e,t){if(!$)throw G;ie.setInitialSettings(e,t)},getInitialMediaSettingsFor:function(e){if(!$)throw G;return ie.getInitialSettings(e)},setCurrentTrack:function(e){if(!Z)throw r;ie.setTrack(e)},getTrackSwitchModeFor:function(e){if(!$)throw G;return ie.getSwitchMode(e)},setTrackSwitchModeFor:function(e,t){if(!$)throw G;ie.setSwitchMode(e,t)},setSelectionModeForInitialTrack:function(e){if(!$)throw G;ie.setSelectionModeForInitialTrack(e)},getSelectionModeForInitialTrack:function(){if(!$)throw G;return ie.getSelectionModeForInitialTrack()},setFastSwitchEnabled:function(e){de.setFastSwitchEnabled(e)},getFastSwitchEnabled:function(){return de.getFastSwitchEnabled()},setMovingAverageMethod:function(e){e===o.default.MOVING_AVERAGE_SLIDING_WINDOW||e===o.default.MOVING_AVERAGE_EWMA?de.setMovingAverageMethod(e):X("Warning: Ignoring setMovingAverageMethod("+e+") - unknown value.")},getMovingAverageMethod:function(){return de.getMovingAverageMethod()},getAutoSwitchQualityFor:function(e){return ne.getAutoSwitchBitrateFor(e)},setAutoSwitchQualityFor:function(e,t){ne.setAutoSwitchBitrateFor(e,t)},setABRStrategy:function(e){e===o.default.ABR_STRATEGY_DYNAMIC||e===o.default.ABR_STRATEGY_BOLA||e===o.default.ABR_STRATEGY_THROUGHPUT?de.setABRStrategy(e):X("Warning: Ignoring setABRStrategy("+e+") - unknown value.")},getABRStrategy:function(){return de.getABRStrategy()},useDefaultABRRules:function(e){de.setUseDefaultABRRules(e)},addABRCustomRule:function(e,t,n){de.addABRCustomRule(e,t,n)},removeABRCustomRule:function(e){de.removeABRCustomRule(e)},removeAllABRCustomRule:function(){de.removeAllABRCustomRule()},setBandwidthSafetyFactor:function(e){de.setBandwidthSafetyFactor(e)},getBandwidthSafetyFactor:function(){return de.getBandwidthSafetyFactor()},getAverageThroughput:function(e){var t=ne.getThroughputHistory();return t?t.getAverageThroughput(e):0},setAbandonLoadTimeout:function(e){de.setAbandonLoadTimeout(e)},retrieveManifest:function(e,t){var n=tc(),r=this;z.on(O.default.INTERNAL_MANIFEST_LOADED,function a(e){e.error?t(null,e.error):t(e.manifest),z.off(O.default.INTERNAL_MANIFEST_LOADED,a,r),n.reset()},r),(0,_.default)(K).getInstance().initialize(e),n.load(e)},addUTCTimingSource:$a,removeUTCTimingSource:_a,clearDefaultUTCTimingSources:function(){de.setUTCTimingSources([])},restoreDefaultUTCTimingSources:bb,setBufferToKeep:function(e){de.setBufferToKeep(e)},setBufferAheadToKeep:function(e){de.setBufferAheadToKeep(e)},setBufferPruningInterval:function(e){de.setBufferPruningInterval(e)},setStableBufferTime:function(e){de.setStableBufferTime(e)},getStableBufferTime:function(){return de.getStableBufferTime()},setBufferTimeAtTopQuality:function(e){de.setBufferTimeAtTopQuality(e)},getBufferTimeAtTopQuality:function(){return de.getBufferTimeAtTopQuality()},setBufferTimeAtTopQualityLongForm:function(e){de.setBufferTimeAtTopQualityLongForm(e)},getBufferTimeAtTopQualityLongForm:function(){return de.getBufferTimeAtTopQualityLongForm()},setFragmentLoaderRetryAttempts:function(e){de.setFragmentRetryAttempts(e)},setFragmentLoaderRetryInterval:function(e){de.setFragmentRetryInterval(e)},setManifestLoaderRetryAttempts:function(e){de.setManifestRetryAttempts(e)},setManifestLoaderRetryInterval:function(e){de.setManifestRetryInterval(e)},setXHRWithCredentialsForType:function(e,t){de.setXHRWithCredentialsForType(e,t)},getXHRWithCredentialsForType:function(e){return de.getXHRWithCredentialsForType(e)},setJumpGaps:function(e){de.setJumpGaps(e)},getJumpGaps:function(){return de.getJumpGaps()},setSmallGapLimit:function(e){de.setSmallGapLimit(e)},getSmallGapLimit:function(){return de.getSmallGapLimit()},getLowLatencyEnabled:function(){return de.getLowLatencyEnabled()},setLowLatencyEnabled:function(e){return de.setLowLatencyEnabled(e)},setManifestUpdateRetryInterval:function(e){de.setManifestUpdateRetryInterval(e)},getManifestUpdateRetryInterval:function(){return de.getManifestUpdateRetryInterval()},setLongFormContentDurationThreshold:function(e){de.setLongFormContentDurationThreshold(e)},setSegmentOverlapToleranceTime:function(e){de.setSegmentOverlapToleranceTime(e)},setCacheLoadThresholdForType:function(e,t){de.setCacheLoadThresholdForType(e,t)},getProtectionController:function(){return uc()},attachProtectionController:function(e){oe=e},setProtectionData:function(e){J=e,he&&he.setProtectionData(J)},enableManifestDateHeaderTimeSource:function(e){de.setUseManifestDateHeaderTimeSource(e)},displayCaptionsOnTop:function(e){var t=(0,y.default)(K).getInstance();t.setConfig({videoModel:me}),t.initialize(),t.displayCConTop(e)},attachVideoContainer:function(e){if(!me.getElement())throw d;me.setVideoContainer(e)},attachTTMLRenderingDiv:function(e){if(!me.getElement())throw d;me.setTTMLRenderingDiv(e)},getCurrentTextTrackIndex:function(){var e=NaN;return _e&&(e=_e.getCurrentTrackIdx()),e},getUseDeadTimeLatencyForAbr:function(){return ne.getUseDeadTimeLatency()},setUseDeadTimeLatencyForAbr:function(e){ne.setUseDeadTimeLatency(e)},getThumbnail:function(e){if(e<0)return null;var t=pe.getIsDynamic()?R(e):e,n=he.getStreamForTime(t);if(null===n)return null;var r=n.getThumbnailController(),i=n.getStreamInfo();if(!r||!i)return null;var o=he.getTimeRelativeToStreamId(t,n.getId());return r.get(o)},reset:function(){nc(null),Ub(null),J=null,oe&&(oe.reset(),oe=null),ae&&(ae.reset(),ae=null)}},$=!1,ee=!1,Z=!1,te=!0,oe=null,J=null,le=null,O.default.extend(P.default),de=(0,b.default)(K).getInstance(),me=(0,w.default)(K).getInstance(),n}Object.defineProperty(i,"__esModule",{value:!0});var o=d(n(99)),s=d(n(100)),l=d(n(87)),u=d(n(110)),c=d(n(112)),f=d(n(108)),h=d(n(89)),p=d(n(200)),g=d(n(196)),y=d(n(191)),v=d(n(205)),m=d(n(189)),_=d(n(143)),E=d(n(140)),b=d(n(141)),A=d(n(142)),S=d(n(102)),w=d(n(144)),C=d(n(198)),I=d(n(45)),M=d(n(46)),O=d(n(50)),P=d(n(92)),D=d(n(47)),N=n(48),x=d(n(52)),k=d(n(59)),L=d(n(54)),F=d(n(77)),B=n(232),U=d(n(1)),H=d(n(10));e.__dashjs_factory_name="MediaPlayer";var q=D.default.getClassFactory(e);q.events=P.default,D.default.updateClassFactory(e.__dashjs_factory_name,q),i.default=q,r.exports=i.default},{1:1,10:10,100:100,102:102,108:108,110:110,112:112,140:140,141:141,142:142,143:143,144:144,189:189,191:191,196:196,198:198,200:200,205:205,232:232,45:45,46:46,47:47,48:48,50:50,52:52,54:54,59:59,77:77,87:87,89:89,92:92,99:99}],92:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},i=function(e){return e&&e.__esModule?e:{default:e}}(e(51)),o=new(function(e){function b(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,b),r(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.SOURCE_INITIALIZED="sourceInitialized",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.TTML_PARSED="ttmlParsed",this.TTML_TO_PARSE="ttmlToParse",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_SEEK_ASKED="playbackSeekAsked",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.PLAYBACK_WAITING="playbackWaiting",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged"}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,i.default),b}());n.default=o,t.exports=n.default},{51:51}],93:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(91)),i=function(){function a(t,n,i){if(!t||"VIDEO"!==t.nodeName)return null;if(t._dashjs_player)return t._dashjs_player;var o=void 0,a=t.id||t.name||"video element";if(!(n=n||[].slice.call(t.querySelectorAll("source")).filter(function(t){return t.type==e})[0])&&t.src)(n=document.createElement("source")).src=t.src;else if(!n&&!t.src)return null;return i=i||{},(o=(0,r.default)(i).create()).initialize(t,n.src,t.autoplay),o.getDebug().log("Converted "+a+" to dash.js player and added content: "+n.src),t._dashjs_player=o,o}function c(e){for(var t=!0;t;){var n=e;if(t=!1,"video"===n.nodeName.toLowerCase())return n;e=n.parentNode,t=!0}}var e="application/dash+xml";return{create:a,createAll:function(t,n){var r=[];t=t||"[data-dashjs-player]";for(var i=(n=n||document).querySelectorAll(t),o=0;o<i.length;o++){var s=a(i[o],null);r.push(s)}var l=n.querySelectorAll('source[type="'+e+'"]');for(o=0;o<l.length;o++)s=a(c(l[o]),null),r.push(s);return r}}}(),o=void 0;!("undefined"!=typeof window&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&"undefined"!=typeof window&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?i.createAll():o=window.setInterval(function(){window.dashjs&&(window.clearInterval(o),i.createAll())},500):window.addEventListener("load",function f(){window.removeEventListener("load",f),i.createAll()})),n.default=i,t.exports=n.default},{91:91}],94:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function d(e,t){r=r.filter(function(n){return!((isNaN(t)||n.start<t)&&(isNaN(e)||n.end>e))})}var t=this.context,n=(0,i.default)(t).getInstance().log,r=[],o=void 0,a=e;return{getAllBufferRanges:function(){for(var e=[],t=0;t<r.length;t++){var n=r[t];0===e.length||n.start>e[e.length-1].end?e.push({start:n.start,end:n.end}):e[e.length-1].end=n.end}var i={start:function(t){return e[t].start},end:function(t){return e[t].end}};return Object.defineProperty(i,"length",{get:function(){return e.length}}),i},append:function(e){"InitializationSegment"!==e.segmentType?(r.push(e),r.sort(function(e,t){return e.start-t.start}),o=null):o=e,n("PreBufferSink appended chunk s: "+e.start+"; e: "+e.end),a&&a({chunk:e})},remove:d,abort:function(){},discharge:function(e,t){var n=function(e,t){return r.filter(function(n){return(isNaN(t)||n.start<t)&&(isNaN(e)||n.end>e)})}(e,t);return o&&(n.push(o),o=null),d(e,t),n},reset:function(){r=[],o=null,a=null}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(45)),o=d(t(47));e.__dashjs_factory_name="PreBufferSink";var a=o.default.getClassFactory(e);r.default=a,n.exports=r.default},{45:45,47:47}],95:[function(t,r,i){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e,t,r){function h(){return p?p.buffered:[]}function s(e,t){var n=void 0,r=function(){e.updating||(clearInterval(n),t())};if(e.updating)if("function"==typeof e.addEventListener)try{e.addEventListener("updateend",function c(){e.updating||(e.removeEventListener("updateend",c,!1),t())},!1)}catch(e){n=setInterval(r,50)}else n=setInterval(r,50);else t()}var i=this.context,d=(0,o.default)(i).getInstance().log,c=(0,l.default)(i).getInstance(),p=void 0,g=void 0,y=[],v=r,m={getAllBufferRanges:h,getBuffer:function(){return p},append:function(e){y.push(e),g||s(p,function n(){var e=this,t=this;y.length>0&&function(){g=!0;var r=y[0];y.splice(0,1);var i=[],o=function(){var e=h();(function(e,t,n,r){t&&t.length>0&&t.length<n.length&&function(e,t){for(var n=0;n<e.length;n++){var r=Math.round(e.start(n)),i=Math.round(e.end(n));if(i===t.start||r===t.end||t.start>=r&&t.end<=i)return!0}return!1}(t,r)&&c.trigger(u.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:n.end(n.length-2),to:n.start(n.length-1),unintended:!0})})(t,i,e,r),y.length>0?n.call(this):(g=!1,v&&v({chunk:r}))};try{0===r.bytes.length?o.call(e):(i=h(),p.appendBuffer?p.appendBuffer(r.bytes):p.append(r.bytes,r),s(p,o.bind(e)))}catch(e){d('SourceBuffer append failed "'+e+'"'),y.length>0?n():g=!1,v&&v({chunk:r,error:new a.default(e.code,e.message,null)})}}()}.bind(this))},remove:function(t,n,r){var i=this;s(p,function(){try{t>=0&&n>t&&(r||"ended"!==e.readyState)&&p.remove(t,n),s(p,function(){c.trigger(u.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:i,from:t,to:n,unintended:!1})})}catch(e){c.trigger(u.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:i,from:t,to:n,unintended:!1,error:new a.default(e.code,e.message,null)})}})},abort:function(){try{"open"===e.readyState?p.abort():p.setTextTrack&&"ended"===e.readyState&&p.abort()}catch(e){d('SourceBuffer append abort failed: "'+e+'"')}y=[]},reset:function(){if(p){try{e.removeSourceBuffer(p)}catch(e){d("Failed to remove source buffer from media source.")}g=!1,p=null}y=[],v=null}};return function(){g=!1;var n=t.codec;try{if(n.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw new Error("not really supported");p=e.addSourceBuffer(n)}catch(e){if(!t.isText&&-1===n.indexOf('codecs="stpp')&&-1===n.indexOf('codecs="wvtt'))throw e;var r=(0,f.default)(i).getInstance();p=r.getTextSourceBuffer()}}(),m}Object.defineProperty(i,"__esModule",{value:!0});var o=d(t(45)),a=d(t(212)),l=d(t(46)),u=d(t(50)),c=d(t(47)),f=d(t(189));e.__dashjs_factory_name="SourceBufferSink";var p=c.default.getClassFactory(e);i.default=p,r.exports=i.default},{189:189,212:212,45:45,46:46,47:47,50:50}],96:[function(t,r,i){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(t){function e(){for(var e=q?q.length:0,t=0;t<e;t++)q[t].getFragmentModel().removeExecutedRequestsBeforeTime(n()+l()),q[t].reset();q=[],Y=!1,K=!1,y.off(p.default.CURRENT_TRACK_CHANGED,E,H)}function h(){e(),z=null,W={},X=!1}function j(){k&&k.pause(),$&&($.reset(),$=null),h(),d=null,y.off(p.default.DATA_UPDATE_COMPLETED,N,H),y.off(p.default.BUFFERING_COMPLETED,M,H),y.off(p.default.KEY_ERROR,B,H),y.off(p.default.SERVER_CERTIFICATE_UPDATED,B,H),y.off(p.default.LICENSE_REQUEST_COMPLETE,B,H),y.off(p.default.KEY_SYSTEM_SELECTED,B,H),y.off(p.default.KEY_SESSION_CREATED,B,H),y.off(p.default.KEY_STATUSES_CHANGED,B,H)}function l(){return z?z.duration:NaN}function n(){return z?z.start:NaN}function x(){if(!(R&&R.hasOwnProperty("getBitrateList")&&b&&b.hasOwnProperty("getAllMediaInfoForType")&&b.hasOwnProperty("getEventsFor")))throw new Error("Missing config parameter(s)")}function B(e){e.error&&(S.mediaKeySessionError(e.error),d(e.error),j())}function D(e){var t,n=e.type,r=void 0;if(n===o.default.MUXED&&e)return d(r="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),S.manifestError(r,"multiplexedrep",v.getValue()),!1;if(n===o.default.TEXT||n===o.default.FRAGMENTED_TEXT||n===o.default.EMBEDDED_TEXT||n===o.default.IMAGE)return!0;if(t=e.codec,d(n+" codec: "+t),e.contentProtection&&!A.supportsEncryptedMedia())S.capabilityError("encryptedmedia");else if(!A.supportsCodec(t))return d(r=n+"Codec ("+t+") is not supported."),!1;return!0}function E(e){if(e.newMediaInfo.streamInfo.id===z.id){var t=O(e.oldMediaInfo);if(t){var n=k.getTime();d("Stream -  Process track changed at current time "+n);var r=e.newMediaInfo,i=v.getValue();d("Stream -  Update stream controller"),i.refreshManifestOnSwitchTrack?(d("Stream -  Refreshing manifest for switch track"),te=e,T.refreshManifest()):(t.updateMediaInfo(r),r.type!==o.default.FRAGMENTED_TEXT&&(R.updateTopQualityIndex(r),t.switchTrackAsked(),t.getFragmentModel().abortRequests()))}}}function F(e,n,r,s){var l=(0,a.default)(i).create({type:function(e){return e.type===o.default.TEXT?e.mimeType:e.type}(e),mimeType:e.mimeType,timelineConverter:w,adapter:b,manifestModel:v,dashManifestModel:m,mediaPlayerModel:_,metricsModel:C,dashMetrics:t.dashMetrics,baseURLController:t.baseURLController,stream:H,abrController:R,domStorage:t.domStorage,playbackController:k,mediaController:L,streamController:t.streamController,textController:U,errHandler:S});if(l.initialize(r),R.updateTopQualityIndex(e),s?(l.setBuffer(s.buffer),l.getIndexHandler().setCurrentTime(s.currentTime),q[s.replaceIdx]=l):q.push(l),!s||!s.ignoreMediaInfo)if(e.type===o.default.TEXT||e.type===o.default.FRAGMENTED_TEXT){for(var u=void 0,d=0;d<n.length;d++)n[d].index===e.index&&(u=d),l.updateMediaInfo(n[d]);e.type===o.default.FRAGMENTED_TEXT&&l.updateMediaInfo(n[u])}else l.updateMediaInfo(e)}function G(e,n){var r=b.getAllMediaInfoForType(z,e),a=null;if(r&&0!==r.length){for(var s=0,l=r.length;s<l;s++)if(a=r[s],e===o.default.EMBEDDED_TEXT)U.addEmbeddedTrack(a);else{if(!D(a))continue;L.addTrack(a)}if(e!==o.default.EMBEDDED_TEXT&&0!==L.getTracksFor(e,z).length){if(e===o.default.IMAGE)return void(Z=(0,c.default)(i).create({dashManifestModel:m,adapter:b,baseURLController:t.baseURLController,stream:H}));L.checkInitialMediaSettingsForType(e,z),F(L.getCurrentTrackFor(e,z),r,n)}}else d("No "+e+" data.")}function I(e){var t=m.getAdaptationForType(v.getValue(),z.index,e,z);if(!t||!Array.isArray(t.Representation_asArray))return null;t.Representation_asArray=t.Representation_asArray.filter(function(e,n){if(0===n)return!0;var r=m.getCodec(t,n,!0);return!!A.supportsCodec(r)||(d("[Stream] codec not supported: "+r),!1)})}function J(){for(var e=q.length,t=!!W.audio||!!W.video?new Error(r,"Data update failed",null):null,n=0;n<e;n++)if(q[n].isUpdating()||X)return;if(K){if(Q)for(n=0;n<e&&q[n];n++)q[n].getType()!==o.default.AUDIO&&q[n].getType()!==o.default.VIDEO&&q[n].getType()!==o.default.FRAGMENTED_TEXT||Q.initializeForMedia(q[n].getMediaInfo());y.trigger(p.default.STREAM_INITIALIZED,{streamInfo:z,error:t})}}function M(e){if(e.streamInfo===z){var t=P(),n=t.length;if(0===n)return void d("[Stream] onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined");for(var r=0;r<n;r++)if(!t[r].isBufferingCompleted()&&(t[r].getType()===o.default.AUDIO||t[r].getType()===o.default.VIDEO))return void d("[Stream] onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because streamProcessor "+t[r].getType()+" is not buffering completed");d("[Stream] onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),y.trigger(p.default.STREAM_BUFFERING_COMPLETED,{streamInfo:z})}}function N(e){var t=e.sender.getStreamProcessor();t.getStreamInfo()===z&&(W[t.getType()]=e.error,J())}function O(e){return!!e&&P().filter(function(t){return t.getType()===e.type})[0]}function P(){for(var e=q.length,t=[],n=void 0,r=void 0,i=0;i<e;i++)(n=(r=q[i]).getType())!==o.default.AUDIO&&n!==o.default.VIDEO&&n!==o.default.FRAGMENTED_TEXT||t.push(r);return t}var r=1;t=t||{};var i=this.context,d=(0,g.default)(i).getInstance().log,y=(0,f.default)(i).getInstance(),v=t.manifestModel,m=t.dashManifestModel,_=t.mediaPlayerModel,T=t.manifestUpdater,b=t.adapter,A=t.capabilities,S=t.errHandler,w=t.timelineConverter,C=t.metricsModel,R=t.abrController,k=t.playbackController,L=t.mediaController,U=t.textController,V=t.videoModel,H=void 0,q=void 0,Y=void 0,K=void 0,z=void 0,W=void 0,X=void 0,Q=void 0,$=void 0,Z=void 0,ee=void 0,te=void 0;return H={initialize:function(e,t){z=e,(Q=t)&&(y.on(p.default.KEY_ERROR,B,H),y.on(p.default.SERVER_CERTIFICATE_UPDATED,B,H),y.on(p.default.LICENSE_REQUEST_COMPLETE,B,H),y.on(p.default.KEY_SYSTEM_SELECTED,B,H),y.on(p.default.KEY_SESSION_CREATED,B,H),y.on(p.default.KEY_STATUSES_CHANGED,B,H))},activate:function(e){Y||(y.on(p.default.CURRENT_TRACK_CHANGED,E,H),function(e){x();var t=void 0,n=V.getElement();if(ee||((ee=(0,s.default)(i).create()).setConfig({manifestModel:v,manifestUpdater:T,playbackController:k}),t=b.getEventsFor(z),ee.addInlineEvents(t)),X=!0,I(o.default.VIDEO),I(o.default.AUDIO),(null===n||n&&"VIDEO"===n.nodeName)&&G(o.default.VIDEO,e),G(o.default.AUDIO,e),G(o.default.TEXT,e),G(o.default.FRAGMENTED_TEXT,e),G(o.default.EMBEDDED_TEXT,e),G(o.default.MUXED,e),G(o.default.IMAGE,e),function(){for(var e=0,t=q.length;e<t;e++)q[e].createBuffer()}(),K=!0,X=!1,0===q.length){var r="No streams to play.";S.manifestError(r,"nostreams",v.getValue()),d(r)}else J()}(e),Y=!0)},deactivate:e,getDuration:l,getStartTime:n,getId:function(){return z?z.id:NaN},getStreamInfo:function(){return z},getFragmentController:function(){return $},getThumbnailController:function(){return Z},getEventController:function(){return ee},getBitrateListFor:function(e){if(x(),e===o.default.IMAGE)return Z?Z.getBitrateList():[];var t=function(e){for(var t=q.length,n=null,r=0;r<t;r++)if((n=q[r]).getType()===e)return n.getMediaInfo();return null}(e);return R.getBitrateList(t)},startEventController:function(){ee&&ee.start()},stopEventController:function(){ee&&ee.stop()},updateData:function(e){if(d("Manifest updated... updating data system wide."),Y=!1,X=!0,z=e,ee){var t=b.getEventsFor(z);ee.addInlineEvents(t)}I(o.default.VIDEO),I(o.default.AUDIO);for(var n=0,r=q.length;n<r;n++){var i=q[n],a=b.getMediaInfoForType(z,i.getType());R.updateTopQualityIndex(a),i.updateMediaInfo(a)}if(te&&"fragmentedText"!==(a=te.newMediaInfo).type){var s=O(te.oldMediaInfo);if(!s)return;s.switchTrackAsked(),te=void 0}X=!1,J()},reset:j,getProcessors:P,setMediaSource:function(e){for(var t=0;t<q.length;)D(q[t].getMediaInfo())?(q[t].setMediaSource(e),t++):(q[t].reset(),q.splice(t,1));for(t=0;t<q.length;t++)q[t].dischargePreBuffer();if(0===q.length){var n="No streams to play.";S.manifestError(n,"nostreams",v.getValue()),d(n)}}},h(),$=(0,u.default)(i).create({mediaPlayerModel:_,metricsModel:C,errHandler:S}),y.on(p.default.BUFFERING_COMPLETED,M,H),y.on(p.default.DATA_UPDATE_COMPLETED,N,H),H}Object.defineProperty(i,"__esModule",{value:!0});var o=d(t(99)),a=d(t(97)),s=d(t(106)),u=d(t(107)),c=d(t(192)),f=d(t(46)),p=d(t(50)),g=d(t(45)),y=d(t(47));e.__dashjs_factory_name="Stream",i.default=y.default.getClassFactory(e),r.exports=i.default},{106:106,107:107,192:192,45:45,46:46,47:47,50:50,97:97,99:99}],97:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function h(){B=[]}function j(){D=[],P=null,h()}function A(){return m?m.getStreamInfo():null}function E(){return P}e=e||{};var t=this.context,n=void 0,r=e.type,d=e.errHandler,c=e.mimeType,p=e.timelineConverter,g=e.adapter,y=e.manifestModel,v=e.mediaPlayerModel,m=e.stream,_=e.abrController,T=e.playbackController,b=e.streamController,S=e.mediaController,w=e.textController,C=e.domStorage,I=e.metricsModel,M=e.dashMetrics,O=e.dashManifestModel,R=void 0,P=void 0,D=void 0,N=void 0,x=void 0,k=void 0,L=void 0,F=void 0,B=void 0;return R={initialize:function(o){(n=(0,f.default)(t).create({mimeType:c,timelineConverter:p,dashMetrics:M,metricsModel:I,mediaPlayerModel:v,baseURLController:e.baseURLController,errHandler:d})).initialize(R),_.registerStreamType(r,R),(F=m.getFragmentController().getModel(r)).setStreamProcessor(R),N=function(e){return e===i.default.VIDEO||e===i.default.AUDIO?(0,a.default)(t).create({type:e,metricsModel:I,mediaPlayerModel:v,manifestModel:y,errHandler:d,streamController:b,mediaController:S,adapter:g,textController:w,abrController:_,playbackController:T,streamProcessor:R}):(0,s.default)(t).create({type:e,metricsModel:I,mediaPlayerModel:v,manifestModel:y,errHandler:d,streamController:b,mediaController:S,adapter:g,textController:w,abrController:_,playbackController:T,streamProcessor:R})}(r),x=(0,l.default)(t).create({type:r,metricsModel:I,adapter:g,dashMetrics:M,dashManifestModel:O,timelineConverter:p,mediaPlayerModel:v,abrController:_,playbackController:T,streamController:b,textController:w,streamProcessor:R,mediaController:S}),(L=(0,u.default)(t).create()).setConfig({abrController:_,domStorage:C,metricsModel:I,dashMetrics:M,dashManifestModel:O,manifestModel:y,playbackController:T,timelineConverter:p,streamProcessor:R}),N.initialize(o),x.initialize(),L.initialize()},isUpdating:function(){return!!L&&L.isUpdating()},getType:function(){return r},getBufferController:function(){return N},getFragmentModel:function(){return F},getScheduleController:function(){return x},getLiveEdgeFinder:function(){return k},getEventController:function(){return m?m.getEventController():null},getFragmentController:function(){return m?m.getFragmentController():null},getRepresentationController:function(){return L},getIndexHandler:function(){return n},getCurrentRepresentationInfo:function(){return g.getCurrentRepresentationInfo(L)},getRepresentationInfoForQuality:function(e){return g.getRepresentationInfoForQuality(L,e)},getBufferLevel:function(){return N.getBufferLevel()},switchInitData:function(e,t){N&&N.switchInitData(A().id,e,t)},isBufferingCompleted:function(){return!!N&&N.getIsBufferingCompleted()},createBuffer:function(){return N.getBuffer()||N.createBuffer(P)},getStreamInfo:A,updateMediaInfo:function(e){e===P||e&&P&&e.type!==P.type||(P=e),-1===D.indexOf(e)&&D.push(e),g.updateData(this)},switchTrackAsked:function(){x.switchTrackAsked()},getMediaInfoArr:function(){return D},getMediaInfo:E,getMediaSource:function(){return N.getMediaSource()},setMediaSource:function(e){N.setMediaSource(e,E())},dischargePreBuffer:function(){N.dischargePreBuffer()},getBuffer:function(){return N.getBuffer()},setBuffer:function(e){N.setBuffer(e)},registerExternalController:function(e){B.push(e)},unregisterExternalController:function(e){var t=B.indexOf(e);-1!==t&&B.splice(t,1)},getExternalControllers:function(){return B},unregisterAllExternalController:h,reset:function(e){n.reset(),N&&(N.reset(e),N=null),x&&(x.reset(),x=null),L&&(L.reset(),L=null),_&&_.unRegisterStreamType(r),B.forEach(function(e){e.reset()}),j(),r=null,m=null,k&&(k.reset(),k=null)}},T&&T.getIsDynamic()&&(k=(0,o.default)(t).create({timelineConverter:p,streamProcessor:R})),j(),R}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(99)),o=d(t(203)),a=d(t(105)),s=d(t(188)),l=d(t(111)),u=d(t(58)),c=d(t(47)),f=d(t(53));e.__dashjs_factory_name="StreamProcessor",r.default=c.default.getClassFactory(e),n.exports=r.default},{105:105,111:111,188:188,203:203,47:47,53:53,58:58,99:99}],98:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){e=e||{};var t="urn:mpeg:dash:resolve-to-zero:2013",n=this.context,r=(0,l.default)(n).getInstance(),d=(0,o.default)(n).create({errHandler:e.errHandler,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier});return{load:function(e,n,o){var l=function(t,a){n.resolved=!0,n.resolvedContent=t||null,r.trigger(u.default.XLINK_ELEMENT_LOADED,{element:n,resolveObject:o,error:t||a?null:new i.default(f,"Failed loading Xlink element: "+e)})};if(e===t)l(null,!0);else{var c=new s.default(e,a.HTTPRequest.XLINK_TYPE);d.load({request:c,success:function(e){l(e)},error:function(){l(null)}})}},reset:function(){d&&(d.abort(),d=null)}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(212)),o=d(t(146)),a=t(232),s=d(t(223)),l=d(t(46)),u=d(t(50)),c=d(t(47)),f=1;e.__dashjs_factory_name="XlinkLoader";var h=c.default.getClassFactory(e);h.XLINK_LOADER_ERROR_LOADING_FAILURE=f,c.default.updateClassFactory(e.__dashjs_factory_name,h),r.default=h,n.exports=r.default},{146:146,212:212,223:223,232:232,46:46,47:47,50:50}],99:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=new(function(){function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.init()}return r(a,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.FRAGMENTED_TEXT="fragmentedText",this.EMBEDDED_TEXT="embeddedText",this.MUXED="muxed",this.IMAGE="image",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.UTF8="utf-8",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma"}}]),a}());n.default=i,t.exports=n.default},{}],100:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=new(function(){function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.init()}return r(a,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors"}}]),a}());n.default=i,t.exports=n.default},{}],101:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=new(function(){function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.init()}return r(a,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready"}}]),a}());n.default=i,t.exports=n.default},{}],102:[function(t,r,i){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function e(){P={video:!0,audio:!0},D={},k={},L={},F={},U={},B={},oe={},le={},H=!1,ce=!0,q=!1,void 0===Y&&(Y=!1),ie=void 0,ae=void 0,se=void 0,clearTimeout(V),V=null}function j(e){e.mediaType===a.default.VIDEO&&(ie=e.oldQuality,ae.push(ie,te.getPlaybackQuality()))}function l(e){e.metric!==s.default.HTTP_REQUEST||!e.value||e.value.type!==E.HTTPRequest.MEDIA_SEGMENT_TYPE||e.mediaType!==a.default.AUDIO&&e.mediaType!==a.default.VIDEO||se.push(e.mediaType,e.value,ce),e.metric!==s.default.BUFFER_LEVEL||e.mediaType!==a.default.AUDIO&&e.mediaType!==a.default.VIDEO||function(e,t){var n=ne.getABRStrategy();if(n===a.default.ABR_STRATEGY_BOLA)return void(le[e]=!0);if(n===a.default.ABR_STRATEGY_THROUGHPUT)return void(le[e]=!1);var r=ne.getStableBufferTime(),i=r,o=.5*r,s=le[e],l=t>(s?o:i);le[e]=l,l!==s&&p(l?"AbrController ("+e+") switching from throughput to buffer occupancy ABR rule (buffer: "+t.toFixed(3)+").":"AbrController ("+e+") switching from buffer occupancy to throughput ABR rule (buffer: "+t.toFixed(3)+").")}(e.mediaType,.001*e.value.level)}function n(e,t){return D[t]=D[t]||{},D[t].hasOwnProperty(e)||(D[t][e]=0),function(e,t){if(t!==a.default.VIDEO||!H||!B[t])return e;Y||oa();var n=X.getValue(),r=J.getAdaptationForType(n,0,t).Representation,i=e;if(K>0&&W>0){for(;i>0&&r[i]&&K<r[i].width&&K-r[i-1].width<r[i].width-K;)i-=1;r.length-2>=i&&r[i].width===r[i+1].width&&(i=Math.min(e,i+1))}return i}(function(e,t,n){var r=O(t);return isNaN(r)||r>=1||r<0?e:Math.min(e,Math.round(n*r))}(function(e,t){var n=e;if(!B[t])return n;var r=N(t);void 0!==r&&(n=Math.max(e,r));var i=G(t);return void 0!==i&&(n=Math.min(n,i)),n}(D[t][e],e),e,D[t][e]),e)}function x(e){return L.hasOwnProperty("max")&&L.max.hasOwnProperty(e)?L.max[e]:NaN}function z(e){return L.hasOwnProperty("min")&&L.min.hasOwnProperty(e)?L.min[e]:NaN}function G(e){var t=x(e);return t?ba(B[e].getMediaInfo(),t):void 0}function N(e){var t=z(e);if(t){var n=ca(B[e].getMediaInfo()),r=ba(B[e].getMediaInfo(),t);return n[r]&&r<n.length-1&&n[r].bitrate<1e3*t&&r++,r}}function O(e){return F.hasOwnProperty("max")&&F.max.hasOwnProperty(e)?F.max[e]:1}function Q(e){return P[e]}function Z(e,t,r,i){var o=t.id,a=ia(e);if(null===r||isNaN(r)||r%1!=0)throw new Error("argument is not an integer");var s=n(e,o);r!==a&&r>=0&&r<=s&&$(e,a,r,s,i)}function $(e,t,n,o,a){if(e&&B[e]){var s=B[e].getStreamInfo(),l=s?s.id:null;if(r.getLogToBrowserConsole()){var u=de.getCurrentBufferLevel(ue.getReadOnlyMetricsFor(e));p("AbrController ("+e+") switch from "+t+" to "+n+"/"+o+" (buffer: "+u+") "+(a?JSON.stringify(a):"."))}(function(e,t,n){k[t]=k[t]||{},k[t][e]=n})(e,l,n),i.trigger(h.default.QUALITY_CHANGE_REQUESTED,{mediaType:e,streamInfo:s,oldQuality:t,newQuality:n,reason:a})}}function _(e,t){U[e].state=t}function ba(e,t,n){if(ce&&n&&B[e.type].getCurrentRepresentationInfo()&&B[e.type].getCurrentRepresentationInfo().fragmentDuration){n/=1e3;var r=B[e.type].getCurrentRepresentationInfo().fragmentDuration;if(n>r)return 0;t*=1-n/r}var i=ca(e);if(!i||0===i.length)return I;for(var o=i.length-1;o>=0;o--)if(1e3*t>=i[o].bitrate)return o;return 0}function ca(e){if(!e||!e.bitrateList)return null;for(var t=e.bitrateList,n=e.type,r=[],i=void 0,o=0,a=t.length;o<a;o++)(i=new u.default).mediaType=n,i.qualityIndex=o,i.bitrate=t[o].bandwidth,i.width=t[o].width,i.height=t[o].height,i.scanType=t[o].scanType,r.push(i);return r}function ea(e){return le[e]}function ia(e){if(e&&B[e]){var t=B[e].getStreamInfo(),n=t?t.id:null;if(n)return k[n]=k[n]||{},k[n].hasOwnProperty(e)||(k[n][e]=I),k[n][e]}return I}function oa(){if(te){var e=q&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;K=te.getClientWidth()*e,W=te.getClientHeight()*e}}function qa(e){var n=e.request.mediaType;if(Q(n)){var r=B[n];if(!r)return;var i=(0,g.default)(t).create({abrController:d,streamProcessor:r,currentRequest:e.request,useBufferOccupancyABR:ea(n)}),o=M.shouldAbandonFragment(i);if(o.quality>y.default.NO_CHANGE){var a=r.getFragmentModel();a.getRequests({state:c.default.FRAGMENT_MODEL_LOADING,index:e.request.index})[0]&&(a.abortRequests(),_(n,A),oe[n].reset(),oe[n].push({oldValue:ia(n,R.getActiveStreamInfo()),newValue:o.quality,confidence:1,reason:o.reason}),Z(n,R.getActiveStreamInfo(),o.quality,o.reason),clearTimeout(V),V=setTimeout(function(){_(n,S),V=null},ne.getAbandonLoadTimeout()))}}}var t=this.context,r=(0,b.default)(t).getInstance(),i=(0,f.default)(t).getInstance(),d=void 0,p=void 0,M=void 0,R=void 0,P=void 0,D=void 0,k=void 0,L=void 0,F=void 0,B=void 0,U=void 0,V=void 0,H=void 0,q=void 0,Y=void 0,K=void 0,W=void 0,X=void 0,J=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,le=void 0,ue=void 0,de=void 0,ce=void 0;return d={isPlayingAtTopQuality:function(e){var t=e.id,r=ia(a.default.AUDIO),i=ia(a.default.VIDEO);return r===n(a.default.AUDIO,t)&&i===n(a.default.VIDEO,t)},updateTopQualityIndex:function(e){var t=e.type,n=e.streamInfo.id,r=e.representationCount-1;return function(e,t,n){D[t]=D[t]||{},D[t][e]=n}(t,n,r),r},getThroughputHistory:function(){return se},getBitrateList:ca,getQualityForBitrate:ba,getMaxAllowedBitrateFor:x,getTopBitrateInfoFor:function(e){if(e&&B&&B[e]){var t=B[e].getStreamInfo();if(t.id){var r=n(e,t.id),i=ca(B[e].getMediaInfo());return i[r]?i[r]:null}}return null},getMinAllowedBitrateFor:z,setMaxAllowedBitrateFor:function(e,t){L.max=L.max||{},L.max[e]=t},setMinAllowedBitrateFor:function(e,t){L.min=L.min||{},L.min[e]=t},getMaxAllowedIndexFor:G,getMinAllowedIndexFor:N,getMaxAllowedRepresentationRatioFor:O,setMaxAllowedRepresentationRatioFor:function(e,t){F.max=F.max||{},F.max[e]=t},getInitialBitrateFor:function(e){var t=re.getSavedBitrateSettings(e);if(!L.hasOwnProperty(e))if(F.hasOwnProperty(e)){var n=X.getValue(),r=J.getAdaptationForType(n,0,e).Representation;if(Array.isArray(r)){var i=Math.max(Math.round(r.length*F[e])-1,0);L[e]=r[i].bandwidth}else L[e]=0}else isNaN(t)?L[e]=e===a.default.VIDEO?w:C:L[e]=t;return L[e]},setInitialBitrateFor:function(e,t){L[e]=t},getInitialRepresentationRatioFor:function(e){return F.hasOwnProperty(e)?F[e]:null},setInitialRepresentationRatioFor:function(e,t){F[e]=t},setAutoSwitchBitrateFor:function(e,t){P[e]=t},getAutoSwitchBitrateFor:Q,getUseDeadTimeLatency:function(){return ce},setUseDeadTimeLatency:function(e){ce=e},setLimitBitrateByPortal:function(e){H=e},getLimitBitrateByPortal:function(){return H},getUsePixelRatioInLimitBitrateByPortal:function(){return q},setUsePixelRatioInLimitBitrateByPortal:function(e){q=e},getQualityFor:ia,getAbandonmentStateFor:function(e){return U[e]?U[e].state:null},setPlaybackQuality:Z,checkPlaybackQuality:function(e){if(e&&B&&B[e]){var i=B[e].getStreamInfo(),o=i?i.id:null,a=ia(e),s=(0,g.default)(t).create({abrController:d,streamProcessor:B[e],currentValue:a,switchHistory:oe[e],droppedFramesHistory:ae,useBufferOccupancyABR:ea(e)});if(ae){var l=te.getPlaybackQuality();l&&ae.push(ie,l)}if(Q(e)){var u=N(e),c=n(e,o),f=M.getMaxQuality(s),h=f.quality;if(void 0!==u&&h<u&&(h=u),h>c&&(h=c),oe[e].push({oldValue:a,newValue:h}),h>y.default.NO_CHANGE&&h!=a)(U[e].state===S||h>a)&&$(e,a,h,c,f.reason);else if(r.getLogToBrowserConsole()){var v=de.getCurrentBufferLevel(ue.getReadOnlyMetricsFor(e));p("AbrController ("+e+") stay on "+a+"/"+c+" (buffer: "+v+")")}}}},getTopQualityIndexFor:n,setElementSize:oa,setWindowResizeEventCalled:function(e){Y=e},createAbrRulesCollection:function(){(M=(0,o.default)(t).create({metricsModel:ue,dashMetrics:de,mediaPlayerModel:ne,adapter:ee})).initialize()},registerStreamType:function(e,n){oe[e]=(0,v.default)(t).create(),B[e]=n,U[e]=U[e]||{},U[e].state=S,le[e]=!1,i.on(h.default.LOADING_PROGRESS,qa,this),e==a.default.VIDEO&&(i.on(h.default.QUALITY_CHANGE_RENDERED,j,this),ae=(0,m.default)(t).create(),oa()),i.on(h.default.METRIC_ADDED,l,this),se=(0,T.default)(t).create({mediaPlayerModel:ne})},unRegisterStreamType:function(e){delete B[e]},setConfig:function(e){e&&(e.streamController&&(R=e.streamController),e.domStorage&&(re=e.domStorage),e.mediaPlayerModel&&(ne=e.mediaPlayerModel),e.metricsModel&&(ue=e.metricsModel),e.dashMetrics&&(de=e.dashMetrics),e.dashManifestModel&&(J=e.dashManifestModel),e.adapter&&(ee=e.adapter),e.manifestModel&&(X=e.manifestModel),e.videoModel&&(te=e.videoModel))},reset:function(){e(),i.off(h.default.LOADING_PROGRESS,qa,this),i.off(h.default.QUALITY_CHANGE_RENDERED,j,this),i.off(h.default.METRIC_ADDED,l,this),M&&M.reset()}},p=r.log.bind(d),e(),d}Object.defineProperty(i,"__esModule",{value:!0});var o=d(t(177)),a=d(t(99)),s=d(t(100)),u=d(t(211)),c=d(t(139)),f=d(t(46)),h=d(t(50)),p=d(t(47)),g=d(t(173)),y=d(t(174)),v=d(t(175)),m=d(t(172)),T=d(t(176)),E=t(232),b=d(t(45)),A="abandonload",S="allowload",w=1e3,C=100,I=0;e.__dashjs_factory_name="AbrController";var M=p.default.getSingletonFactory(e);M.ABANDON_LOAD=A,M.QUALITY_DEFAULT=I,p.default.updateSingletonFactory(e.__dashjs_factory_name,M),i.default=M,r.exports=i.default},{100:100,139:139,172:172,173:173,174:174,175:175,176:176,177:177,211:211,232:232,45:45,46:46,47:47,50:50,99:99}],103:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function a(e){d.invalidateSelectedIndexes(e.entry)}var e=void 0,t=void 0,n=this.context,r=(0,c.default)(n).getInstance(),u=(0,s.default)(n).getInstance(),d=void 0,h=void 0;return e={reset:function(){d.reset(),h.reset()},initialize:function(e){d.setConfig({dashManifestModel:t}),h.setConfig({dashManifestModel:t}),function(e){d.update(e),h.chooseSelectorFromManifest(e)}(e)},resolve:function(e){var t=d.getForPath(e).reduce(function(e,t){var n=h.select(t);return n?(u.isRelative(n.url)?e.url=u.resolve(n.url,e.url):(e.url=n.url,e.serviceLocation=n.serviceLocation),e.availabilityTimeOffset=n.availabilityTimeOffset,e.availabilityTimeComplete=n.availabilityTimeComplete,e):new l.default},new l.default);if(!u.isRelative(t.url))return t},setConfig:function(e){e.baseURLTreeModel&&(d=e.baseURLTreeModel),e.baseURLSelector&&(h=e.baseURLSelector),e.dashManifestModel&&(t=e.dashManifestModel)}},d=(0,i.default)(n).create(),h=(0,o.default)(n).create(),r.on(f.default.SERVICE_LOCATION_BLACKLIST_CHANGED,a,e),e}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(138)),o=d(t(194)),s=d(t(207)),l=d(t(80)),u=d(t(47)),c=d(t(46)),f=d(t(50));e.__dashjs_factory_name="BaseURLController",r.default=u.default.getSingletonFactory(e),n.exports=r.default},{138:138,194:194,207:207,46:46,47:47,50:50,80:80}],104:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function c(e){-1===t.indexOf(e)&&(t.push(e),n.trigger(r,{entry:e}))}function d(e){c(e.entry)}e=e||{};var t=[],n=(0,o.default)(this.context).getInstance(),r=e.updateEventName,i=e.addBlacklistEventName;return function(){i&&n.on(i,d,this)}(),{add:c,contains:function(e){return!!(t.length&&e&&e.length)&&-1!==t.indexOf(e)},reset:function(){t=[]}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(47)),o=d(t(46));e.__dashjs_factory_name="BlackListController",r.default=i.default.getClassFactory(e),n.exports=r.default},{46:46,47:47}],105:[function(i,o,a){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(i){function e(e){if(!me||!e||!te)return null;if(le)try{"function"==typeof(ce=(0,u.default)(o).create(le,e,r.bind(this))).getBuffer().initialize&&ce.getBuffer().initialize(ee,te)}catch(e){re("Caught error on create SourceBuffer: "+e),U.mediaSourceError("Error creating "+ee+" source buffer.")}else ce=(0,c.default)(o).create(r.bind(this));Y(te.getRepresentationInfoForQuality(ie).MSETimeOffset)}function j(e){e.fragmentModel===te.getFragmentModel()&&(re("Init fragment finished loading saving to",ee+"'s init cache"),me.save(e.chunk),re("Append Init fragment",ee," with representationId:",e.chunk.representationId," and quality:",e.chunk.quality),p(e.chunk))}function n(e){if(e.fragmentModel===te.getFragmentModel()){var t=e.chunk,n=t.bytes,r=t.quality,i=te.getRepresentationInfoForQuality(r),a=G.getEventsFor(i.mediaInfo,te),s=G.getEventsFor(i,te);if(a&&a.length>0||s&&s.length>0){var u=function(e,t,n,r){for(var i=Math.max(!t||isNaN(t.startTime)?0:t.startTime,0),a=[],s=[],l=n.concat(r),u=0,d=l.length;u<d;u++)a[l[u].schemeIdUri]=l[u];for(var c=(0,m.default)(o).getInstance().parse(e).getBoxes("emsg"),u=0,d=c.length;u<d;u++){var f=G.getEvent(c[u],a,i);f&&s.push(f)}return s}(n,te.getFragmentModel().getRequests({state:l.default.FRAGMENT_MODEL_EXECUTED,quality:r,index:t.index})[0],a,s);te.getEventController().addInbandEvents(u)}if(Ae){Se=t;var d=ce&&ce.getAllBufferRanges();d&&d.length>0&&J.getTimeToStreamEnd()>I&&(re("Clearing buffer because track changed - "+(d.end(d.length-1)+M)),V([{start:0,end:d.end(d.length-1)+M,force:!0}]))}else p(t)}}function p(e,t){!ye||t?(ye=!0,pe=e,ce.append(e),e.mediaInfo.type===s.default.VIDEO&&a.trigger(y.default.VIDEO_CHUNK_RECEIVED,{chunk:e})):be.push(e)}function r(e){if(e.error){if(e.error.code===k&&(se=.8*la(),re("Quota exceeded for type: "+ee+", Critical Buffer: "+se),se>0)){var t=Math.max(.2*se,1),n=se-t;E.setBufferToKeep(parseFloat(t).toFixed(5)),E.setBufferAheadToKeep(parseFloat(n).toFixed(5))}e.error.code!==k&&ma()||(re("Clearing playback buffer to overcome quota exceed situation for type: "+ee),a.trigger(y.default.QUOTA_EXCEEDED,{sender:ne,criticalBufferLevel:se}),x())}else{(pe=e.chunk)&&!isNaN(pe.index)&&(ue=Math.max(pe.index,ue),P());var r=ce.getAllBufferRanges();if(pe.segmentType===S.HTTPRequest.MEDIA_SEGMENT_TYPE)B();else if(Ae){var i=J.getTime();re("[BufferController][",ee,"] appendToBuffer seek target should be "+i),te.getScheduleController().setSeekTarget(i),G.setIndexHandlerTime(te,i)}var o={sender:ne,quality:pe.quality,startTime:pe.start,index:pe.index,bufferedRanges:r};pe&&!pe.endFragment?a.trigger(y.default.BYTES_APPENDED,o):pe&&a.trigger(y.default.BYTES_APPENDED_END_FRAGMENT,o),0===be.length?ye=!1:p(be.shift(),!0)}}function t(e){ie!==e.newQuality&&ee===e.mediaType&&te.getStreamInfo().id===e.streamInfo.id&&(Y(te.getRepresentationInfoForQuality(e.newQuality).MSETimeOffset),ie=e.newQuality)}function v(){oe&&(Te=!0,oe=!1,de=Number.POSITIVE_INFINITY),be=[],ye=!1,ee!==s.default.FRAGMENTED_TEXT?x():B(),_e=void 0}function x(){var e=function(){var e=[],t=ce.getAllBufferRanges();if(!t||0===t.length)return e;var n=J.getTime(),r=t.end(t.length-1)+M,i=te.getFragmentModel().getRequests({state:l.default.FRAGMENT_MODEL_EXECUTED,time:n,threshold:D})[0];if(i){var o={start:0,end:i.startTime-I},a=te.getFragmentModel().getRequests({state:l.default.FRAGMENT_MODEL_EXECUTED,time:i.startTime-i.duration/2,threshold:D})[0];a&&a.startTime!=i.startTime&&(o.end=a.startTime),o.start<o.end&&o.end>t.start(0)&&e.push(o);var s={start:i.startTime+i.duration+I,end:r},u=te.getFragmentModel().getRequests({state:l.default.FRAGMENT_MODEL_EXECUTED,time:i.startTime+i.duration+I,threshold:D})[0];u&&u.startTime!==i.startTime&&(s.start=u.startTime+u.duration+I),s.start<s.end&&s.start<r&&e.push(s)}else re("getAllRangesWithSafetyFactor for",ee,"- No request found in current time position, removing full buffer 0 -",r),e.push({start:0,end:r});return e}();e&&0!==e.length||B(),V(e)}function B(){Ae||(N(),O())}function L(e,t){var n=ce.getAllBufferRanges(),r=0,i=0,o=null,a=null,s=0,l=void 0,u=void 0,d=t||.15;if(null!==n&&void 0!==n){for(u=0,l=n.length;u<l;u++)if(r=n.start(u),i=n.end(u),null===o)s=Math.abs(r-e),e>=r&&e<i?(o=r,a=i):s<=d&&(o=r,a=i);else{if(!((s=r-a)<=d))break;a=i}if(null!==o)return{start:o,end:a}}return null}function N(){var e,t,n;J&&(e=function(){var e=J.getTime();if(_e){var t=ce.getAllBufferRanges();t&&t.length&&(e=Math.max(t.start(0),_e))}return e}()||0,ae=null===(n=L(e,t))?0:n.end-e,a.trigger(y.default.BUFFER_LEVEL_UPDATED,{sender:ne,bufferLevel:ae}),Q())}function O(){te&&H&&te.getStreamInfo().id===H.getActiveStreamInfo().id&&(d.addBufferState(ee,he,te.getScheduleController().getBufferTarget()),d.addBufferLevel(ee,new Date,1e3*ae))}function P(){ue>=de-1&&!oe&&void 0===ce.discharge&&(oe=!0,re("[BufferController]["+ee+"] checkIfBufferingCompleted trigger BUFFERING_COMPLETED"),a.trigger(y.default.BUFFERING_COMPLETED,{sender:ne,streamInfo:te.getStreamInfo()}))}function Q(){"audio"!==ee&&"video"!==ee||(Te&&!oe&&J&&J.getTimeToStreamEnd()-ae<I&&(Te=!1,oe=!0,re("[BufferController]["+ee+"] checkIfSufficientBuffer trigger BUFFERING_COMPLETED"),a.trigger(y.default.BUFFERING_COMPLETED,{sender:ne,streamInfo:te.getStreamInfo()})),ae<I&&!oe?R(C):(oe||ae>=E.getStableBufferTime())&&R(w))}function R(e){he===e||ee===s.default.FRAGMENTED_TEXT&&!K.isTextEnabled()||(he=e,O(),a.trigger(y.default.BUFFER_LEVEL_STATE_CHANGED,{sender:ne,state:e,mediaType:ee,streamInfo:te.getStreamInfo()}),a.trigger(e===w?y.default.BUFFER_LOADED:y.default.BUFFER_EMPTY,{mediaType:ee}),re(e===w?"Got enough buffer to start for "+ee:"Waiting for more buffer before starting playback for "+ee))}function T(){ce&&ee!==s.default.FRAGMENTED_TEXT&&(oe||V(function(){var e=[],t=ce.getAllBufferRanges();if(!t||0===t.length)return e;var n=J.getTime(),r={start:Math.max(0,n-E.getBufferToKeep()),end:n+E.getBufferAheadToKeep()},i=te.getFragmentModel().getRequests({state:l.default.FRAGMENT_MODEL_EXECUTED,time:n,threshold:D})[0];if(i)r.start=Math.min(i.startTime,r.start),r.end=Math.max(i.startTime+i.duration,r.end);else if(0===n&&J.getIsDynamic())return[];if(t.start(0)<=r.start){for(var o={start:0,end:r.start},a=0;a<t.length&&t.end(a)<=r.start;a++)o.end=t.end(a);o.start<o.end&&e.push(o)}if(t.end(t.length-1)>=r.end){var s={start:r.end,end:t.end(t.length-1)+D};s.start<s.end&&e.push(s)}return e}()))}function V(e){e&&ce&&0!==e.length&&(Ee.push.apply(Ee,e),ve||W())}function W(){if(0===Ee.length||!ce)return re("Nothing to prune, halt pruning"),Ee=[],void(ve=!1);var e=ce.getBuffer();if(!e||!e.buffered||0===e.buffered.length)return re("SourceBuffer is empty (or does not exist), halt pruning"),Ee=[],void(ve=!1);var t=Ee.shift();re("Removing",ee,"buffer from:",t.start,"to",t.end),ve=!0;var n=J.getTime();n<t.end&&(oe=!1,ue=0,Ae||(te.getScheduleController().setSeekTarget(n),G.setIndexHandlerTime(te,n))),ce.remove(t.start,t.end,t.force)}function X(e){ce===e.buffer&&(re("[BufferController][",ee,"] onRemoved buffer from:",e.from,"to",e.to),0===Ee.length&&(ve=!1),e.unintended&&(re("[BufferController][",ee,"] detected unintended removal from:",e.from,"to",e.to,"setting index handler time to",e.from),G.setIndexHandlerTime(te,e.from)),ve?W():(Ae?(Ae=!1,Se&&p(Se)):(re("onRemoved : call updateBufferLevel"),N()),a.trigger(y.default.BUFFER_CLEARED,{sender:ne,from:e.from,to:e.to,unintended:e.unintended,hasEnoughSpaceToAppend:ma()})))}function Y(e){var t=ce&&ce.getBuffer?ce.getBuffer():null;t&&t.timestampOffset!==e&&!isNaN(e)&&(t.timestampOffset=e)}function Z(e){e.sender.getStreamProcessor()!==te||e.error||Y(e.currentRepresentation.MSETimeOffset)}function $(e){e.fragmentModel===te.getFragmentModel()&&(de=e.request.index,P())}function _(e){var t=ce&&ce.getAllBufferRanges();t&&e.newMediaInfo.type===ee&&e.newMediaInfo.streamInfo.id===te.getStreamInfo().id&&(re("[BufferController]["+ee+"] track change asked"),q.getSwitchMode(ee)===h.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&t&&t.length>0&&J.getTimeToStreamEnd()>I&&(oe=!1,de=Number.POSITIVE_INFINITY))}function aa(){++ge*(E.getWallclockTimeUpdateInterval()/1e3)>=E.getBufferPruningInterval()&&(ge=0,T())}function ba(){Q()}function ha(t,n){le=t,ce&&n&&"function"==typeof ce.discharge&&(fe=ce,e(n))}function la(){var e,t=ce.getAllBufferRanges(),n=0,r=void 0;if(!t)return n;for(r=0,e=t.length;r<e;r++)n+=t.end(r)-t.start(r);return n}function ma(){return la()<se}function na(e){se=Number.POSITIVE_INFINITY,he=C,ie=f.default.QUALITY_DEFAULT,de=Number.POSITIVE_INFINITY,ue=0,pe=null,oe=!1,ye=!1,ve=!1,Te=!1,ae=0,ge=0,Ee=[],ce&&(e||ce.abort(),ce.reset(),ce=null),Ae=!1}i=i||{};var o=this.context,a=(0,g.default)(o).getInstance(),d=i.metricsModel,E=i.mediaPlayerModel,U=i.errHandler,H=i.streamController,q=i.mediaController,G=i.adapter,K=i.textController,z=i.abrController,J=i.playbackController,ee=i.type,te=i.streamProcessor,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,le=void 0,ue=void 0,de=void 0,ce=void 0,fe=void 0,he=void 0,pe=void 0,ge=void 0,ye=void 0,ve=void 0,me=void 0,_e=void 0,Te=void 0,Ee=void 0,be=void 0,Ae=void 0,Se=void 0;return ne={getBufferControllerType:function(){return F},initialize:function(e){ha(e),ie=z.getQualityFor(ee,te.getStreamInfo()),a.on(y.default.DATA_UPDATE_COMPLETED,Z,this),a.on(y.default.INIT_FRAGMENT_LOADED,j,this),a.on(y.default.MEDIA_FRAGMENT_LOADED,n,this),a.on(y.default.QUALITY_CHANGE_REQUESTED,t,this),a.on(y.default.STREAM_COMPLETED,$,this),a.on(y.default.PLAYBACK_PROGRESS,B,this),a.on(y.default.PLAYBACK_TIME_UPDATED,B,this),a.on(y.default.PLAYBACK_RATE_CHANGED,ba,this),a.on(y.default.PLAYBACK_SEEKING,v,this),a.on(y.default.WALLCLOCK_TIME_UPDATED,aa,this),a.on(y.default.CURRENT_TRACK_CHANGED,_,this,g.default.EVENT_PRIORITY_HIGH),a.on(y.default.SOURCEBUFFER_REMOVE_COMPLETED,X,this)},createBuffer:e,dischargePreBuffer:function(){if(ce&&fe&&"function"==typeof fe.discharge){var e=fe.getAllBufferRanges();if(e.length>0){for(var t="Beginning "+ee+"PreBuffer discharge, adding buffer for:",n=0;n<e.length;n++)t+=" start: "+e.start(n)+", end: "+e.end(n)+";";re(t)}else re("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");for(var r=fe.discharge(),i=null,o=0;o<r.length;o++){var a=r[o],s=me.extract(a.streamId,a.representationId);s&&(i!==s&&(ce.append(s),i=s),ce.append(a))}fe.reset(),fe=null}},getType:function(){return ee},getStreamProcessor:function(){return te},setSeekStartTime:function(e){_e=e},getBuffer:function(){return ce},getBufferLevel:function(){return ae},getRangeAt:L,setMediaSource:ha,getMediaSource:function(){return le},getIsBufferingCompleted:function(){return oe},switchInitData:function(e,t,n){var r=me.extract(e,t);Ae=!0===n&&n,r?(re("Append Init fragment",ee," with representationId:",r.representationId," and quality:",r.quality),p(r)):a.trigger(y.default.INIT_REQUESTED,{sender:ne})},getIsPruningInProgress:function(){return ve},reset:function(e){a.off(y.default.DATA_UPDATE_COMPLETED,Z,this),a.off(y.default.QUALITY_CHANGE_REQUESTED,t,this),a.off(y.default.INIT_FRAGMENT_LOADED,j,this),a.off(y.default.MEDIA_FRAGMENT_LOADED,n,this),a.off(y.default.STREAM_COMPLETED,$,this),a.off(y.default.CURRENT_TRACK_CHANGED,_,this),a.off(y.default.PLAYBACK_PROGRESS,B,this),a.off(y.default.PLAYBACK_TIME_UPDATED,B,this),a.off(y.default.PLAYBACK_RATE_CHANGED,ba,this),a.off(y.default.PLAYBACK_SEEKING,v,this),a.off(y.default.WALLCLOCK_TIME_UPDATED,aa,this),a.off(y.default.SOURCEBUFFER_REMOVE_COMPLETED,X,this),na(e)}},re=(0,b.default)(o).getInstance().log.bind(ne),me=(0,A.default)(o).getInstance(),be=[],na(),ne}Object.defineProperty(a,"__esModule",{value:!0});var s=d(i(99)),l=d(i(139)),u=d(i(95)),c=d(i(94)),f=d(i(102)),h=d(i(108)),g=d(i(46)),y=d(i(50)),m=d(i(195)),E=d(i(47)),b=d(i(45)),A=d(i(201)),S=i(232),w="bufferLoaded",C="bufferStalled",I=.5,M=.5,D=.01,k=22,F="BufferController";e.__dashjs_factory_name=F;var U=E.default.getClassFactory(e);U.BUFFER_LOADED=w,U.BUFFER_EMPTY=C,E.default.updateClassFactory(e.__dashjs_factory_name,U),a.default=U,o.exports=a.default},{102:102,108:108,139:139,195:195,201:201,232:232,45:45,46:46,47:47,50:50,94:94,95:95,99:99}],106:[function(t,r,i){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function b(){w=!1,g={},y={},v={},m=null,T=(_=100)/1e3}function c(){if(!E||!A||!S)throw new Error("setConfig function has to be called previously")}function d(){null!==m&&w&&(clearInterval(m),m=null,w=!1)}function h(e){if(e.eventStream.value==r){var t,n=e.eventStream.timescale||1,i=e.presentationTime/n;t=4294967295==e.presentationTime?NaN:(e.presentationTime+e.duration)/n,a("Manifest validity changed: Valid until: "+i+"; remaining duration: "+t),p.trigger(f.default.MANIFEST_VALIDITY_CHANGED,{id:e.id,validUntil:i,newDuration:t,newManifestValidAfter:NaN})}}function l(){o(y),o(g),function(){if(v)for(var e=S.getTime(),t=Object.keys(v),n=0;n<t.length;n++){var r=t[n],i=v[r];null!==i&&(i.duration+i.presentationTime)/i.eventStream.timescale<e&&(a("Remove Event "+r+" at time "+e),i=null,delete v[r])}}()}function n(){c(),A.refreshManifest()}function o(e){var i,o=S.getTime();if(e)for(var s=Object.keys(e),l=0;l<s.length;l++){var u=s[l],d=e[u];void 0!==d&&(0==(i=d.presentationTime/d.eventStream.timescale)||i<=o&&i+T>o)&&(a("Start Event "+u+" at "+o),d.duration>0&&(v[u]=d),d.eventStream.schemeIdUri==t&&d.eventStream.value==r?0===d.duration&&0===d.presentationTimeDelta||n():p.trigger(d.eventStream.schemeIdUri,{event:d}),delete e[u])}}var e,t="urn:mpeg:dash:event:2012",r=1,i=this.context,a=(0,s.default)(i).getInstance().log,p=(0,u.default)(i).getInstance(),g=void 0,y=void 0,v=void 0,m=void 0,_=void 0,T=void 0,E=void 0,A=void 0,S=void 0,w=void 0;return e={addInlineEvents:function(e){if(c(),g={},e)for(var t=0;t<e.length;t++){var n=e[t];g[n.id]=n,a("Add inline event with id "+n.id)}a("Added "+e.length+" inline events")},addInbandEvents:function(e){c();for(var n=0;n<e.length;n++){var r=e[n];r.id in y?a("Repeated event with id "+r.id):(r.eventStream.schemeIdUri===t&&void 0===y[r.id]&&h(r),y[r.id]=r,a("Add inband event with id "+r.id))}},stop:d,start:function(){c(),a("Start Event Controller"),w||isNaN(_)||(w=!0,m=setInterval(l,_))},setConfig:function(e){e&&(e.manifestModel&&(E=e.manifestModel),e.manifestUpdater&&(A=e.manifestUpdater),e.playbackController&&(S=e.playbackController))},reset:function(){d(),b()}},b(),e}Object.defineProperty(i,"__esModule",{value:!0});var a=d(t(47)),s=d(t(45)),u=d(t(46)),f=d(t(50));e.__dashjs_factory_name="EventController",i.default=a.default.getClassFactory(e),r.exports=i.default},{45:45,46:46,47:47,50:50}],107:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(t){function d(e){return e&&e.type&&e.type===o.HTTPRequest.INIT_SEGMENT_TYPE}function e(){for(var e in _)_[e].reset();_={}}function k(e){if(_[e.request.mediaType]===e.sender){var t=e.request,n=e.response,o=d(t),s=t.mediaInfo.streamInfo;if(e.error&&(e.request.mediaType!==i.default.AUDIO&&e.request.mediaType!==i.default.VIDEO&&e.request.mediaType!==i.default.FRAGMENTED_TEXT||h.trigger(f.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:e.request.serviceLocation})),!n||!s)return void r("No "+t.mediaType+" bytes to push or stream is inactive.");var l=function(e,t,n,r){var i=new a.default;return i.streamId=n,i.mediaInfo=t.mediaInfo,i.segmentType=t.type,i.start=t.startTime,i.duration=t.duration,i.end=i.start+i.duration,i.bytes=e,i.index=t.index,i.quality=t.quality,i.representationId=t.representationId,i.endFragment=r,i}(n,t,s.id,e.type!==f.default.FRAGMENT_LOADING_PROGRESS);h.trigger(o?f.default.INIT_FRAGMENT_LOADED:f.default.MEDIA_FRAGMENT_LOADED,{chunk:l,fragmentModel:e.sender})}}t=t||{};var n=this.context,r=(0,p.default)(n).getInstance().log,h=(0,c.default)(n).getInstance(),g=t.errHandler,y=t.mediaPlayerModel,v=t.metricsModel,m=void 0,_=void 0;return m={getModel:function(e){var t=_[e];return t||(t=(0,s.default)(n).create({metricsModel:v,fragmentLoader:(0,l.default)(n).create({metricsModel:v,mediaPlayerModel:y,errHandler:g,requestModifier:(0,u.default)(n).getInstance()})}),_[e]=t),t},isInitializationRequest:d,reset:function(){h.off(f.default.FRAGMENT_LOADING_COMPLETED,k,this),h.off(f.default.FRAGMENT_LOADING_PROGRESS,k,this),e()}},e(),h.on(f.default.FRAGMENT_LOADING_COMPLETED,k,m),h.on(f.default.FRAGMENT_LOADING_PROGRESS,k,m),m}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(99)),o=t(232),a=d(t(213)),s=d(t(139)),l=d(t(88)),u=d(t(205)),c=d(t(46)),f=d(t(50)),h=d(t(47)),p=d(t(45));e.__dashjs_factory_name="FragmentController",r.default=h.default.getClassFactory(e),n.exports=r.default},{139:139,205:205,213:213,232:232,45:45,46:46,47:47,50:50,88:88,99:99}],108:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function d(e,t){if(!e||!t)return[];var n=t.id;return m[n]&&m[n][e]?m[n][e].list:[]}function e(e,t){return!e||!t||t&&!m[t.id]?null:m[t.id][e].current}function h(t){if(t){var n=t.type,r=t.streamInfo,i=r.id,a=e(n,r);if(m[i]&&m[i][n]&&(!a||!x(t,a))){m[i][n].current=t,a&&s.trigger(o.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:a,newMediaInfo:t,switchMode:b[n]});var l=function(e){var t={lang:e.lang,viewpoint:e.viewpoint,roles:e.roles,accessibility:e.accessibility,audioChannelConfiguration:e.audioChannelConfiguration};return t.lang||t.viewpoint||t.role&&t.role.length>0||t.accessibility&&t.accessibility.length>0||t.audioChannelConfiguration&&t.audioChannelConfiguration.length>0?t:null}(t);l&&m[i][n].storeLastSettings&&(l.roles&&(l.role=l.roles[0],delete l.roles),l.accessibility&&(l.accessibility=l.accessibility[0]),l.audioChannelConfiguration&&(l.audioChannelConfiguration=l.audioChannelConfiguration[0]),A.setSavedMediaSettings(n,l))}}}function j(e,t){e&&t&&(_[e]=t)}function l(e){return e?_[e]:null}function v(){return T||y}function w(e){return e===i.default.AUDIO||e===i.default.VIDEO||e===i.default.TEXT||e===i.default.FRAGMENTED_TEXT||e===i.default.IMAGE}function x(e,t){var n=e.id===t.id,r=e.viewpoint===t.viewpoint,i=e.lang===t.lang,o=e.roles.toString()===t.roles.toString(),a=e.accessibility.toString()===t.accessibility.toString(),s=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return n&&r&&i&&o&&a&&s}function z(){m={},_={audio:null,video:null},b={audio:f,video:c}}function B(e,t){var n=!e.lang||e.lang===t.lang,r=!e.viewpoint||e.viewpoint===t.viewpoint,i=!e.role||!!t.roles.filter(function(t){return t===e.role})[0],o=!e.accessibility||!!t.accessibility.filter(function(t){return t===e.accessibility})[0],a=!e.audioChannelConfiguration||!!t.audioChannelConfiguration.filter(function(t){return t===e.audioChannelConfiguration})[0];return n&&r&&i&&o&&a}function E(e){var t=v(),n=[],i=function(e){var t=0,n=[],r=void 0;return e.forEach(function(e){(r=Math.max.apply(Math,e.bitrateList.map(function(e){return e.bandwidth})))>t?(t=r,n=[e]):r===t&&n.push(e)}),n},o=function(e){var t=0,n=[],r=void 0;return e.forEach(function(e){(r=e.representationCount)>t?(t=r,n=[e]):r===t&&n.push(e)}),n};switch(t){case p:(n=i(e)).length>1&&(n=o(n));break;case g:(n=o(e)).length>1&&(n=i(e));break;default:r("track selection mode is not supported: "+t)}return n[0]}var t,n=this.context,r=(0,u.default)(n).getInstance().log,s=(0,a.default)(n).getInstance(),m=void 0,_=void 0,T=void 0,b=void 0,A=void 0,S=[f,c],C=[p,g];return t={checkInitialMediaSettingsForType:function(e,t){var n=l(e),r=d(e,t),o=[];e!==i.default.FRAGMENTED_TEXT?(n||j(e,n=A.getSavedMediaSettings(e)),r&&0!==r.length&&(n&&r.forEach(function(e){B(n,e)&&o.push(e)}),h(0===o.length?E(r):o.length>1?E(o):o[0]))):h(r[0])},addTrack:function(t){if(t){var n=t.type;if(w(n)){var r=t.streamInfo.id;m[r]||(m[r]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var i=m[r][n].list,o=0,a=i.length;o<a;++o)if(x(i[o],t))return;i.push(t);var s=l(n);s&&B(s,t)&&!e(n,t.streamInfo)&&h(t)}}},getTracksFor:d,getCurrentTrackFor:e,isCurrentTrack:function(e){var t=e.type,n=e.streamInfo.id;return m[n]&&m[n][t]&&x(m[n][t].current,e)},setTrack:h,setInitialSettings:j,getInitialSettings:l,setSwitchMode:function(e,t){-1!==S.indexOf(t)?b[e]=t:r("track switch mode is not supported: "+t)},getSwitchMode:function(e){return b[e]},setSelectionModeForInitialTrack:function(e){-1!==C.indexOf(e)?T=e:r("track selection mode is not supported: "+e)},getSelectionModeForInitialTrack:v,isMultiTrackSupportedByType:w,isTracksEqual:x,setConfig:function(e){e&&(e.errHandler&&e.errHandler,e.domStorage&&(A=e.domStorage))},reset:z},z(),t}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(99)),o=d(t(50)),a=d(t(46)),s=d(t(47)),u=d(t(45)),c="neverReplace",f="alwaysReplace",p="highestBitrate",g="widestRange",y=p;e.__dashjs_factory_name="MediaController";var m=s.default.getSingletonFactory(e);m.TRACK_SWITCH_MODE_NEVER_REPLACE=c,m.TRACK_SWITCH_MODE_ALWAYS_REPLACE=f,m.TRACK_SELECTION_MODE_HIGHEST_BITRATE=p,m.TRACK_SELECTION_MODE_WIDEST_RANGE=g,m.DEFAULT_INIT_TRACK_SELECTION_MODE=y,s.default.updateSingletonFactory(e.__dashjs_factory_name,m),r.default=m,n.exports=r.default},{45:45,46:46,47:47,50:50,99:99}],109:[function(t,n,r){"use strict";function e(){return{createMediaSource:function(){var e="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:e?new WebKitMediaSource:null},attachMediaSource:function(e,t){var n=window.URL.createObjectURL(e);return t.setSource(n),n},detachMediaSource:function(e){e.setSource(null)},setDuration:function(e,t){return e.duration!=t&&(e.duration=t),e.duration},setSeekable:function(e,t,n){e&&"function"==typeof e.setLiveSeekableRange&&"function"==typeof e.clearLiveSeekableRange&&"open"===e.readyState&&t>=0&&t<n&&(e.clearLiveSeekableRange(),e.setLiveSeekableRange(t,n))},signalEndOfStream:function(e){var t=e.sourceBuffers,n=t.length;if("open"===e.readyState){for(var r=0;r<n;r++){if(t[r].updating)return;if(0===t[r].buffered.length)return}e.endOfStream()}}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47));e.__dashjs_factory_name="MediaSourceController",r.default=i.default.getSingletonFactory(e),n.exports=r.default},{47:47}],110:[function(t,i,o){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function c(e){!re&&e.fromStreamInfo&&void 0!==Z[e.fromStreamInfo.id]&&(delete te[e.fromStreamInfo.id],delete Z[e.fromStreamInfo.id])}function d(){var e=E(!0),t=re?e-ne.start:0;return parseFloat((e+(ne.duration-t)-n()).toFixed(5))}function e(){ne&&q&&q.getElement()?q.play():oe=!0}function f(){return ne&&q?q.isPaused():null}function h(){ne&&q&&q.pause()}function j(){return ne&&q?q.isSeeking():null}function l(e){ne&&q&&(m.trigger(v.default.PLAYBACK_SEEK_ASKED),o("Requesting seek to time: "+e),q.setCurrentTime(e))}function n(){return ne&&q?q.getTime():null}function p(){return ne&&q?q.getPlaybackRate():null}function r(){return ne&&q?q.getEnded():null}function u(){return re}function B(){0,Y=NaN,z=null,oe=!1,Z={},ee=0,se=0,te={},q&&(m.off(v.default.DATA_UPDATE_COMPLETED,J,this),m.off(v.default.BUFFER_LEVEL_STATE_CHANGED,_,this),m.off(v.default.BYTES_APPENDED_END_FRAGMENT,$,this),m.off(v.default.PERIOD_SWITCH_STARTED,c,this),H(),q.removeEventListener("canplay",K),q.removeEventListener("play",L),q.removeEventListener("waiting",M),q.removeEventListener("playing",N),q.removeEventListener("pause",O),q.removeEventListener("error",X),q.removeEventListener("seeking",P),q.removeEventListener("seeked",Q),q.removeEventListener("timeupdate",R),q.removeEventListener("progress",T),q.removeEventListener("ratechange",U),q.removeEventListener("loadedmetadata",V),q.removeEventListener("ended",W)),q=null,ne=null,re=null}function D(){var e=(0,g.default)(i).getInstance().getURIFragmentData(),t=void 0;if(e){t={};var n=parseInt(e.r,10);n>=0&&ne&&n<ne.manifestInfo.DVRWindowSize&&null===e.t&&(e.t=Math.floor(Date.now()/1e3)-ne.manifestInfo.DVRWindowSize+n),t.fragS=parseInt(e.s,10),t.fragT=parseInt(e.t,10)}return t}function E(e,t){var n,r=void 0,i=D();if(n=i?e?ne.start:isNaN(i.fragS)?i.fragT:i.fragS:0,re)isNaN(n)||((r=n-ne.manifestInfo.availableFrom.getTime()/1e3)>Y||r<(isNaN(t)?NaN:t-ne.manifestInfo.DVRWindowSize))&&(r=null),r=r||Y;else if(!isNaN(n)&&n<Math.max(ne.manifestInfo.duration,ne.duration)&&n>=0)r=n;else{var o=Z[ne.id];r=void 0!==o?Math.max(void 0!==o.audio?o.audio:0,void 0!==o.video?o.video:0,ne.start):ne.start}return r}function G(){if(null===z){z=setInterval(function(){var e;m.trigger(v.default.WALLCLOCK_TIME_UPDATED,{isDynamic:re,time:new Date}),u()&&f()&&(e=Date.now(),(!ae||e>ae+A)&&(ae=e,R()))},ie.getWallclockTimeUpdateInterval())}}function H(){clearInterval(z),z=null}function I(){if(!f()&&re&&0!==q.getReadyState()){var e=n(),t=function(e){var t=w.getReadOnlyMetricsFor(a.default.VIDEO)||w.getReadOnlyMetricsFor(a.default.AUDIO),n=C.getCurrentDVRInfo(t),r=n?n.range:null,i=void 0;if(!r)return NaN;if(e>r.end)i=Math.max(r.end-2*ne.manifestInfo.minBufferTime,r.start);else{if(!(e+.25<r.start))return e;i=r.start}return i}(e);!isNaN(t)&&t!==e&&l(t)}}function J(e){if(!e.error){var t=F.convertDataToRepresentationInfo(e.currentRepresentation).mediaInfo.streamInfo;ne.id===t.id&&(ne=t,I())}}function K(){m.trigger(v.default.CAN_PLAY)}function L(){o("Native video element event: play"),I(),G(),m.trigger(v.default.PLAYBACK_STARTED,{startTime:n()})}function M(){o("Native video element event: waiting"),m.trigger(v.default.PLAYBACK_WAITING,{playingTime:n()})}function N(){o("Native video element event: playing"),m.trigger(v.default.PLAYBACK_PLAYING,{playingTime:n()})}function O(){o("Native video element event: pause"),m.trigger(v.default.PLAYBACK_PAUSED,{ended:r()})}function P(){var e=n();o("Seeking to: "+e),G(),m.trigger(v.default.PLAYBACK_SEEKING,{seekTime:e})}function Q(){o("Native video element event: seeked"),m.trigger(v.default.PLAYBACK_SEEKED)}function R(){var e=n();e,m.trigger(v.default.PLAYBACK_TIME_UPDATED,{timeToEnd:d(),time:e})}function T(){m.trigger(v.default.PLAYBACK_PROGRESS)}function U(){var e=p();o("Native video element event: ratechange: ",e),m.trigger(v.default.PLAYBACK_RATE_CHANGED,{playbackRate:e})}function V(){o("Native video element event: loadedmetadata"),m.trigger(v.default.PLAYBACK_METADATA_LOADED),G()}function W(){o("Native video element event: ended"),h(),H(),m.trigger(v.default.PLAYBACK_ENDED)}function X(e){var t=e.target||e.srcElement;m.trigger(v.default.PLAYBACK_ERROR,{error:t.error})}function $(e){var t=void 0,n=void 0,r=e.bufferedRanges;if(r&&r.length&&(!Z[ne.id]||!0!==Z[ne.id].started)){var i=e.sender.getType();void 0===te[ne.id]&&(te[ne.id]=[]),te[ne.id][i]=r,void 0===Z[ne.id]&&(Z[ne.id]=[],Z[ne.id].started=!1),void 0===Z[ne.id][i]&&(Z[ne.id][i]=Math.max(r.start(0),ne.start));var o=S.isVideoTrackPresent(),a=S.isAudioTrackPresent();n=E(!1),a&&o?isNaN(Z[ne.id].audio)||isNaN(Z[ne.id].video)||(Z[ne.id].audio<Z[ne.id].video?(t=Z[ne.id].video>n?Z[ne.id].video:n,r=te[ne.id].audio):(t=Z[ne.id].audio>n?Z[ne.id].audio:n,r=te[ne.id].video),function(e,t){if(t&&t.length>0)for(var n=0,r=t.length;n<r;n++)if(e>=t.start(n)&&e<t.end(n))return!0;return!1}(t,r)&&(j()||l(t),Z[ne.id].started=!0)):Z[ne.id][i]&&(t=Z[ne.id][i]>n?Z[ne.id][i]:n,j()||l(t),Z[ne.id].started=!0)}}function _(e){e.streamInfo.id===ne.id&&q.setStallState(e.mediaType,e.state===s.default.BUFFER_EMPTY)}var t,i=this.context,o=(0,b.default)(i).getInstance().log,m=(0,y.default)(i).getInstance(),S=void 0,w=void 0,C=void 0,x=void 0,k=void 0,F=void 0,q=void 0,Y=void 0,z=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0;return t={initialize:function(t){ne=t,q.addEventListener("canplay",K),q.addEventListener("play",L),q.addEventListener("waiting",M),q.addEventListener("playing",N),q.addEventListener("pause",O),q.addEventListener("error",X),q.addEventListener("seeking",P),q.addEventListener("seeked",Q),q.addEventListener("timeupdate",R),q.addEventListener("progress",T),q.addEventListener("ratechange",U),q.addEventListener("loadedmetadata",V),q.addEventListener("ended",W),re=ne.manifestInfo.isDynamic,Y=ne.start,m.on(v.default.DATA_UPDATE_COMPLETED,J,this),m.on(v.default.BYTES_APPENDED_END_FRAGMENT,$,this),m.on(v.default.BUFFER_LEVEL_STATE_CHANGED,_,this),m.on(v.default.PERIOD_SWITCH_STARTED,c,this),oe&&(oe=!1,e())},setConfig:function(e){e&&(e.streamController&&(S=e.streamController),e.metricsModel&&(w=e.metricsModel),e.dashMetrics&&(C=e.dashMetrics),e.manifestModel&&(x=e.manifestModel),e.dashManifestModel&&(k=e.dashManifestModel),e.mediaPlayerModel&&(ie=e.mediaPlayerModel),e.adapter&&(F=e.adapter),e.videoModel&&(q=e.videoModel))},getStartTimeFromUriParameters:D,getStreamStartTime:E,getTimeToStreamEnd:d,getTime:n,getPlaybackRate:p,getPlayedRanges:function(){return ne&&q?q.getPlayedRanges():null},getEnded:r,getIsDynamic:u,getStreamController:function(){return S},setLiveStartTime:function(e){Y=e},getLiveStartTime:function(){return Y},computeLiveDelay:function(e,t){var n,r=k.getMpd(x.getValue()),i=void 0;if(n=ie.getUseSuggestedPresentationDelay()&&r.hasOwnProperty(a.default.SUGGESTED_PRESENTATION_DELAY)?r.suggestedPresentationDelay:ie.getLowLatencyEnabled()?0:ie.getLiveDelay()?ie.getLiveDelay():isNaN(e)?2*ne.manifestInfo.minBufferTime:e*ie.getLiveDelayFragmentCount(),r.availabilityStartTime&&(se=r.availabilityStartTime.getTime()),t>0){var o=Math.max(t-10,t/2);i=Math.min(n,o)}else i=n;return ee=i,i},getLiveDelay:function(){return ee},getCurrentLiveLatency:function(){if(!re||isNaN(se))return NaN;var e=n();return isNaN(e)||0===e?0:(Math.round((new Date).getTime()-(1e3*e+se))/1e3).toFixed(3)},play:e,isPaused:f,pause:h,isSeeking:j,seek:l,reset:B},B(),t}Object.defineProperty(o,"__esModule",{value:!0});var a=d(t(99)),s=d(t(105)),g=d(t(143)),y=d(t(46)),v=d(t(50)),m=d(t(47)),b=d(t(45)),A=500;e.__dashjs_factory_name="PlaybackController",o.default=m.default.getSingletonFactory(e),i.exports=o.default},{105:105,143:143,45:45,46:46,47:47,50:50,99:99}],111:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(t){function e(){oe&&!ee.isBufferingCompleted()?(re("[ScheduleController][",Z,"] start"),aa(),se=!1,ae&&(ae=!1),o(0)):re("[ScheduleController][",Z,"] start denied")}function f(){se||(re("[ScheduleController][",Z,"] stop"),se=!0,clearTimeout(he))}function k(){if(se||ce||!ee.getBufferController()||W.isPaused()&&!ve)re("[ScheduleController][",Z,"] - schedule stop!");else{!function(){var e=1.5*oe.fragmentDuration,t=ie.getRequests({state:g.default.FRAGMENT_MODEL_EXECUTED,time:W.getTime()+e,threshold:0})[0];if(t&&-1===Ee.indexOf(t)&&!j.getIsTextTrack(Z)){var n=Y.getFastSwitchEnabled(),r=ee.getBufferLevel(),i=z.getAbandonmentStateFor(Z),o=!te.isCurrentTrack(t.mediaInfo)&&te.getSwitchMode(t.mediaInfo.type)===b.default.TRACK_SWITCH_MODE_NEVER_REPLACE,a=t.quality<oe.quality;n&&(o||a)&&r>=e&&i!==l.default.ABANDON_LOAD?(x(t),re("Reloading outdated fragment at index: ",t.index)):t.quality>oe.quality&&U(W.getTime()+ee.getBufferLevel())}}();var e=Ee.length>0,t=ee.getStreamInfo();if(Ae||isNaN(Te)||be||e||function(e,t){_e[t]=_e[t]||{};var n=z.getTopQualityIndexFor(e,t);return _e[t][e]!=n&&(re("Top quality "+e+" index has changed from "+_e[t][e]+" to "+n),_e[t][e]=n,!0)}(oe.mediaInfo.type,t.id)||ge.execute(ee,Z,X.isVideoTrackPresent())){s(!0),e||be||z.checkPlaybackQuality(Z),function(){var e=ee.getFragmentController();if(oe.quality!==Te)re("ScheduleController - "+Z+" - quality has changed, get init request for representationid = "+oe.id),Te=oe.quality,ee.switchInitData(oe.id);else if(be)re("ScheduleController - "+Z+" - switch track has been asked, get init request for "+Z+" with representationid = "+oe.id),Ae=te.getSwitchMode(Z)===b.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,ee.switchInitData(oe.id,Ae),Te=oe.quality,be=!1;else{var n=Ee.shift();if(e.isInitializationRequest(n))ee.switchInitData(n.representationId);else{var r=void 0;ee.getBufferController().getIsPruningInProgress()||!(r=ye.execute(ee,n))&&t.manifestInfo&&t.manifestInfo.isDynamic&&re("getNextFragment - "+Z+" - Playing at the bleeding live edge and frag is not available yet"),r?(re("ScheduleController - "+Z+" - getNextFragment - request is "+r.url),ie.executeRequest(r)):(s(!1),o(500))}}}()}else o(500)}}function o(e){clearTimeout(he),he=setTimeout(k,e)}function q(e){e.sender&&e.sender.getStreamProcessor()===ee&&u(oe.quality)}function s(e){ce!==e?ce=e:re("[ScheduleController][",Z,"] isFragmentProcessingInProgress is already equal to",e)}function u(e){var t=T.getInitRequest(ee,e);t&&(s(!0),ie.executeRequest(t))}function x(e){Ee.push(e)}function y(e){if(Z===e.mediaType&&ee.getStreamInfo().id===e.streamInfo.id){if(null===(oe=ee.getRepresentationInfoForQuality(e.newQuality))||void 0===oe)throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");_(new Date,a.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),aa()}}function A(e){if(W&&ie){var t=ie.getRequests({state:g.default.FRAGMENT_MODEL_EXECUTED,time:W.getTime(),threshold:0})[0];t&&W.getTime()>=t.startTime&&((!me.mediaInfo||t.mediaInfo.type===me.mediaInfo.type&&t.mediaInfo.id!==me.mediaInfo.id)&&e&&r.trigger(m.default.TRACK_CHANGE_RENDERED,{mediaType:Z,oldMediaInfo:me.mediaInfo,newMediaInfo:t.mediaInfo}),t.quality===me.quality&&t.adaptationIndex===me.adaptationIndex||!e||r.trigger(m.default.QUALITY_CHANGE_RENDERED,{mediaType:Z,oldQuality:me.quality,newQuality:t.quality}),me={mediaInfo:t.mediaInfo,quality:t.quality,adaptationIndex:t.adaptationIndex})}}function C(e){e.error||e.sender.getStreamProcessor()!==ee||(oe=T.convertDataToRepresentationInfo(e.currentRepresentation))}function D(t){t.error||ee.getStreamInfo().id!==t.streamInfo.id||(oe=ee.getCurrentRepresentationInfo(),ae&&(W.getIsDynamic()?(B.setTimeSyncCompleted(!0),function(){var e=ee.getLiveEdgeFinder();if(e){var t=e.getLiveEdge(),n=oe.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,r=t-W.computeLiveDelay(oe.fragmentDuration,n),o=T.getFragmentRequestForTime(ee,oe,r,{ignoreIsFinished:!0});if(Y.getLowLatencyEnabled()){var a=o.duration<Y.getLiveDelay()?o.startTime:o.startTime+o.duration-Y.getLiveDelay();W.setLiveStartTime(a)}else W.setLiveStartTime(o.startTime);(pe=W.getStreamStartTime(!1,t))>oe.mediaInfo.streamInfo.start+oe.mediaInfo.streamInfo.duration&&W.seek(pe);var s=w.getCurrentManifestUpdate(d.getMetricsFor(i.default.STREAM));d.updateManifestUpdateInfo(s,{currentTime:pe,presentationStartTime:t,latency:t-pe,clientTimeOffset:B.getClientTimeOffset()})}}()):(pe=W.getStreamStartTime(!1),ee.getBufferController().setSeekStartTime(pe))),se&&e())}function F(e){e.fragmentModel===ie&&(f(),s(!1),re("[ScheduleController] Stream is complete"))}function G(e){e.sender===ie&&(re("[ScheduleController][",Z,"] - onFragmentLoadingCompleted"),j.getIsTextTrack(Z)&&s(!1),e.error&&e.request.serviceLocation&&!se&&(x(e.request),s(!1),o(0)),Ae&&(Se=e.request))}function H(){A(!0)}function I(e){e.sender.getStreamProcessor()===ee&&(Ae&&!isNaN(e.startTime)&&(Ae=!1,ie.addExecutedRequest(Se)),s(!1),o(0))}function J(e){e.streamProcessor===ee&&(re("[ScheduleController][onFragmentLoadingAbandoned] for "+Z+", request: "+e.request.url+" has been aborted"),W.isSeeking()||be||(re("[ScheduleController][onFragmentLoadingAbandoned] for "+Z+", request: "+e.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),x(e.request)),s(!1),o(0))}function K(e){e.sender.getStreamProcessor()===ee&&f()}function L(t){t.sender.getStreamProcessor()===ee&&(t.unintended?ee.getFragmentModel().removeExecutedRequestsAfterTime(t.from,ee.getStreamInfo().duration):ee.getFragmentModel().syncExecutedRequestsWithBufferedRange(ee.getBufferController().getBuffer().getAllBufferRanges(),ee.getStreamInfo().duration),t.hasEnoughSpaceToAppend&&se&&e())}function M(e){e.sender.getStreamProcessor()!==ee||e.state!==c.default.BUFFER_EMPTY||W.isSeeking()||(re("[ScheduleController][",Z,"] - Buffer is empty! Stalling!"),_(new Date,a.PlayListTrace.REBUFFERING_REASON))}function N(e){e.sender.getStreamProcessor()===ee&&(f(),s(!1))}function O(){ie.abortRequests(),f()}function P(e){e.sender.getStreamProcessor()===ee&&u(e.index)}function Q(){!se&&ve||e()}function R(t){pe=t.seekTime,V(0),se&&e();var n=w.getCurrentManifestUpdate(d.getMetricsFor(i.default.STREAM)),r=oe.DVRWindow&&W?oe.DVRWindow.end-W.getTime():NaN;d.updateManifestUpdateInfo(n,{latency:r}),ce?(re("[ScheduleController][onPlaybackSeeking] for "+Z+", call fragmentModel.abortRequests in order to seek quicker"),ie.abortRequests()):o(0)}function S(e){ue&&(ue.playbackspeed=e.playbackRate.toString())}function U(e){pe=e}function V(e){fe=e}function _(e,t){if(le&&!1===de){var n=ue.start,r=e.getTime()-n.getTime();ue.duration=r,ue.stopreason=t,le.trace.push(ue),de=!0}}function aa(){le&&!0===de&&oe&&(de=!1,(ue=new a.PlayListTrace).representationid=oe.id,ue.start=new Date,ue.mstart=1e3*W.getTime(),ue.playbackspeed=W.getPlaybackRate().toString())}function ba(){ce=!1,fe=0,pe=NaN,le=null,ue=null,de=!0,ae=!0,Te=NaN,me={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},_e={},Ee=[],se=!0,be=!1,Ae=!1,Se=null}t=t||{};var n=this.context,r=(0,v.default)(n).getInstance(),d=t.metricsModel,T=t.adapter,w=t.dashMetrics,j=t.dashManifestModel,B=t.timelineConverter,Y=t.mediaPlayerModel,z=t.abrController,W=t.playbackController,X=t.streamController,$=t.textController,Z=t.type,ee=t.streamProcessor,te=t.mediaController,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,le=void 0,ue=void 0,de=void 0,ce=void 0,fe=void 0,he=void 0,pe=void 0,ge=void 0,ye=void 0,ve=void 0,me=void 0,_e=void 0,Te=void 0,Ee=void 0,be=void 0,Ae=void 0,Se=void 0;return ne={initialize:function(){ie=ee.getFragmentModel(),ve=Y.getScheduleWhilePaused(),ge=(0,h.default)(n).create({abrController:z,dashMetrics:w,metricsModel:d,mediaPlayerModel:Y,textController:$}),ye=(0,p.default)(n).create({adapter:T,textController:$}),j.getIsTextTrack(Z)&&r.on(m.default.TIMED_TEXT_REQUESTED,P,this),r.on(m.default.QUALITY_CHANGE_REQUESTED,y,this),r.on(m.default.DATA_UPDATE_STARTED,K,this),r.on(m.default.DATA_UPDATE_COMPLETED,C,this),r.on(m.default.FRAGMENT_LOADING_COMPLETED,G,this),r.on(m.default.STREAM_COMPLETED,F,this),r.on(m.default.STREAM_INITIALIZED,D,this),r.on(m.default.BUFFER_LEVEL_STATE_CHANGED,M,this),r.on(m.default.BUFFER_CLEARED,L,this),r.on(m.default.BYTES_APPENDED_END_FRAGMENT,I,this),r.on(m.default.INIT_REQUESTED,q,this),r.on(m.default.QUOTA_EXCEEDED,N,this),r.on(m.default.PLAYBACK_SEEKING,R,this),r.on(m.default.PLAYBACK_STARTED,Q,this),r.on(m.default.PLAYBACK_RATE_CHANGED,S,this),r.on(m.default.PLAYBACK_TIME_UPDATED,H,this),r.on(m.default.URL_RESOLUTION_FAILED,O,this),r.on(m.default.FRAGMENT_LOADING_ABANDONED,J,this)},getType:function(){return Z},getSeekTarget:function(){return pe},setSeekTarget:U,setTimeToLoadDelay:V,getTimeToLoadDelay:function(){return fe},replaceRequest:x,switchTrackAsked:function(){be=!0},isStarted:function(){return!1===se},start:e,stop:f,reset:function(){r.off(m.default.DATA_UPDATE_STARTED,K,this),r.off(m.default.DATA_UPDATE_COMPLETED,C,this),r.off(m.default.BUFFER_LEVEL_STATE_CHANGED,M,this),r.off(m.default.QUALITY_CHANGE_REQUESTED,y,this),r.off(m.default.FRAGMENT_LOADING_COMPLETED,G,this),r.off(m.default.STREAM_COMPLETED,F,this),r.off(m.default.STREAM_INITIALIZED,D,this),r.off(m.default.QUOTA_EXCEEDED,N,this),r.off(m.default.BYTES_APPENDED_END_FRAGMENT,I,this),r.off(m.default.BUFFER_CLEARED,L,this),r.off(m.default.INIT_REQUESTED,q,this),r.off(m.default.PLAYBACK_RATE_CHANGED,S,this),r.off(m.default.PLAYBACK_SEEKING,R,this),r.off(m.default.PLAYBACK_STARTED,Q,this),r.off(m.default.PLAYBACK_TIME_UPDATED,H,this),r.off(m.default.URL_RESOLUTION_FAILED,O,this),r.off(m.default.FRAGMENT_LOADING_ABANDONED,J,this),j.getIsTextTrack(Z)&&r.off(m.default.TIMED_TEXT_REQUESTED,P,this),f(),A(!1),ba()},setPlayList:function(e){le=e},getBufferTarget:function(){return ge.getBufferTarget(ee,Z,X.isVideoTrackPresent())},finalisePlayList:function(e,t){_(e,t),le=null}},re=(0,E.default)(n).getInstance().log.bind(ne),ba(),ne}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(99)),a=t(234),l=d(t(102)),c=d(t(105)),h=d(t(184)),p=d(t(185)),g=d(t(139)),v=d(t(46)),m=d(t(50)),T=d(t(47)),E=d(t(45)),b=d(t(108));e.__dashjs_factory_name="ScheduleController",r.default=T.default.getClassFactory(e),n.exports=r.default},{102:102,105:105,108:108,139:139,184:184,185:185,234:234,45:45,46:46,47:47,50:50,99:99}],112:[function(t,i,o){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function c(){if(Q()){var e=_e.getPlaybackQuality();e&&J.addDroppedFrames(a.default.VIDEO,e)}}function d(){if(!(!Ee.getJumpGaps()||!ce||0===ce.getProcessors().length||Te.isSeeking()||be||ge||ye||ve)&&++Oe>=e){var t=Te.getTime();Re===t?function(e){for(var t=ce.getProcessors(),n=Ee.getSmallGapLimit(),r=void 0,a=0;a<t.length;a++){var s=t[a].getBuffer(),l=s.getAllBufferRanges(),u=void 0;if(l&&!(l.length<=1)){for(var d=0;d<l.length;d++)if(e<l.start(d)){u=l.start(d);break}if(u>0){var c=u-e;c>0&&c<=n&&(void 0===r||u>r)&&(r=u)}}}var f=Te.getTimeToStreamEnd();void 0===r&&!isNaN(f)&&f<n&&(r=e+f),r>0&&(!isNaN(f)&&r>=e+f?(i("Jumping media gap (discontinuity) at time ",e,". Jumping to end of the stream"),o.trigger(v.default.PLAYBACK_ENDED)):(i("Jumping media gap (discontinuity) at time ",e,". Jumping to time position",r),Te.seek(r)))}(t):Re=t,Oe=0}}function f(e){var t=r(e.seekTime);Me&&(l(),Ie=!1),t&&t!==ce?(S(b.PlayListTrace.END_OF_PERIOD_STOP_REASON),A(ce,t,e.seekTime)):S(b.PlayListTrace.USER_REQUEST_STOP_REASON),T(b.PlayList.SEEK_START_REASON)}function h(){i("[StreamController][onPlaybackStarted]"),Ae?(Ae=!1,T(b.PlayList.INITIAL_PLAYOUT_START_REASON)):be&&(be=!1,T(b.PlayList.RESUME_FROM_PAUSE_START_REASON),n())}function j(e){i("[StreamController][onPlaybackPaused]"),e.ended||(be=!0,S(b.PlayListTrace.USER_REQUEST_STOP_REASON),n())}function l(){i("[StreamController][toggleEndPeriodTimer] stop end period timer."),clearTimeout(Me),Me=void 0}function n(){if(Ie)if(Me)l();else{var e=Te.getTimeToStreamEnd(),t=e>0?1e3*e:0;i("[StreamController][toggleEndPeriodTimer] start-up of timer to notify PLAYBACK_ENDED event. It will be triggered in "+t+" milliseconds"),Me=setTimeout(function(){o.trigger(v.default.PLAYBACK_ENDED)},t)}}function p(){var e=V().isLast;me&&e?(i("[StreamController][onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),Z.signalEndOfStream(me)):me&&void 0===Me&&(i("[StreamController][onStreamBufferingCompleted] end of period detected"),Ie=!0,!1===be&&n())}function r(e){var t=0,n=null,r=de.length;r>0&&(t+=de[0].getStartTime());for(var i=0;i<r;i++)if(n=de[i],e<(t=parseFloat((t+n.getDuration()).toFixed(5))))return n;return null}function w(){var e=function(){if(ce){var e=function(){var e=ce.getStreamInfo().start,t=ce.getStreamInfo().duration;return{v:de.filter(function(n){return n.getStreamInfo().start===parseFloat((e+t).toFixed(5))})[0]}}();if("object"==typeof e)return e.v}}();e?(Ce=void 0,we=void 0,A(ce,e,NaN)):i("StreamController no next stream found"),S(e?b.PlayListTrace.END_OF_PERIOD_STOP_REASON:b.PlayListTrace.END_OF_CONTENT_STOP_REASON),Me=void 0,Ie=!1}function A(e,t,n){!ge&&t&&e!==t&&(ge=!0,o.trigger(v.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:e?e.getStreamInfo():null,toStreamInfo:t.getStreamInfo()}),e&&(e.stopEventController(),e.deactivate()),ce=t,Te.initialize(ce.getStreamInfo()),_e.getElement()?G(n,e,!1):function(e){I(e)}(n))}function G(e,t,n){function d(){me&&(i("MediaSource is open!"),window.URL.revokeObjectURL(r),me.removeEventListener("sourceopen",d),me.removeEventListener("webkitsourceopen",d),K(),t||o.trigger(v.default.SOURCE_INITIALIZED),n?ce.setMediaSource(me):I(e))}var r=void 0;me?Z.detachMediaSource(_e):me=Z.createMediaSource(),me.addEventListener("sourceopen",d,!1),me.addEventListener("webkitsourceopen",d,!1),r=Z.attachMediaSource(me,_e),i("MediaSource attached to element.  Waiting on open...")}function I(e){ce.activate(me),Ce=R(a.default.AUDIO),we=R(a.default.VIDEO),Ae||(isNaN(e)?function(){var e=Te.getStreamStartTime(!0);ce.getProcessors().forEach(function(t){W.setIndexHandlerTime(t,e)})}():Te.seek(e)),ce.startEventController(),!pe&&Ae||Te.play(),ge=!1,o.trigger(v.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:ce.getStreamInfo()})}function K(){var e=ce.getStreamInfo().manifestInfo.duration,t=Z.setDuration(me,e);i("Duration successfully set to: "+t)}function L(e){for(var t=0,n=de.length;t<n;t++)if(de[t].getId()===e.id)return de[t];return null}function N(){var e=Y.getValue();fe&&(o.trigger(v.default.PROTECTION_CREATED,{controller:fe,manifest:e}),fe.setMediaElement(_e.getElement()),he&&fe.setProtectionData(he)),function(){try{var e=W.getStreamsInfo();if(0===e.length)throw new Error("There are no streams");var n=$.getCurrentManifestUpdate(J.getMetricsFor(a.default.STREAM));J.updateManifestUpdateInfo(n,{currentTime:Te.getTime(),buffered:_e.getBufferRange(),presentationStartTime:e[0].start,clientTimeOffset:ue.getClientTimeOffset()});for(var i=0,s=e.length;i<s;i++){var l=e[i],d=L(l);d?d.updateData(l):(d=(0,u.default)(t).create({manifestModel:Y,dashManifestModel:z,mediaPlayerModel:Ee,metricsModel:J,dashMetrics:$,manifestUpdater:H,adapter:W,timelineConverter:ue,capabilities:B,errHandler:le,baseURLController:te,domStorage:ne,abrController:re,playbackController:Te,mediaController:ie,textController:oe,videoModel:_e,streamController:E}),de.push(d),d.initialize(l,fe)),J.addManifestUpdateStreamInfo(n,l.id,l.index,l.start,l.duration)}if(!ce){var c=Te.getStartTimeFromUriParameters(),f=null;c&&(f=r(isNaN(c.fragS)?c.fragT:c.fragS)),A(null,null!==f?f:de[0],NaN)}o.trigger(v.default.STREAMS_COMPOSED)}catch(e){le.manifestError(e.message,"nostreamscomposed",Y.getValue()),ve=!0,da()}}()}function O(e){e.error?(ve=!0,da()):function(){var t=e.manifest;W.updatePeriods(t);var n=W.getStreamsInfo(void 0,1)[0],r=W.getMediaInfoForType(n,a.default.VIDEO)||W.getMediaInfoForType(n,a.default.AUDIO),o=void 0;r&&(o=z.getUseCalculatedLiveEdgeTimeForAdaptation(W.getDataForMedia(r)))&&(i("SegmentTimeline detected using calculated Live Edge Time"),Ee.setUseManifestDateHeaderTimeSource(!1));var s=z.getUTCTimingSources(e.manifest),l=!z.getIsDynamic(t)||o?s:s.concat(Ee.getUTCTimingSources()),u=se.isHTTPS(e.manifest.url);l.forEach(function(e){e.value.replace(/.*?:\/\//g,"")===m.default.DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\/\//g,"")&&(e.value=e.value.replace(u?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),u?"https://":"http://"),i("Matching default timing source protocol to manifest protocol: ",e.value))}),te.initialize(t),ee.setConfig({metricsModel:J,dashMetrics:$,baseURLController:te}),ee.initialize(l,Ee.getUseManifestDateHeaderTimeSource())}()}function Q(){return we}function R(e){var t=!1;return ce&&ce.getProcessors().forEach(function(n){n.getMediaInfo().type===e&&(t=!0)}),t}function S(e,t){t=t||new Date,Se&&(ce&&ce.getProcessors().forEach(function(n){var r=n.getScheduleController();r&&r.finalisePlayList(t,e)}),J.addPlayList(Se),Se=null)}function T(e){(Se=new b.PlayList).start=new Date,Se.mstart=1e3*Te.getTime(),Se.starttype=e,ce&&ce.getProcessors().forEach(function(e){var t=e.getScheduleController();t&&t.setPlayList(Se)})}function U(e){if(e.error){var t="";switch(e.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN"}ye=!0,e.error.message&&(t+=" ("+e.error.message+")"),e.error.msExtendedCode&&(t+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),i("Video Element Error: "+t),e.error&&i(e.error),le.mediaSourceError(t),da()}}function V(){return ce?ce.getStreamInfo():null}function X(){if(!(q&&q.hasOwnProperty("load")&&ue&&ue.hasOwnProperty("initialize")&&ue.hasOwnProperty("reset")&&ue.hasOwnProperty("getClientTimeOffset")))throw new Error("setConfig function has to be called previously")}function _(e){isNaN(e.newDuration)||K(e.newDuration)}function ca(){de=[],fe=null,ge=!1,ce=null,ye=!1,ve=!1,we=void 0,Ce=void 0,Ae=!0,be=!1,pe=!0,Se=null,Me=void 0,Ie=!1,Oe=0}function da(){X(),ee.reset(),S(ye||ve?b.PlayListTrace.FAILURE_STOP_REASON:b.PlayListTrace.USER_REQUEST_STOP_REASON);for(var e=0,t=de?de.length:0;e<t;e++)de[e].reset(ye);o.off(v.default.PLAYBACK_TIME_UPDATED,c,this),o.off(v.default.PLAYBACK_SEEKING,f,this),o.off(v.default.PLAYBACK_ERROR,U,this),o.off(v.default.PLAYBACK_STARTED,h,this),o.off(v.default.PLAYBACK_PAUSED,j,this),o.off(v.default.PLAYBACK_ENDED,w,this),o.off(v.default.MANIFEST_UPDATED,O,this),o.off(v.default.STREAM_BUFFERING_COMPLETED,p,this),o.off(D.default.METRIC_ADDED,ea,this),o.off(v.default.MANIFEST_VALIDITY_CHANGED,_,this),te.reset(),H.reset(),J.clearAllCurrentMetrics(),Y.setValue(null),q.reset(),ue.reset(),ae.reset(),me&&(Z.detachMediaSource(_e),me=null),_e=null,fe&&(fe.setMediaElement(null),fe=null,he=null,Y.getValue()&&o.trigger(v.default.PROTECTION_DESTROYED,{data:Y.getValue().url})),o.trigger(v.default.STREAM_TEARDOWN_COMPLETE),ca()}function ea(e){e.metric===s.default.DVR_INFO&&e.mediaType===a.default.AUDIO&&Z.setSeekable(me,e.value.range.start,e.value.range.end)}var e=40,t=this.context,i=(0,C.default)(t).getInstance().log,o=(0,y.default)(t).getInstance(),E=void 0,B=void 0,H=void 0,q=void 0,Y=void 0,z=void 0,W=void 0,J=void 0,$=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,le=void 0,ue=void 0,de=void 0,ce=void 0,fe=void 0,he=void 0,pe=void 0,ge=void 0,ye=void 0,ve=void 0,me=void 0,_e=void 0,Te=void 0,Ee=void 0,be=void 0,Ae=void 0,Se=void 0,we=void 0,Ce=void 0,Ie=void 0,Me=void 0,Oe=void 0,Re=void 0;return E={initialize:function(e,n){X(),pe=e,he=n,ue.initialize(),(H=(0,g.default)(t).create()).setConfig({manifestModel:Y,dashManifestModel:z,mediaPlayerModel:Ee,manifestLoader:q,errHandler:le}),H.initialize(),te.setConfig({dashManifestModel:z}),o.on(v.default.TIME_SYNCHRONIZATION_COMPLETED,N,this),o.on(v.default.PLAYBACK_SEEKING,f,this),o.on(v.default.PLAYBACK_TIME_UPDATED,c,this),o.on(v.default.PLAYBACK_ENDED,w,this),o.on(v.default.PLAYBACK_ERROR,U,this),o.on(v.default.PLAYBACK_STARTED,h,this),o.on(v.default.PLAYBACK_PAUSED,j,this),o.on(v.default.MANIFEST_UPDATED,O,this),o.on(v.default.STREAM_BUFFERING_COMPLETED,p,this),o.on(v.default.MANIFEST_VALIDITY_CHANGED,_,this),o.on(v.default.WALLCLOCK_TIME_UPDATED,d,this),o.on(D.default.METRIC_ADDED,ea,this)},getActiveStreamInfo:V,isVideoTrackPresent:Q,isAudioTrackPresent:function(){return Ce},switchToVideoElement:function(e){Te.initialize(ce.getStreamInfo()),G(e,null,!0)},getStreamById:function(e){return de.filter(function(t){return t.getId()===e})[0]},getStreamForTime:r,getTimeRelativeToStreamId:function(e,t){for(var n=null,r=0,i=0,o=null,a=de.length,s=0;s<a;s++){if(i=(n=de[s]).getStartTime(),o=n.getDuration(),Number.isFinite(i)&&(r=i),n.getId()===t)return e-r;Number.isFinite(o)&&(r+=o)}return null},load:function(e){X(),q.load(e)},loadWithManifest:function(e){(function(){if(!H||!H.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),H.setManifest(e)},getActiveStreamProcessors:function(){return ce?ce.getProcessors():[]},setConfig:function(e){e&&(e.capabilities&&(B=e.capabilities),e.manifestLoader&&(q=e.manifestLoader),e.manifestModel&&(Y=e.manifestModel),e.dashManifestModel&&(z=e.dashManifestModel),e.mediaPlayerModel&&(Ee=e.mediaPlayerModel),e.protectionController&&(fe=e.protectionController),e.adapter&&(W=e.adapter),e.metricsModel&&(J=e.metricsModel),e.dashMetrics&&($=e.dashMetrics),e.errHandler&&(le=e.errHandler),e.timelineConverter&&(ue=e.timelineConverter),e.videoModel&&(_e=e.videoModel),e.playbackController&&(Te=e.playbackController),e.domStorage&&(ne=e.domStorage),e.abrController&&(re=e.abrController),e.mediaController&&(ie=e.mediaController),e.textController&&(oe=e.textController))},setProtectionData:function(e){he=e},reset:da},ee=(0,x.default)(t).getInstance(),te=(0,k.default)(t).getInstance(),Z=(0,F.default)(t).getInstance(),ae=(0,M.default)(t).getInstance(),se=(0,P.default)(t).getInstance(),ca(),E}Object.defineProperty(o,"__esModule",{value:!0});var a=d(t(99)),s=d(t(100)),u=d(t(96)),g=d(t(90)),y=d(t(46)),v=d(t(50)),m=d(t(141)),E=d(t(47)),b=t(234),C=d(t(45)),M=d(t(201)),P=d(t(207)),D=d(t(92)),x=d(t(113)),k=d(t(103)),F=d(t(109));e.__dashjs_factory_name="StreamController",o.default=E.default.getSingletonFactory(e),i.exports=o.default},{100:100,103:103,109:109,113:113,141:141,201:201,207:207,234:234,45:45,46:46,47:47,50:50,90:90,92:92,96:96,99:99}],113:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function d(e){E=e}function f(e){e}function h(e){g=e}function o(e){var t=Date.parse(e);return isNaN(t)&&(t=function(e){var t=void 0,n=void 0,r=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(e);return t=Date.UTC(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10),r[6]&&(parseInt(r[6],10)||0),r[7]&&1e3*parseFloat(r[7])||0),r[9]&&r[10]&&(n=60*parseInt(r[9],10)+parseInt(r[10],10),t+=("+"===r[8]?-1:1)*n*60*1e3),new Date(t).getTime()}(e)),t}function p(e){return Date.parse(e)}function q(e){return Date.parse(e)}function s(e,t,n){n()}function w(e,t,n){var r=o(e);isNaN(r)?n():t(r)}function x(e,t,n,i,o){var a,s,u=!1,d=new XMLHttpRequest,c=o?l.HTTPRequest.HEAD:l.HTTPRequest.GET,f=t.match(/\S+/g);if(t=f.shift(),a=function(){u||(u=!0,f.length?x(e,f.join(" "),n,i,o):i())},s=function(){var t=void 0,r=void 0;200===d.status&&(t=o?d.getResponseHeader("Date"):d.response,r=e(t),isNaN(r)||(n(r),u=!0))},r.isRelative(t)){var h=M.resolve();h&&(t=r.resolve(t,h.url))}d.open(c,t),d.timeout=T||0,d.onload=s,d.onloadend=a,d.send()}function y(e,t,n){x(q,e,t,n,!0)}function A(e,t,r){d(!1),n.trigger(c.default.TIME_SYNCHRONIZATION_COMPLETED,{time:t,offset:r,error:e?new a.default(_):null})}var e=this.context,t=(0,v.default)(e).getInstance().log,n=(0,u.default)(e).getInstance(),r=(0,m.default)(e).getInstance(),g=void 0,E=void 0,b=void 0,S=void 0,C=void 0,I=void 0,M=void 0;return{initialize:function(e,n){b=n,g=0,E=!1,!1,S={"urn:mpeg:dash:utc:http-head:2014":y,"urn:mpeg:dash:utc:http-xsdate:2014":x.bind(null,o),"urn:mpeg:dash:utc:http-iso:2014":x.bind(null,p),"urn:mpeg:dash:utc:direct:2014":w,"urn:mpeg:dash:utc:http-head:2012":y,"urn:mpeg:dash:utc:http-xsdate:2012":x.bind(null,o),"urn:mpeg:dash:utc:http-iso:2012":x.bind(null,p),"urn:mpeg:dash:utc:direct:2012":w,"urn:mpeg:dash:utc:http-ntp:2014":s,"urn:mpeg:dash:utc:ntp:2014":s,"urn:mpeg:dash:utc:sntp:2014":s},E||(function B(e,n){var r=n||0,o=e[r],a=function(e,t){var n=!e||!t;n&&b?function(){var e=C.getReadOnlyMetricsFor(i.default.STREAM),t=I.getLatestMPDRequestHeaderValueByID(e,"Date"),n=null!==t?new Date(t).getTime():Number.NaN;isNaN(n)?A(!0):(h(n-(new Date).getTime()),A(!1,n/1e3,g))}():A(n,e,t)};d(!0),o?S.hasOwnProperty(o.schemeIdUri)?S[o.schemeIdUri](o.value,function(e){var n=(new Date).getTime(),r=e-n;h(r),t("Local time:      "+new Date(n)),t("Server time:     "+new Date(e)),t("Difference (ms): "+r),a(e,r)},function(){B(e,r+1)}):B(e,r+1):(h(0),a())}(e),f(!0))},getOffsetToDeviceTimeMs:function(){return g},setConfig:function(e){e&&(e.metricsModel&&(C=e.metricsModel),e.dashMetrics&&(I=e.dashMetrics),e.baseURLController&&(M=e.baseURLController))},reset:function(){f(!1),d(!1)}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(99)),a=d(t(212)),l=t(232),u=d(t(46)),c=d(t(50)),g=d(t(47)),v=d(t(45)),m=d(t(207)),_=1,T=5e3;e.__dashjs_factory_name="TimeSyncController";var E=g.default.getSingletonFactory(e);E.TIME_SYNC_FAILED_ERROR_CODE=_,E.HTTP_TIMEOUT_MS=T,g.default.updateSingletonFactory(e.__dashjs_factory_name,E),r.default=E,n.exports=r.default},{207:207,212:212,232:232,45:45,46:46,47:47,50:50,99:99}],114:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function h(e,t,n){var i={},o=void 0,a=void 0;i.elements=e,i.type=t,i.resolveType=n,0===i.elements.length&&l(i);for(var s=0;s<i.elements.length;s++)o=i.elements[s],a=r.isHTTPURL(o.url)?o.url:o.originalContent.BaseURL+o.url,S.load(a,o,i)}function j(e){var t,n=void 0,r="";if(n=e.element,t=e.resolveObject,n.resolvedContent){var i=0;0===n.resolvedContent.indexOf("<?xml")&&(i=n.resolvedContent.indexOf("?>")+2),r=n.resolvedContent.substr(0,i)+"<response>"+n.resolvedContent.substr(i)+"</response>",n.resolvedContent=A.xml_str2json(r)}(function(e){var t=void 0;for(t=0;t<e.elements.length;t++)if(!1===e.elements[t].resolved)return!1;return!0})(t)&&l(t)}function l(e){var t=[],r=void 0,i=void 0;if(function(e){var t=[],n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;for(o=e.elements.length-1;o>=0;o--){if(n=e.elements[o],r=n.type+"_asArray",n.resolvedContent){if(n.resolvedContent)for(a=0;a<n.resolvedContent[r].length;a++)i=n.resolvedContent[r][a],t.push(i)}else delete n.originalContent["xlink:actuate"],delete n.originalContent["xlink:href"],t.push(n.originalContent);for(n.parentElement[r].splice(n.index,1),s=0;s<t.length;s++)n.parentElement[r].splice(n.index+s,0,t[s]);t=[]}e.elements.length>0&&E.run(b)}(e),e.resolveType===g&&n.trigger(a.default.XLINK_READY,{manifest:b}),e.resolveType===f)switch(e.type){case y:for(r=0;r<b[y+"_asArray"].length;r++)(i=b[y+"_asArray"][r]).hasOwnProperty(v+"_asArray")&&(t=t.concat(m(i[v+"_asArray"],i,v,f))),i.hasOwnProperty(_+"_asArray")&&(t=t.concat(m(i[_+"_asArray"],i,_,f)));h(t,v,f);break;case v:n.trigger(a.default.XLINK_READY,{manifest:b})}}function m(e,t,n,r){var i=[],o=void 0,a=void 0,s=void 0;for(a=e.length-1;a>=0;a--)(o=e[a]).hasOwnProperty("xlink:href")&&o["xlink:href"]===T&&e.splice(a,1);for(a=0;a<e.length;a++)(o=e[a]).hasOwnProperty("xlink:href")&&o.hasOwnProperty("xlink:actuate")&&o["xlink:actuate"]===r&&(s=p(o["xlink:href"],t,n,a,r,o),i.push(s));return i}function p(e,t,n,r,i,o){return{url:e,parentElement:t,type:n,index:r,resolveType:i,originalContent:o,resolvedContent:null,resolved:!1}}e=e||{};var t=this.context,n=(0,o.default)(t).getInstance(),r=(0,c.default)(t).getInstance(),s=void 0,d=void 0,E=void 0,b=void 0,A=void 0,S=void 0;return s={resolveManifestOnLoad:function(e){A=new u.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:d}),h(m((b=e).Period_asArray,b,y,f),y,f)},setMatchers:function(e){e&&(d=e)},setIron:function(e){e&&(E=e)},reset:function(){n.off(a.default.XLINK_ELEMENT_LOADED,j,s),S&&(S.reset(),S=null)}},n.on(a.default.XLINK_ELEMENT_LOADED,j,s),S=(0,i.default)(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier}),s}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(98)),o=d(t(46)),a=d(t(50)),s=d(t(47)),u=d(t(3)),c=d(t(207)),f="onLoad",g="onActuate",y="Period",v="AdaptationSet",_="EventStream",T="urn:mpeg:dash:resolve-to-zero:2013";e.__dashjs_factory_name="XlinkController",r.default=s.default.getClassFactory(e),n.exports=r.default},{207:207,3:3,46:46,47:47,50:50,98:98}],115:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){var e=this.context;return{createMetricsReporting:function(t){return(0,i.default)(e).getInstance({eventBus:t.eventBus,metricsModel:t.metricsModel,metricsConstants:t.metricsConstants,events:t.events}),(0,a.default)(e).create(t)},getReportingFactory:function(){return(0,l.default)(e).getInstance()},getMetricsHandlerFactory:function(){return(0,s.default)(e).getInstance()}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(129)),o=d(t(116)),a=d(t(117)),s=d(t(122)),l=d(t(127));e.__dashjs_factory_name="MetricsReporting";var u=dashjs.FactoryMaker.getClassFactory(e);u.events=o.default,dashjs.FactoryMaker.updateClassFactory(e.__dashjs_factory_name,u),r.default=u,n.exports=r.default},{116:116,117:117,122:122,127:127,129:129}],116:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},i=function(e){return e&&e.__esModule?e:{default:e}}(e(51)),o=new(function(e){function b(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,b),r(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,i.default),b}());n.default=o,t.exports=n.default},{51:51}],117:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function b(s){if(!s.error){var l=Object.keys(t);(0,o.default)(n).getInstance({dashManifestModel:e.dashManifestModel,constants:e.constants}).getMetrics(s.manifest).forEach(function(r){var o=JSON.stringify(r);if(t.hasOwnProperty(o))l.splice(o,1);else try{var a=(0,i.default)(n).create(e);a.initialize(r),t[o]=a}catch(r){}}),l.forEach(function(e){t[e].reset(),delete t[e]}),r.trigger(a.default.METRICS_INITIALISATION_COMPLETE)}}function c(){Object.keys(t).forEach(function(e){t[e].reset()}),t={}}e=e||{};var t={},n=this.context,r=e.eventBus,s=e.events;return r.on(s.MANIFEST_UPDATED,b),r.on(s.STREAM_TEARDOWN_COMPLETE,c),{reset:function(){r.off(s.MANIFEST_UPDATED,b),r.off(s.STREAM_TEARDOWN_COMPLETE,c)}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(118)),o=d(t(131)),a=d(t(116));e.__dashjs_factory_name="MetricsCollectionController",r.default=dashjs.FactoryMaker.getClassFactory(e),n.exports=r.default},{116:116,118:118,131:131}],118:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function c(){t&&t.reset(),n&&n.reset(),r&&r.reset()}e=e||{};var t=void 0,n=void 0,r=void 0,s=this.context;return{initialize:function(l){try{(r=(0,i.default)(s).create({mediaElement:e.mediaElement})).initialize(l.Range),(n=(0,o.default)(s).create({log:e.log,metricsConstants:e.metricsConstants})).initialize(l.Reporting,r),(t=(0,a.default)(s).create({log:e.log,eventBus:e.eventBus,metricsConstants:e.metricsConstants,events:e.events})).initialize(l.metrics,n)}catch(e){throw c(),e}},reset:c}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(120)),o=d(t(121)),a=d(t(119));e.__dashjs_factory_name="MetricsController",r.default=dashjs.FactoryMaker.getClassFactory(e),n.exports=r.default},{119:119,120:120,121:121}],119:[function(t,n,r){"use strict";function e(e){function b(e){t.forEach(function(t){t.handleNewMetric(e.metric,e.value,e.mediaType)})}e=e||{};var t=[],n=void 0,r=this.context,o=e.eventBus,a=e.events,s=(0,i.default)(r).getInstance({log:e.log,eventBus:e.eventBus,metricsConstants:e.metricsConstants});return n={initialize:function(e,r){e.split(",").forEach(function(e,n,i){var o;if(-1!==e.indexOf("(")&&-1===e.indexOf(")")){var a=i[n+1];a&&-1===a.indexOf("(")&&-1!==a.indexOf(")")&&(e+=","+a,delete i[n+1])}(o=s.create(e,r))&&t.push(o)}),o.on(a.METRIC_ADDED,b,n),o.on(a.METRIC_UPDATED,b,n)},reset:function(){o.off(a.METRIC_ADDED,b,n),o.off(a.METRIC_UPDATED,b,n),t.forEach(function(e){return e.reset()}),t=[]}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(122));e.__dashjs_factory_name="MetricsHandlersController",r.default=dashjs.FactoryMaker.getClassFactory(e),n.exports=r.default},{122:122}],120:[function(t,n,r){"use strict";function e(e){e=e||{};var t,n=!1,r=this.context,o=void 0,a=e.mediaElement;return t={initialize:function(e){e&&e.length&&(e.forEach(function(e){var t=e.starttime,n=t+e.duration;o.add(t,n)}),n=!!e[0]._useWallClockTime)},reset:function(){o.clear()},isEnabled:function(){var e,t=o.length;if(!t)return!0;e=n?(new Date).getTime()/1e3:a.currentTime;for(var r=0;r<t;r+=1){var i=o.start(r),s=o.end(r);if(i<=e&&e<s)return!0}return!1}},o=(0,i.default)(r).create(),t}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(197));e.__dashjs_factory_name="RangeController",r.default=dashjs.FactoryMaker.getClassFactory(e),n.exports=r.default},{197:197}],121:[function(t,n,r){"use strict";function e(e){var t=[],n=(0,i.default)(this.context).getInstance(e);return{initialize:function(e,r){e.some(function(e){var i=n.create(e,r);if(i)return t.push(i),!0})},reset:function(){t.forEach(function(e){return e.reset()}),t=[]},report:function(e,n){t.forEach(function(t){return t.report(e,n)})}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(127));e.__dashjs_factory_name="ReportingController",r.default=dashjs.FactoryMaker.getClassFactory(e),n.exports=r.default},{127:127}],122:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){var t=(e=e||{}).log,n=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,r=this.context,l={BufferLevel:i.default,DVBErrors:o.default,HttpList:a.default,PlayList:s.default,RepSwitchList:s.default,TcpList:s.default};return{create:function(i,o){var a,s=i.match(n);if(s){try{(a=l[s[1]](r).create({eventBus:e.eventBus,metricsConstants:e.metricsConstants})).initialize(s[1],o,s[3],s[5])}catch(e){a=null,t("MetricsHandlerFactory: Could not create handler for type "+s[1]+" with args "+s[3]+", "+s[5]+" ("+e.message+")")}return a}},register:function(e,t){l[e]=t},unregister:function(e){delete l[e]}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(123)),o=d(t(124)),a=d(t(126)),s=d(t(125));e.__dashjs_factory_name="MetricsHandlerFactory",r.default=dashjs.FactoryMaker.getSingletonFactory(e),n.exports=r.default},{123:123,124:124,125:125,126:126}],123:[function(t,n,r){"use strict";function e(e){function c(){var e=function(){try{return Object.keys(u).map(function(e){return u[e]}).reduce(function(e,t){return e.level<t.level?e:t})}catch(e){return}}();e&&a!==e.t&&(a=e.t,t.report(r,e))}e=e||{};var t=void 0,n=void 0,r=void 0,o=void 0,a=void 0,s=this.context,l=(0,i.default)(s).getInstance(),u=[],d=e.metricsConstants;return{initialize:function(e,i,a){i&&(n=l.validateN(a),t=i,r=l.reconstructFullMetricName(e,a),o=setInterval(c,n))},reset:function(){clearInterval(o),o=null,n=0,t=null,a=null},handleNewMetric:function(e,t,n){e===d.BUFFER_LEVEL&&(u[n]=t)}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(130));e.__dashjs_factory_name="BufferLevelHandler",r.default=dashjs.FactoryMaker.getClassFactory(e),n.exports=r.default},{130:130}],124:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(116));n.default=dashjs.FactoryMaker.getClassFactory(function(e){function b(){n.off(r.default.METRICS_INITIALISATION_COMPLETE,b,this),n.trigger(r.default.BECAME_REPORTING_PLAYER)}var t=void 0,n=(e=e||{}).eventBus,i=e.metricsConstants;return{initialize:function(e,i){i&&(t=i,n.on(r.default.METRICS_INITIALISATION_COMPLETE,b,this))},reset:function(){t=null},handleNewMetric:function(e,n){e===i.DVB_ERRORS&&t&&t.report(e,n)}}}),t.exports=n.default},{116:116}],125:[function(e,t,n){"use strict";function d(){var e=void 0,t=void 0;return{initialize:function(n,r){e=n,t=r},reset:function(){t=null,e=void 0},handleNewMetric:function(n,r){n===e&&t&&t.report(e,r)}}}Object.defineProperty(n,"__esModule",{value:!0}),d.__dashjs_factory_name="GenericMetricHandler",n.default=dashjs.FactoryMaker.getClassFactory(d),t.exports=n.default},{}],126:[function(t,n,r){"use strict";function e(e){function b(){var e=s;e.length&&t&&t.report(o,e),s=[]}e=e||{};var t=void 0,n=void 0,r=void 0,o=void 0,a=void 0,s=[],l=(0,i.default)(this.context).getInstance(),u=e.metricsConstants;return{initialize:function(e,i,s,u){i&&(n=l.validateN(s),t=i,u&&u.length&&(r=u),o=l.reconstructFullMetricName(e,s,u),a=setInterval(b,n))},reset:function(){clearInterval(a),a=null,n=null,r=null,s=[],t=null},handleNewMetric:function(e,t){e===u.HTTP_REQUEST&&(r&&r!==t.type||s.push(t))}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(130));e.__dashjs_factory_name="HttpListHandler",r.default=dashjs.FactoryMaker.getClassFactory(e),n.exports=r.default},{130:130}],127:[function(t,n,r){"use strict";function e(e){e=e||{};var t={"urn:dvb:dash:reporting:2014":i.default},n=this.context,r=e.log,o=e.metricsConstants;return{create:function(e,i){var a=void 0;try{(a=t[e.schemeIdUri](n).create({metricsConstants:o})).initialize(e,i)}catch(t){a=null,r("ReportingFactory: could not create Reporting with schemeIdUri "+e.schemeIdUri+" ("+t.message+")")}return a},register:function(e,n){t[e]=n},unregister:function(e){delete t[e]}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(128));e.__dashjs_factory_name="ReportingFactory",r.default=dashjs.FactoryMaker.getSingletonFactory(e),n.exports=r.default},{128:128}],128:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){e=e||{};var t=this.context,n=(0,i.default)(t).getInstance(),r=(0,o.default)(t).getInstance(),a=!0,s=!1,l=!1,u=null,d=null,c=!0,f=[],h=e.metricsConstants;return{report:function(e,t){Array.isArray(t)||(t=[t]),s&&d.isEnabled()&&t.forEach(function(t){var r=n.serialise(t);a&&e!==h.DVB_ERRORS&&(r="metricname="+e+"&"+r),function(e,t,n){var r=new XMLHttpRequest,i=function(){var e=f.indexOf(r);-1!==e&&(f.splice(e,1),r.status>=200&&r.status<300?t&&t():n&&n())};f.push(r);try{r.open("GET",e),r.onloadend=i,r.onerror=i,r.send()}catch(e){r.onerror()}}(r=u+"?"+r,null,function(){s=!1})})},initialize:function(e,t){var n=void 0;if(d=t,!(u=e["dvb:reportingUrl"]))throw new Error("required parameter missing (dvb:reportingUrl)");l||((n=e["dvb:probability"]||e["dvb:priority"]||0)&&(1e3===n||n/1e3>=r.random())&&(s=!0),l=!0)},reset:function(){c||(f.forEach(function(e){return e.abort()}),f=[]),l=!1,s=!1,u=null,d=null}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(132)),o=d(t(133));e.__dashjs_factory_name="DVBReporting",r.default=dashjs.FactoryMaker.getClassFactory(e),n.exports=r.default},{132:132,133:133}],129:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(t){function b(e){var t=new i.default;if(s){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.mpdurl||(t.mpdurl=s.originalUrl||s.url),t.terror||(t.terror=new Date),a.addDVBErrors(t)}}function c(e){e.error||(s=e.manifest)}function d(e){b({errorcode:i.default.BASE_URL_CHANGED,servicelocation:e.entry})}function e(){b({errorcode:i.default.BECAME_REPORTER})}function h(e){switch(e.metric){case l.HTTP_REQUEST:!function(e){(0===e.responsecode||e.responsecode>=400||e.responsecode<100||e.responsecode>=600)&&b({errorcode:e.responsecode||i.default.CONNECTION_ERROR,url:e.url,terror:e.tresponse,servicelocation:e._serviceLocation})}(e.value)}}function j(e){var t=void 0;switch(e.error?e.error.code:0){case MediaError.MEDIA_ERR_NETWORK:t=i.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:t=i.default.CORRUPT_MEDIA_OTHER;break;default:return}b({errorcode:t})}function k(){r.on(u.MANIFEST_UPDATED,c,n),r.on(u.SERVICE_LOCATION_BLACKLIST_CHANGED,d,n),r.on(u.METRIC_ADDED,h,n),r.on(u.METRIC_UPDATED,h,n),r.on(u.PLAYBACK_ERROR,j,n),r.on(o.default.BECAME_REPORTING_PLAYER,e,n)}var n=void 0,r=(t=t||{}).eventBus,a=t.metricsModel,s=void 0,l=t.metricsConstants,u=t.events;return n={initialise:k,reset:function(){r.off(u.MANIFEST_UPDATED,c,n),r.off(u.SERVICE_LOCATION_BLACKLIST_CHANGED,d,n),r.off(u.METRIC_ADDED,h,n),r.off(u.METRIC_UPDATED,h,n),r.off(u.PLAYBACK_ERROR,j,n),r.off(o.default.BECAME_REPORTING_PLAYER,e,n)}},k(),n}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(134)),o=d(t(116));e.__dashjs_factory_name="DVBErrorsTranslator",r.default=dashjs.FactoryMaker.getSingletonFactory(e),n.exports=r.default},{116:116,134:134}],130:[function(e,t,n){"use strict";function d(){return{reconstructFullMetricName:function(e,t,n){var r=e;return t&&(r+="("+t,n&&n.length&&(r+=","+n),r+=")"),r},validateN:function(e){if(!e)throw new Error("missing n");if(isNaN(e))throw new Error("n is NaN");if(e<0)throw new Error("n must be positive");return e}}}Object.defineProperty(n,"__esModule",{value:!0}),d.__dashjs_factory_name="HandlerHelpers",n.default=dashjs.FactoryMaker.getSingletonFactory(d),t.exports=n.default},{}],131:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function b(e,r,i){var o,a,s=t.getMpd(e),l=0;return r?l=s.availabilityStartTime.getTime()/1e3:(o=this.getRegularPeriods(s)).length&&(l=o[0].start),a=l,i&&i.hasOwnProperty(n.START_TIME)&&(a+=i.starttime),a}var t=(e=e||{}).dashManifestModel,n=e.constants;return{getMetrics:function(e){var r=[];return e.Metrics_asArray&&e.Metrics_asArray.forEach(function(s){var l=new i.default,u=t.getIsDynamic(e);s.hasOwnProperty("metrics")&&(l.metrics=s.metrics,s.Range_asArray&&s.Range_asArray.forEach(function(n){var r=new o.default;r.starttime=b(e,u,n),n.hasOwnProperty("duration")?r.duration=n.duration:r.duration=t.getDuration(e),r._useWallClockTime=u,l.Range.push(r)}),s.Reporting_asArray&&(s.Reporting_asArray.forEach(function(e){var t=new a.default;if(e.hasOwnProperty(n.SCHEME_ID_URI)){for(var r in t.schemeIdUri=e.schemeIdUri,e)e.hasOwnProperty(r)&&(t[r]=e[r]);l.Reporting.push(t)}}),r.push(l)))}),r}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(135)),o=d(t(136)),a=d(t(137));e.__dashjs_factory_name="ManifestParsing",r.default=dashjs.FactoryMaker.getSingletonFactory(e),n.exports=r.default},{135:135,136:136,137:137}],132:[function(e,t,n){"use strict";function d(){return{serialise:function a(e){var t=[],n=[],r=void 0,i=void 0;for(r in e)if(e.hasOwnProperty(r)&&0!==r.indexOf("_")){if(void 0!==(i=e[r])&&null!==i||(i=""),Array.isArray(i)){if(!i.length)continue;n=[],i.forEach(function(e){var t="Object"!==Object.prototype.toString.call(e).slice(8,-1);n.push(t?e:a(e))}),i=n.map(encodeURIComponent).join(",")}else"string"==typeof i?i=encodeURIComponent(i):i instanceof Date?i=i.toISOString():"number"==typeof i&&(i=Math.round(i));t.push(r+"="+i)}return t.join("&")}}}Object.defineProperty(n,"__esModule",{value:!0}),d.__dashjs_factory_name="MetricSerialiser",n.default=dashjs.FactoryMaker.getSingletonFactory(d),t.exports=n.default},{}],133:[function(e,t,n){"use strict";function d(){function a(){t&&(o||(o=new n(i)),t.getRandomValues(o),s=0)}var e,t=window.crypto||window.msCrypto,n=Uint32Array,r=Math.pow(2,8*n.BYTES_PER_ELEMENT)-1,i=10,o=void 0,s=void 0;return e={random:function(e,n){var i=void 0;return e||(e=0),n||(n=1),t?(s===o.length&&a(),i=o[s]/r,s+=1):i=Math.random(),i*(n-e)+e}},a(),e}Object.defineProperty(n,"__esModule",{value:!0}),d.__dashjs_factory_name="RNG",n.default=dashjs.FactoryMaker.getSingletonFactory(d),t.exports=n.default},{}],134:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};r.SSL_CONNECTION_FAILED_PREFIX="SSL",r.DNS_RESOLUTION_FAILED="C00",r.HOST_UNREACHABLE="C01",r.CONNECTION_REFUSED="C02",r.CONNECTION_ERROR="C03",r.CORRUPT_MEDIA_ISOBMFF="M00",r.CORRUPT_MEDIA_OTHER="M01",r.BASE_URL_CHANGED="F00",r.BECAME_REPORTER="S00",n.default=r,t.exports=n.default},{}],135:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.metrics="",this.Range=[],this.Reporting=[]},t.exports=n.default},{}],136:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},t.exports=n.default},{}],137:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.schemeIdUri="",this.value=""},t.exports=n.default},{}],138:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function f(){function c(e,t,n){var r=o.getBaseURLsFromElement(n);e[t]?u.areEqual(r,e[t].data.baseUrls)||(e[t].data.baseUrls=r,e[t].data.selectedIdx=s):e[t]=new l(r)}function i(){n=new l}var t,n=void 0,o=void 0,a=this.context,u=(0,r.default)(a).getInstance();return t={reset:i,update:function(e){!function(e){var t=o.getBaseURLsFromElement(e);u.areEqual(t,n.data.baseUrls)||(n.data.baseUrls=t,n.data.selectedIdx=s),e.Period_asArray&&e.Period_asArray.forEach(function(e,t){c(n.children,t,e),e.AdaptationSet_asArray&&e.AdaptationSet_asArray.forEach(function(e,r){c(n.children[t].children,r,e),e.Representation_asArray&&e.Representation_asArray.sort(o.getRepresentationSortFunction()).forEach(function(e,i){c(n.children[t].children[r].children,i,e)})})})}(e)},getForPath:function(e){var t=n,r=[t.data];return e&&e.forEach(function(e){(t=t.children[e])&&r.push(t.data)}),r.filter(function(e){return e.baseUrls.length})},invalidateSelectedIndexes:function(e){!function e(t,r){var i=r||n;t(i.data),i.children&&i.children.forEach(function(n){return e(t,n)})}(function(t){isNaN(t.selectedIdx)||e===t.baseUrls[t.selectedIdx].serviceLocation&&(t.selectedIdx=s)})},setConfig:function(e){e.dashManifestModel&&(o=e.dashManifestModel)}},i(),t}Object.defineProperty(n,"__esModule",{value:!0});var r=d(e(204)),o=d(e(47)),s=NaN,l=function a(e,t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.data={baseUrls:e||null,selectedIdx:t||s},this.children=[]};f.__dashjs_factory_name="BaseURLTreeModel",n.default=o.default.getClassFactory(f),t.exports=n.default},{204:204,47:47}],139:[function(t,r,i){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(t){function e(e){return!!e&&function(t){var n=!1;return t.some(function(t){if(function(e,t){return!isNaN(e.index)&&e.startTime===t.startTime&&e.adaptationIndex===t.adaptationIndex&&e.type===t.type}(e,t)||function(e,t){return isNaN(e.index)&&isNaN(t.index)&&e.quality===t.quality}(e,t)||function(e,t){return e.action===l.default.ACTION_COMPLETE&&e.action===t.action}(e,t))return n=!0}),n}(v)}function j(e){return isNaN(e.duration)?.25:e.duration/8}function k(e){v=v.filter(function(t){var n=j(t);return isNaN(t.startTime)||void 0!==e&&t.startTime>=e-n})}function n(e,t){t<=e+.5||(v=v.filter(function(n){var r=j(n);return isNaN(n.startTime)||n.startTime>=t-r||isNaN(n.duration)||n.startTime+n.duration<=e+r}))}function z(e,t){d.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t),d.addRequestsQueue(e.mediaType,m,v)}function A(e){e.sender===p&&(m.splice(m.indexOf(e.request),1),e.response&&!e.error&&v.push(e.request),z(e.request,e.error?h:f),s.trigger(a.default.FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this}))}function B(e){e.sender===p&&s.trigger(a.default.FRAGMENT_LOADING_PROGRESS,{request:e.request,response:e.response,error:e.error,sender:this})}function C(e){e.sender===p&&s.trigger(a.default.FRAGMENT_LOADING_ABANDONED,{streamProcessor:this.getStreamProcessor(),request:e.request,mediaType:e.mediaType})}function D(){v=[],m=[]}t=t||{};var r=this.context,i=(0,u.default)(r).getInstance().log,s=(0,o.default)(r).getInstance(),d=t.metricsModel,p=t.fragmentLoader,g=void 0,y=void 0,v=void 0,m=void 0;return g={setStreamProcessor:function(e){y=e},getStreamProcessor:function(){return y},getRequests:function(e){var t=[];return(e?e.state instanceof Array?e.state:[e.state]:[]).forEach(function(n){var r=function(e){var t=void 0;switch(e){case c:t=m;break;case f:t=v;break;default:t=[]}return t}(n);t=t.concat(function(e,t){return t.hasOwnProperty("time")?[function(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r],o=i.startTime,a=o+i.duration;if(n=isNaN(n)?j(i):n,!isNaN(o)&&!isNaN(a)&&t+n>=o&&t-n<a||isNaN(o)&&isNaN(t))return i}return null}(e,t.time,t.threshold)]:e.filter(function(e){for(var n in t)if("state"!==n&&t.hasOwnProperty(n)&&e[n]!=t[n])return!1;return!0})}(r,e))}),t},isFragmentLoaded:e,isFragmentLoadedOrPending:function(t){var n=!1,r=0,i=void 0;if(!(n=e(t)))for(r=0;r<m.length;r++)i=m[r],t.url===i.url&&t.startTime===i.startTime&&(n=!0);return n},removeExecutedRequestsBeforeTime:k,removeExecutedRequestsAfterTime:function(e){v=v.filter(function(t){return isNaN(t.startTime)||void 0!==e&&t.startTime<=e})},syncExecutedRequestsWithBufferedRange:function(e,t){if(e&&0!==e.length){for(var r=0,i=0,o=e.length;i<o;i++)n(r,e.start(i)),r=e.end(i);t>0&&n(r,t)}else k()},abortRequests:function(){p.abort(),m=[]},executeRequest:function(e){switch(e.action){case l.default.ACTION_COMPLETE:v.push(e),z(e,f),i("[FragmentModel] executeRequest trigger STREAM_COMPLETED"),s.trigger(a.default.STREAM_COMPLETED,{request:e,fragmentModel:this});break;case l.default.ACTION_DOWNLOAD:z(e,c),m.push(e),function(e){s.trigger(a.default.FRAGMENT_LOADING_STARTED,{sender:g,request:e}),p.load(e)}(e);break;default:i("Unknown request action.")}},reset:function(){s.off(a.default.LOADING_COMPLETED,A,this),s.off(a.default.LOADING_DATA_PROGRESS,B,this),s.off(a.default.LOADING_ABANDONED,C,this),p&&p.reset(),D()},addExecutedRequest:function(e){v.push(e)}},D(),s.on(a.default.LOADING_COMPLETED,A,g),s.on(a.default.LOADING_DATA_PROGRESS,B,g),s.on(a.default.LOADING_ABANDONED,C,g),g}Object.defineProperty(i,"__esModule",{value:!0});var o=d(t(46)),a=d(t(50)),s=d(t(47)),l=d(t(214)),u=d(t(45)),c="loading",f="executed",h="failed";e.__dashjs_factory_name="FragmentModel";var p=s.default.getClassFactory(e);p.FRAGMENT_MODEL_LOADING=c,p.FRAGMENT_MODEL_EXECUTED=f,p.FRAGMENT_MODEL_CANCELED="canceled",p.FRAGMENT_MODEL_FAILED=h,s.default.updateClassFactory(e.__dashjs_factory_name,p),i.default=p,r.exports=i.default},{214:214,45:45,46:46,47:47,50:50}],140:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){var e=this.context,t=(0,i.default)(e).getInstance(),n=void 0;return{getValue:function(){return n},setValue:function(e){n=e,e&&t.trigger(o.default.MANIFEST_LOADED,{data:e})}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(46)),o=d(t(50)),a=d(t(47));e.__dashjs_factory_name="ManifestModel",r.default=a.default.getSingletonFactory(e),n.exports=r.default},{46:46,47:47,50:50}],141:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){function g(e){var t=void 0;for(t=0;t<re.length;t++)if(re[t].rulename===e)return t;return-1}var t,n=void 0,r=void 0,i=void 0,d=void 0,f=void 0,F=void 0,j=void 0,B=void 0,U=void 0,V=void 0,H=void 0,q=void 0,G=void 0,Y=void 0,K=void 0,z=void 0,W=void 0,X=void 0,Q=void 0,J=void 0,$=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,le=void 0,ue=void 0;return t={setABRStrategy:function(e){Z=e},getABRStrategy:function(){return Z},setUseDefaultABRRules:function(e){ee=e},getUseDefaultABRRules:function(){return ee},getABRCustomRules:function(){return re},addABRCustomRule:function(e,t,n){var r=g(t);-1===r?re.push({type:e,rulename:t,rule:n}):(re[r].type=e,re[r].rule=n)},removeABRCustomRule:function(e){var t=g(e);-1!==t&&re.splice(t,1)},removeAllABRCustomRule:function(){re=[]},setBandwidthSafetyFactor:function(e){W=e},getBandwidthSafetyFactor:function(){return W},setAbandonLoadTimeout:function(e){X=e},getAbandonLoadTimeout:function(){return X},setLastBitrateCachingInfo:function(e,t){V.enabled=e,void 0===t||isNaN(t)||"number"!=typeof t||(V.ttl=t)},getLastBitrateCachingInfo:function(){return V},setLastMediaSettingsCachingInfo:function(e,t){H.enabled=e,void 0===t||isNaN(t)||"number"!=typeof t||(H.ttl=t)},getLastMediaSettingsCachingInfo:function(){return H},setStableBufferTime:function(e){q=e},getStableBufferTime:function(){return isNaN(q)?ne?_:m:q},setBufferTimeAtTopQuality:function(e){G=e},getBufferTimeAtTopQuality:function(){return G},setBufferTimeAtTopQualityLongForm:function(e){Y=e},getBufferTimeAtTopQualityLongForm:function(){return Y},setLongFormContentDurationThreshold:function(e){K=e},getLongFormContentDurationThreshold:function(){return K},setSegmentOverlapToleranceTime:function(e){z=e},getSegmentOverlapToleranceTime:function(){return z},getCacheLoadThresholdForType:function(e){return oe[e]},setCacheLoadThresholdForType:function(e,t){oe[e]=t},setBufferToKeep:function(e){j=e},getBufferToKeep:function(){return j},setBufferAheadToKeep:function(e){B=e},getBufferAheadToKeep:function(){return B},setBufferPruningInterval:function(e){U=e},getBufferPruningInterval:function(){return U},setFragmentRetryAttempts:function(e){Q[o.HTTPRequest.MEDIA_SEGMENT_TYPE]=e},getFragmentRetryAttempts:function(){return Q[o.HTTPRequest.MEDIA_SEGMENT_TYPE]},setManifestRetryAttempts:function(e){Q[o.HTTPRequest.MPD_TYPE]=e},getManifestRetryAttempts:function(){return Q[o.HTTPRequest.MPD_TYPE]},setRetryAttemptsForType:function(e,t){Q[e]=t},getRetryAttemptsForType:function(e){return Q[e]},setFragmentRetryInterval:function(e){J[o.HTTPRequest.MEDIA_SEGMENT_TYPE]=e},getFragmentRetryInterval:function(){return J[o.HTTPRequest.MEDIA_SEGMENT_TYPE]},setManifestRetryInterval:function(e){J[o.HTTPRequest.MPD_TYPE]=e},getManifestRetryInterval:function(){return J[o.HTTPRequest.MPD_TYPE]},setRetryIntervalForType:function(e,t){J[e]=t},getRetryIntervalForType:function(e){return J[e]},setWallclockTimeUpdateInterval:function(e){$=e},getWallclockTimeUpdateInterval:function(){return $},setScheduleWhilePaused:function(e){F=e},getScheduleWhilePaused:function(){return F},getUseSuggestedPresentationDelay:function(){return r},setUseSuggestedPresentationDelay:function(e){r=e},setLiveDelayFragmentCount:function(e){d=e},getLiveDelayFragmentCount:function(){return d},getLiveDelay:function(){return le?f||x:f},setLiveDelay:function(e){f=e},setUseManifestDateHeaderTimeSource:function(e){n=e},getUseManifestDateHeaderTimeSource:function(){return n},setUTCTimingSources:function(e){i=e},getUTCTimingSources:function(){return i},setXHRWithCredentialsForType:function Ma(e,t){e?te[e]=!!t:Object.keys(te).forEach(function(e){Ma(e,t)})},getXHRWithCredentialsForType:function(e){var t=te[e];return void 0===t?te.default:t},setFastSwitchEnabled:function(e){ne=e},getFastSwitchEnabled:function(){return ne},setMovingAverageMethod:function(e){ie=e},getMovingAverageMethod:function(){return ie},setJumpGaps:function(e){ae=e},getJumpGaps:function(){return ae},setSmallGapLimit:function(e){se=e},getSmallGapLimit:function(){return se},getLowLatencyEnabled:function(){return le},setLowLatencyEnabled:function(e){le=e},setManifestUpdateRetryInterval:function(e){ue=e},getManifestUpdateRetryInterval:function(){return ue},reset:function(){}},function(){var t,g;i=[],r=!1,n=!0,F=!0,Z=a.default.ABR_STRATEGY_DYNAMIC,ee=!0,ne=!1,V={enabled:!0,ttl:l},H={enabled:!0,ttl:u},d=s,f=void 0,j=p,B=y,U=v,q=NaN,G=T,Y=E,K=b,z=A,W=c,X=h,$=k,ae=!1,se=S,ue=w,te={default:L},re=[],ie=a.default.MOVING_AVERAGE_SLIDING_WINDOW,le=!1,e(t={},o.HTTPRequest.MPD_TYPE,R),e(t,o.HTTPRequest.XLINK_EXPANSION_TYPE,D),e(t,o.HTTPRequest.MEDIA_SEGMENT_TYPE,M),e(t,o.HTTPRequest.INIT_SEGMENT_TYPE,M),e(t,o.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,M),e(t,o.HTTPRequest.INDEX_SEGMENT_TYPE,M),e(t,o.HTTPRequest.OTHER_TYPE,M),Q=t,e(g={},o.HTTPRequest.MPD_TYPE,P),e(g,o.HTTPRequest.XLINK_EXPANSION_TYPE,N),e(g,o.HTTPRequest.MEDIA_SEGMENT_TYPE,O),e(g,o.HTTPRequest.INIT_SEGMENT_TYPE,O),e(g,o.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,O),e(g,o.HTTPRequest.INDEX_SEGMENT_TYPE,O),e(g,o.HTTPRequest.OTHER_TYPE,O),J=g,(oe={})[a.default.VIDEO]=C,oe[a.default.AUDIO]=I}(),t}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(47)),o=t(232),a=d(t(99)),s=4,l=36e4,u=36e4,c=.9,h=1e4,p=20,y=80,v=10,m=12,_=20,T=30,E=60,b=600,A=.2,S=.8,w=100,C=50,I=5,M=3,O=1e3,R=3,P=500,D=1,N=500,x=3,k=50,L=!1;f.__dashjs_factory_name="MediaPlayerModel";var F=i.default.getSingletonFactory(f);F.DEFAULT_UTC_TIMING_SOURCE={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso"},i.default.updateSingletonFactory(f.__dashjs_factory_name,F),r.default=F,n.exports=r.default},{232:232,47:47,99:99}],142:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function c(){A.trigger(b.default.METRICS_CHANGED)}function d(e){A.trigger(b.default.METRIC_CHANGED,{mediaType:e}),c()}function e(e,t,n){A.trigger(b.default.METRIC_UPDATED,{mediaType:e,metric:t,value:n}),d(e)}function f(e,t,n){A.trigger(b.default.METRIC_ADDED,{mediaType:e,metric:t,value:n}),d(e)}function o(e){var t=void 0;return S.hasOwnProperty(e)?t=S[e]:(t=new s.default,S[e]=t),t}function q(e,t,r){var i=o(e);i[t].push(r),i[t].length>n&&i[t].shift()}function B(e,t,n){q(e,t,n),f(e,t,n)}var t,n=1e3,r=this.context,A=(0,T.default)(r).getInstance(),S=void 0;return t={clearCurrentMetricsForType:function(e){delete S[e],d(e)},clearAllCurrentMetrics:function(){S={},c()},getReadOnlyMetricsFor:function(e){return S.hasOwnProperty(e)?S[e]:null},getMetricsFor:o,addTcpConnection:function(e,t,n,r,i,o){var s=new l.default;return s.tcpid=t,s.dest=n,s.topen=r,s.tclose=i,s.tconnect=o,B(e,a.default.TCP_CONNECTION,s),s},addHttpRequest:function w(e,t,n,r,i,o,s,l,d,c,f,h,p,g){var y=new u.HTTPRequest;return i&&i!==r&&(w(e,null,n,r,null,null,s,l,null,null,null,h,null,null),y.actualurl=i),y.tcpid=t,y.type=n,y.url=r,y.range=s,y.trequest=l,y.tresponse=d,y.responsecode=f,y._tfinish=c,y._stream=e,y._mediaduration=h,y._responseHeaders=p,y._serviceLocation=o,g?g.forEach(function(e){!function(e,t,n,r){var i=new u.HTTPRequestTrace;i.s=t,i.d=n,i.b=r,e.trace.push(i),e.interval||(e.interval=0),e.interval+=n}(y,e.s,e.d,e.b)}):(delete y.interval,delete y.trace),B(e,a.default.HTTP_REQUEST,y),y},addRepresentationSwitch:function(e,t,n,r,i){var o=new h.default;return o.t=t,o.mt=n,o.to=r,i?o.lto=i:delete o.lto,B(e,a.default.TRACK_SWITCH,o),o},addBufferLevel:function(e,t,n){var r=new p.default;return r.t=t,r.level=n,B(e,a.default.BUFFER_LEVEL,r),r},addBufferState:function(e,t,n){var r=new g.default;return r.target=n,r.state=t,B(e,a.default.BUFFER_STATE,r),r},addDVRInfo:function(e,t,n,r){var i=new y.default;return i.time=t,i.range=r,i.manifestInfo=n,B(e,a.default.DVR_INFO,i),i},addDroppedFrames:function(e,t){var n=new v.default,r=o(e).DroppedFrames;return n.time=t.creationTime,n.droppedFrames=t.droppedVideoFrames,r.length>0&&r[r.length-1]==n?r[r.length-1]:(B(e,a.default.DROPPED_FRAMES,n),n)},addSchedulingInfo:function(e,t,n,r,i,o,s,l,u){var d=new _.default;return d.mediaType=e,d.t=t,d.type=n,d.startTime=r,d.availabilityStartTime=i,d.duration=o,d.quality=s,d.range=l,d.state=u,B(e,a.default.SCHEDULING_INFO,d),d},addRequestsQueue:function(e,t,n){var r=new E.default;r.loadingRequests=t,r.executedRequests=n,o(e).RequestsQueue=r,f(e,a.default.REQUESTS_QUEUE,r)},addManifestUpdate:function(e,t,n,r,o,s,l,u,d,c){var h=new m.ManifestUpdate;return h.mediaType=e,h.type=t,h.requestTime=n,h.fetchTime=r,h.availabilityStartTime=o,h.presentationStartTime=s,h.clientTimeOffset=l,h.currentTime=u,h.buffered=d,h.latency=c,q(i.default.STREAM,a.default.MANIFEST_UPDATE,h),f(e,a.default.MANIFEST_UPDATE,h),h},updateManifestUpdateInfo:function(t,n){if(t){for(var r in n)t[r]=n[r];e(t.mediaType,a.default.MANIFEST_UPDATE,t)}},addManifestUpdateStreamInfo:function(t,n,r,i,o){if(t){var s=new m.ManifestUpdateStreamInfo;return s.id=n,s.index=r,s.start=i,s.duration=o,t.streamInfo.push(s),e(t.mediaType,a.default.MANIFEST_UPDATE_STREAM_INFO,t),s}return null},addManifestUpdateRepresentationInfo:function(t,n,r,i,o,s,l,u){if(t){var d=new m.ManifestUpdateRepresentationInfo;return d.id=n,d.index=r,d.streamIndex=i,d.mediaType=o,d.startNumber=l,d.fragmentInfoType=u,d.presentationTimeOffset=s,t.representationInfo.push(d),e(t.mediaType,a.default.MANIFEST_UPDATE_TRACK_INFO,t),d}return null},addPlayList:function(e){var t=i.default.STREAM;return e.trace&&Array.isArray(e.trace)?e.trace.forEach(function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel}):delete e.trace,B(t,a.default.PLAY_LIST,e),e},addDVBErrors:function(e){return B(i.default.STREAM,a.default.DVB_ERRORS,e),e},setConfig:function(e){e&&e.adapter&&e.adapter}},S={},t}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(99)),a=d(t(100)),s=d(t(220)),l=d(t(238)),u=t(232),h=d(t(235)),p=d(t(228)),g=d(t(229)),y=d(t(230)),v=d(t(231)),m=t(233),_=d(t(237)),T=d(t(46)),E=d(t(236)),b=d(t(50)),A=d(t(47));e.__dashjs_factory_name="MetricsModel",r.default=A.default.getSingletonFactory(e),n.exports=r.default},{100:100,220:220,228:228,229:229,230:230,231:231,232:232,233:233,235:235,236:236,237:237,238:238,46:46,47:47,50:50,99:99}],143:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){var e=void 0;return{initialize:function(t){if(e=new i.default,!t)return null;var n=t.indexOf("#");if(-1!==n)for(var r=t.substr(n+1).split("&"),o=0,a=r.length;o<a;++o){var s=r[o],l=s.indexOf("=");if(-1!==l){var u=s.substring(0,l);e.hasOwnProperty(u)&&(e[u]=s.substr(l+1))}}},getURIFragmentData:function(){return e}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(227)),o=d(t(47));e.__dashjs_factory_name="URIFragmentModel",r.default=o.default.getSingletonFactory(e),n.exports=r.default},{227:227,47:47}],144:[function(t,n,i){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function c(){e&&(e.playbackRate=i||1,e.removeEventListener("canplay",c))}function d(t){e&&(e.readyState<=2&&t>0?e.addEventListener("canplay",c):e.playbackRate=t)}function r(){return p.length>0}function v(){if(e&&r()&&0===e.playbackRate){var t=document.createEvent("Event");t.initEvent("waiting",!0,!1),e.dispatchEvent(t)}}var e=void 0,t=void 0,n=void 0,i=void 0,o="element is not video or audio DOM type!",u=this.context,f=(0,l.default)(u).getInstance().log,h=(0,a.default)(u).getInstance(),p=[];return{initialize:function(){h.on(s.default.PLAYBACK_PLAYING,v,this)},setCurrentTime:function(t){if(e){if(e.currentTime==t)return;try{e.currentTime=t}catch(n){0===e.readyState&&n.code===n.INVALID_STATE_ERR&&setTimeout(function(){e.currentTime=t},400)}}},play:function(){if(e){e.autoplay=!0;var t=e.play();t&&"undefined"!=typeof Promise&&t instanceof Promise&&t.catch(function(e){"NotAllowedError"===e.name&&h.trigger(s.default.PLAYBACK_NOT_ALLOWED),f("Caught pending play exception - continuing ("+e+")")})}},isPaused:function(){return e?e.paused:null},pause:function(){e&&(e.pause(),e.autoplay=!1)},isSeeking:function(){return e?e.seeking:null},getTime:function(){return e?e.currentTime:null},getPlaybackRate:function(){return e?e.playbackRate:null},getPlayedRanges:function(){return e?e.played:null},getEnded:function(){return e?e.ended:null},setStallState:function(t,n){!function(t,n){n?function(t){var n=void 0;null===t||e.seeking||-1!==p.indexOf(t)||(p.push(t),e&&1===p.length&&((n=document.createEvent("Event")).initEvent("waiting",!0,!1),i=e.playbackRate,d(0),e.dispatchEvent(n)))}(t):function(t){var n=p.indexOf(t),o=void 0;null!==t&&(-1!==n&&p.splice(n,1),e&&!1===r()&&0===e.playbackRate&&(d(i||1),e.paused||((o=document.createEvent("Event")).initEvent("playing",!0,!1),e.dispatchEvent(o))))}(t)}(t,n)},getElement:function(){return e},setElement:function(t){if(null!==t&&void 0!==t&&(!t||!t.nodeName||"VIDEO"!==t.nodeName&&"AUDIO"!==t.nodeName))throw o;(e=t)&&(e.preload="auto")},setSource:function(t){e&&(t?e.src=t:(e.removeAttribute("src"),e.load()))},getSource:function(){return e?e.src:null},getVideoContainer:function(){return n},setVideoContainer:function(e){n=e},getTTMLRenderingDiv:function(){return t},setTTMLRenderingDiv:function(e){(t=e).style.position="absolute",t.style.display="flex",t.style.overflow="hidden",t.style.pointerEvents="none",t.style.top=0,t.style.left=0},getPlaybackQuality:function(){if(!e)return null;var t="webkitDroppedFrameCount"in e&&"webkitDecodedFrameCount"in e,n=null;return"getVideoPlaybackQuality"in e?n=e.getVideoPlaybackQuality():t&&(n={droppedVideoFrames:e.webkitDroppedFrameCount,totalVideoFrames:e.webkitDroppedFrameCount+e.webkitDecodedFrameCount,creationTime:new Date}),n},addEventListener:function(t,n){e&&e.addEventListener(t,n)},removeEventListener:function(t,n){e&&e.removeEventListener(t,n)},getReadyState:function(){return e?e.readyState:NaN},getBufferRange:function(){return e?e.buffered:null},getClientWidth:function(){return e?e.clientWidth:NaN},getClientHeight:function(){return e?e.clientHeight:NaN},getTextTracks:function(){return e?e.textTracks:[]},getTextTrack:function(t,n,r,i,o){if(e)for(var a=0;a<e.textTracks.length;a++)if(e.textTracks[a].kind===t&&(!n||e.textTracks[a].label==n)&&e.textTracks[a].language===r&&e.textTracks[a].isTTML===i&&e.textTracks[a].isEmbedded===o)return e.textTracks[a];return null},addTextTrack:function(t,n,r){return e?e.addTextTrack(t,n,r):null},appendChild:function(t){e&&(e.appendChild(t),void 0!==t.isTTML&&(e.textTracks[e.textTracks.length-1].isTTML=t.isTTML,e.textTracks[e.textTracks.length-1].isEmbedded=t.isEmbedded))},removeChild:function(t){e&&e.removeChild(t)},getVideoWidth:function(){return e?e.videoWidth:NaN},getVideoHeight:function(){return e?e.videoHeight:NaN},getVideoRelativeOffsetTop:function(){return e&&e.parentNode?e.getBoundingClientRect().top-e.parentNode.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function(){return e&&e.parentNode?e.getBoundingClientRect().left-e.parentNode.getBoundingClientRect().left:NaN},reset:function(){h.off(s.default.PLAYBACK_PLAYING,v,this)}}}Object.defineProperty(i,"__esModule",{value:!0});var o=d(t(47)),a=d(t(46)),s=d(t(50)),l=d(t(45));e.__dashjs_factory_name="VideoModel",i.default=o.default.getSingletonFactory(e),n.exports=i.default},{45:45,46:46,47:47,50:50}],145:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function c(e,t){e.reader.read().then(t).catch(function(){})}var t=(e=e||{}).requestModifier;return{load:function(e){var n=new Date,r=e.request,i=new Headers;r.range&&i.append("Range","bytes="+r.range),r.requestStartDate||(r.requestStartDate=n),t&&t.modifyRequestHeader({setRequestHeader:function(e,t){i.append(e,t)}});var a=void 0;"function"==typeof window.AbortController&&(a=new AbortController,e.abortController=a);var s={method:e.method,headers:i,credentials:e.withCredentials?"include":void 0,signal:a?a.signal:void 0};fetch(e.url,s).then(function(t){e.response||(e.response={}),e.response.status=t.status,e.response.statusText=t.statusText,e.response.responseURL=t.url,t.ok||e.onerror();var n="",r=!0,i=!1,a=void 0;try{for(var s,l=t.headers.keys()[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;n+=u+": "+t.headers.get(u)+"\n"}}catch(e){i=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}if(e.response.responseHeaders=n,!t.body)return t.arrayBuffer().then(function(t){e.response.response=t;var n={loaded:t.byteLength,total:t.byteLength};e.progress(n),e.onload(),e.onend()});var d=parseInt(t.headers.get("Content-Length"),10),f=0,h=!1,p=new Uint8Array,g=0;e.reader=t.body.getReader(),c(e,function b(t){var n=t.value;if(t.done)return p&&(e.progress({loaded:f,total:isNaN(d)?f:d,lengthComputable:!0}),e.response.response=p.buffer),e.onload(),void e.onend();if(n&&n.length>0){p=function(e,t){if(0===e.length)return t;var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(p,n),f+=n.length;var r=(0,o.default)().getInstance().findLastTopIsoBoxCompleted(["moov","mdat"],p,g);if(r.found){var i=r.lastCompletedOffset+r.size,a=void 0;i===p.length?(a=p,p=new Uint8Array):(a=new Uint8Array(p.subarray(0,i)),p=p.subarray(i)),e.progress({data:a.buffer,lengthComputable:!1,noTrace:!0}),g=0}else g=r.lastCompletedOffset,h||(e.progress({lengthComputable:!1,noTrace:!0}),h=!0)}c(e,b)})}).catch(function(t){e.onerror&&e.onerror(t)})},abort:function(e){if(e.abortController)e.abortController.abort();else if(e.reader)try{e.reader.cancel()}catch(e){}}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(47)),o=d(t(195));e.__dashjs_factory_name="FetchLoader";var a=i.default.getClassFactory(e);r.default=a,n.exports=r.default},{195:195,47:47}],146:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(t){t=t||{};var n,r=this.context,s=t.errHandler,u=t.metricsModel,d=t.mediaPlayerModel,f=t.requestModifier,h=t.useFetch||!1,p=void 0,g=void 0,y=void 0,v=void 0;return n={load:function(e){e.request&&function c(e,t){var n=e.request,l=[],m=!0,_=!0,T=new Date,E=T,b=0,A=void 0;if(!f||!u||!s)throw new Error("config object is not correct or missing");var S=function(e){_=!1,n.requestStartDate=T,n.requestEndDate=new Date,n.firstByteDate=n.firstByteDate||T,n.checkExistenceOnly||u.addHttpRequest(n.mediaType,null,n.type,n.url,A.response?A.response.responseURL:null,n.serviceLocation||null,n.range||null,n.requestStartDate,n.firstByteDate,n.requestEndDate,A.response?A.response.status:null,n.duration,A.response&&A.response.getAllResponseHeaders?A.response.getAllResponseHeaders():A.response.responseHeaders,e?l:null)},w=function(){-1!==p.indexOf(A)&&(p.splice(p.indexOf(A),1),_&&(S(!1),t>0?(t--,y.push(setTimeout(function(){c(e,t)},d.getRetryIntervalForType(n.type)))):(s.downloadError(v[n.type],n.url,n),e.error&&e.error(n,"error",A.response.statusText),e.complete&&e.complete(n,A.response.statusText))))},C=void 0;C=h&&window.fetch&&"arraybuffer"===n.responseType?(0,o.default)(r).create({requestModifier:f}):(0,i.default)(r).create({requestModifier:f});var I=f.modifyRequestURL(n.url),M=n.checkExistenceOnly?a.HTTPRequest.HEAD:a.HTTPRequest.GET,O=d.getXHRWithCredentialsForType(n.type);A={url:I,method:M,withCredentials:O,request:n,onload:function(){A.response.status>=200&&A.response.status<=299&&(S(!0),e.success&&e.success(A.response.response,A.response.statusText,A.response.responseURL),e.complete&&e.complete(n,A.response.statusText))},onend:w,onerror:w,progress:function(t){var r=new Date;m&&(m=!1,(!t.lengthComputable||t.lengthComputable&&t.total!==t.loaded)&&(n.firstByteDate=r)),t.lengthComputable&&(n.bytesLoaded=t.loaded,n.bytesTotal=t.total),t.noTrace||(l.push({s:E,d:r.getTime()-E.getTime(),b:[t.loaded?t.loaded-b:0]}),E=r,b=t.loaded),e.progress&&t.data&&e.progress(t.data)},onabort:function(){e.abort&&e.abort(n)},loader:C};var R=(new Date).getTime();isNaN(n.delayLoadingTime)||R>=n.delayLoadingTime?(p.push(A),C.load(A)):function(){var e={httpRequest:A};g.push(e),e.delayTimeout=setTimeout(function(){if(-1!==g.indexOf(e)){g.splice(g.indexOf(e),1);try{T=new Date,E=T,p.push(e.httpRequest),C.load(e.httpRequest)}catch(t){e.httpRequest.onerror()}}},n.delayLoadingTime-R)}()}(e,d.getRetryAttemptsForType(e.request.type))},abort:function(){y.forEach(function(e){return clearTimeout(e)}),y=[],g.forEach(function(e){return clearTimeout(e.delayTimeout)}),g=[],p.forEach(function(e){e.onloadend=e.onerror=e.onprogress=void 0,e.loader.abort(e),e.onabort()}),p=[]}},function(){var t;p=[],g=[],y=[],e(t={},a.HTTPRequest.MPD_TYPE,l.default.DOWNLOAD_ERROR_ID_MANIFEST),e(t,a.HTTPRequest.XLINK_EXPANSION_TYPE,l.default.DOWNLOAD_ERROR_ID_XLINK),e(t,a.HTTPRequest.INIT_SEGMENT_TYPE,l.default.DOWNLOAD_ERROR_ID_INITIALIZATION),e(t,a.HTTPRequest.MEDIA_SEGMENT_TYPE,l.default.DOWNLOAD_ERROR_ID_CONTENT),e(t,a.HTTPRequest.INDEX_SEGMENT_TYPE,l.default.DOWNLOAD_ERROR_ID_CONTENT),e(t,a.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,l.default.DOWNLOAD_ERROR_ID_CONTENT),e(t,a.HTTPRequest.OTHER_TYPE,l.default.DOWNLOAD_ERROR_ID_CONTENT),v=t}(),n}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(147)),o=d(t(145)),a=t(232),s=d(t(47)),l=d(t(200));f.__dashjs_factory_name="HTTPLoader";var u=s.default.getClassFactory(f);r.default=u,n.exports=r.default},{145:145,147:147,200:200,232:232,47:47}],147:[function(t,n,r){"use strict";function e(e){var t=(e=e||{}).requestModifier;return{load:function(e){var n=new Date,r=e.request,i=new XMLHttpRequest;i.open(e.method,e.url,!0),r.responseType&&(i.responseType=r.responseType),r.range&&i.setRequestHeader("Range","bytes="+r.range),r.requestStartDate||(r.requestStartDate=n),t&&(i=t.modifyRequestHeader(i)),i.withCredentials=e.withCredentials,i.onload=e.onload,i.onloadend=e.onend,i.onerror=e.onerror,i.onprogress=e.progress,i.onabort=e.onabort,i.send(),e.response=i},abort:function(e){e.response.abort()}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47));e.__dashjs_factory_name="XHRLoader";var o=i.default.getClassFactory(e);r.default=o,n.exports=r.default},{47:47}],148:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=function(){function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a)}return r(a,null,[{key:"findCencContentProtection",value:function(e){for(var t=null,n=0;n<e.length;++n){var r=e[n];"urn:mpeg:dash:mp4protection:2011"===r.schemeIdUri.toLowerCase()&&"cenc"===r.value.toLowerCase()&&(t=r)}return t}},{key:"getPSSHData",value:function(e){var t=8,n=new DataView(e),r=n.getUint8(t);return t+=20,r>0&&(t+=4+16*n.getUint32(t)),t+=4,e.slice(t)}},{key:"getPSSHForKeySystem",value:function(e,t){var n=a.parsePSSHList(t);return n.hasOwnProperty(e.uuid.toLowerCase())?n[e.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(e,t){return"pssh"in e?t.decodeArray(e.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function(e){if(null===e)return[];for(var t=new DataView(e.buffer||e),n={},r=0;;){var i,o=void 0,a=void 0,s=r;if(r>=t.buffer.byteLength)break;if(i=r+t.getUint32(r),r+=4,1886614376===t.getUint32(r))if(r+=4,0===(o=t.getUint8(r))||1===o){r++,r+=3,a="";var l=void 0,u=void 0;for(l=0;l<4;l++)a+=1===(u=t.getUint8(r+l).toString(16)).length?"0"+u:u;for(r+=4,a+="-",l=0;l<2;l++)a+=1===(u=t.getUint8(r+l).toString(16)).length?"0"+u:u;for(r+=2,a+="-",l=0;l<2;l++)a+=1===(u=t.getUint8(r+l).toString(16)).length?"0"+u:u;for(r+=2,a+="-",l=0;l<2;l++)a+=1===(u=t.getUint8(r+l).toString(16)).length?"0"+u:u;for(r+=2,a+="-",l=0;l<6;l++)a+=1===(u=t.getUint8(r+l).toString(16)).length?"0"+u:u;r+=6,a=a.toLowerCase(),t.getUint32(r),r+=4,n[a]=t.buffer.slice(s,i),r=i}else r=i;else r=i}return n}}]),a}();n.default=i,t.exports=n.default},{}],149:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function b(t){var n=t.log,r=t.eventBus,i=t.errHandler,o=t.videoModel?t.videoModel.getElement():null;return o&&void 0===o.onencrypted||o&&void 0===o.mediaKeys?c(o,h)?(n("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,l.default)(e).create({log:n,eventBus:r,events:t.events,api:c(o,h)})):c(o,f)?(n("EME detected on this user agent! (ProtectionModel_01b)"),(0,u.default)(e).create({log:n,eventBus:r,errHandler:i,events:t.events,api:c(o,f)})):(n("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(n("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,s.default)(e).create({log:n,eventBus:r,events:t.events}))}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("function"==typeof e[r[Object.keys(r)[0]]])return r}return null}var e=this.context;return{createProtectionSystem:function(t){var n=null,r=(0,o.default)(e).getInstance();r.setConfig({log:t.log,BASE64:t.BASE64}),r.initialize();var a=b(t);return!n&&a&&(n=(0,i.default)(e).create({protectionModel:a,protectionKeyController:r,eventBus:t.eventBus,log:t.log,events:t.events,BASE64:t.BASE64,constants:t.constants}),t.capabilities.setEncryptedMediaSupported(!0)),n}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(151)),o=d(t(152)),a=d(t(150)),s=d(t(158)),l=d(t(159)),u=d(t(157)),f=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],h=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];e.__dashjs_factory_name="Protection";var p=dashjs.FactoryMaker.getClassFactory(e);p.events=a.default,dashjs.FactoryMaker.updateClassFactory(e.__dashjs_factory_name,p),r.default=p,n.exports=r.default},{150:150,151:151,152:152,157:157,158:158,159:159}],150:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},i=function(e){return e&&e.__esModule?e:{default:e}}(e(51)),o=new(function(e){function b(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,b),r(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,i.default),b}());n.default=o,t.exports=n.default},{51:51}],151:[function(r,i,o){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function f(e,t){var n=a.default.getPSSHForKeySystem(I,e),r=s(I);if(n){for(var l=o.getAllInitData(),d=0;d<l.length;d++)if(i.initDataEquals(n,l[d]))return void m("DRM: Ignoring initData because we have already seen it!");try{o.createKeySession(n,r,u(I),t)}catch(e){p.trigger(g.KEY_SESSION_CREATED,{data:null,error:"Error creating key session! "+e.message})}}else e?o.createKeySession(e,r,u(I),t):p.trigger(g.KEY_SESSION_CREATED,{data:null,error:"Selected key system is "+I.systemString+".  needkey/encrypted event contains no initData corresponding to that key system!"})}function h(e,t){o.loadKeySession(e,t,u(I))}function n(e){e?(o.setMediaElement(e),p.on(g.NEED_KEY,z,this)):null===e&&(o.setMediaElement(e),p.off(g.NEED_KEY,z,this))}function s(e){var t=null;if(e){var n=e.systemString;A&&(t=n in A?A[n]:null)}return t}function t(e){var t=s(e),n=[],r=[],i=t&&t.audioRobustness&&t.audioRobustness.length>0?t.audioRobustness:C,o=t&&t.videoRobustness&&t.videoRobustness.length>0?t.videoRobustness:C,a=u(e);return b.forEach(function(e){e.type===T.AUDIO?n.push(new l.default(e.codec,i)):e.type===T.VIDEO&&r.push(new l.default(e.codec,o))}),new c.default(n,r,"optional","temporary"===a?"optional":"required",[a])}function u(e){var t=s(e);return t&&t.sessionType?t.sessionType:S}function v(e,n){var r=this,l=[],u=void 0;if(I){for(u=0;u<e.length;u++)if(I===e[u].ks){if("break"===function(){l.push({ks:e[u].ks,configs:[t(I)]});return p.on(g.KEY_SYSTEM_ACCESS_COMPLETE,function d(t){p.off(g.KEY_SYSTEM_ACCESS_COMPLETE,d,r),t.error?n||p.trigger(g.KEY_SYSTEM_SELECTED,{error:"DRM: KeySystem Access Denied! -- "+t.error}):(m("DRM: KeySystem Access Granted"),p.trigger(g.KEY_SYSTEM_SELECTED,{data:t.data}),e[u].sessionId?h(e[u].sessionId,e[u].initData):e[u].initData&&f(e[u].initData,e[u].cdmData))},r),o.requestKeySystemAccess(l),"break"}())break}}else if(void 0===I){var c;!function(){I=null,E.push(e);for(var d=0;d<e.length;d++)l.push({ks:e[d].ks,configs:[t(e[d].ks)]});var y=void 0,v=function a(e){p.off(g.KEY_SYSTEM_ACCESS_COMPLETE,a,r),e.error?(I=void 0,p.off(g.INTERNAL_KEY_SYSTEM_SELECTED,c,r),n||p.trigger(g.KEY_SYSTEM_SELECTED,{data:null,error:"DRM: KeySystem Access Denied! -- "+e.error})):(y=e.data,m("DRM: KeySystem Access Granted ("+y.keySystem.systemString+")!  Selecting key system..."),o.selectKeySystem(y))};c=function a(e){if(p.off(g.INTERNAL_KEY_SYSTEM_SELECTED,a,r),p.off(g.KEY_SYSTEM_ACCESS_COMPLETE,v,r),e.error)I=void 0,n||p.trigger(g.KEY_SYSTEM_SELECTED,{data:null,error:"DRM: Error selecting key system! -- "+e.error});else{I=o.getKeySystem(),p.trigger(g.KEY_SYSTEM_SELECTED,{data:y});var t=s(I);t&&t.serverCertificate&&t.serverCertificate.length>0&&o.setServerCertificate(_.decodeArray(t.serverCertificate).buffer);for(var l=0;l<E.length;l++)for(u=0;u<E[l].length;u++)if(I===E[l][u].ks){if(i.isClearKey(I)&&t&&t.hasOwnProperty("clearkeys")){var d={kids:Object.keys(t.clearkeys)};E[l][u].initData=(new TextEncoder).encode(JSON.stringify(d))}E[l][u].sessionId?h(E[l][u].sessionId,E[l][u].initData):null!==E[l][u].initData&&f(E[l][u].initData,E[l][u].cdmData);break}}},p.on(g.INTERNAL_KEY_SYSTEM_SELECTED,c,r),p.on(g.KEY_SYSTEM_ACCESS_COMPLETE,v,r),o.requestKeySystemAccess(l)}()}else E.push(e)}function w(e,t){p.trigger(g.LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function x(e){e.error?p.trigger(g.KEY_STATUSES_CHANGED,{data:null,error:"DRM: KeyStatusChange error! -- "+e.error}):m("DRM: key status = "+e.status)}function y(e){if(m("DRM: onKeyMessage"),e.error)m(e.error);else{var t=e.data;p.trigger(g.KEY_MESSAGE,{data:t});var n=t.messageType?t.messageType:"license-request",r=t.message,l=t.sessionToken,u=s(I),d=I?I.systemString:null,c=i.getLicenseServer(I,u,n),f={sessionToken:l,messageType:n};if(r&&0!==r.byteLength){if(!c)return m("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+l.getSessionID()),void w(f);if(i.isClearKey(I)){var h=i.processClearKeyLicenseRequest(I,u,r);if(h)return m("DRM: ClearKey license request handled by application!"),w(f),void o.updateKeySession(l,h)}var y=new XMLHttpRequest,v=null;if(u&&u.serverURL){var _=u.serverURL;"string"==typeof _&&""!==_?v=_:"object"==typeof _&&_.hasOwnProperty(n)&&(v=_[n])}else u&&u.laURL&&""!==u.laURL?v=u.laURL:(v=I.getLicenseServerURLFromInitData(a.default.getPSSHData(l.initData)))||(v=e.data.laURL);if(v=c.getServerURLFromMessage(v,r,n)){var T=function(e,t,n,r){var i=e.response?c.getErrorResponse(e.response,n,r):"NONE";w(t,"DRM: "+n+' update, XHR complete. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState+".  Response is "+i)};y.open(c.getHTTPMethod(n),v,!0),y.responseType=c.getResponseType(d,n),y.onload=function(){if(200==this.status){var e=c.getLicenseMessage(this.response,d,n);null!==e?(w(f),o.updateKeySession(l,e)):T(this,f,d,n)}else T(this,f,d,n)},y.onabort=function(){w(f,"DRM: "+d+' update, XHR aborted. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)},y.onerror=function(){w(f,"DRM: "+d+' update, XHR error. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)};var E=function(e){if(e)for(var t in e)"authorization"===t.toLowerCase()&&(y.withCredentials=!0),y.setRequestHeader(t,e[t])};u&&E(u.httpRequestHeaders),E(I.getRequestHeadersFromMessage(r)),u&&"boolean"==typeof u.withCredentials&&(y.withCredentials=u.withCredentials),y.send(I.getLicenseRequestFromMessage(r))}else w(f,"DRM: No license server URL specified!")}else w(f,"DRM: Empty key message from CDM")}}function z(e){if(m("DRM: onNeedKey"),"cenc"===e.key.initDataType){var t=e.key.initData;if(ArrayBuffer.isView(t)&&(t=t.buffer),I){var n=a.default.getPSSHForKeySystem(I,t);if(n)for(var r=o.getAllInitData(),s=0;s<r.length;s++)if(i.initDataEquals(n,r[s]))return void m("DRM: Ignoring initData because we have already seen it!")}m("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(t)));var l=i.getSupportedKeySystems(t,A);0!==l.length?v(l,!1):m("DRM: Received needkey event with initData, but we don't support any of the key systems!")}else m("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType)}var r,i=(e=e||{}).protectionKeyController,o=e.protectionModel,p=e.eventBus,g=e.events,m=e.log,_=e.BASE64,T=e.constants,E=void 0,b=void 0,A=void 0,S=void 0,C=void 0,I=void 0;return r={initializeForMedia:function(e){if(!e)throw new Error("mediaInfo can not be null or undefined");(function(){if(!(p&&p.hasOwnProperty("on")&&i&&i.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")})(),p.on(g.INTERNAL_KEY_MESSAGE,y,this),p.on(g.INTERNAL_KEY_STATUS_CHANGED,x,this),b.push(e);var t=i.getSupportedKeySystemsFromContentProtection(e.contentProtection);t&&t.length>0&&v(t,!0)},createKeySession:f,loadKeySession:h,removeKeySession:function(e){o.removeKeySession(e)},closeKeySession:function(e){o.closeKeySession(e)},setServerCertificate:function(e){o.setServerCertificate(e)},setMediaElement:n,setSessionType:function(e){S=e},setRobustnessLevel:function(e){C=e},setProtectionData:function(e){A=e,i.setProtectionData(e)},getSupportedKeySystemsFromContentProtection:function(e){return i.getSupportedKeySystemsFromContentProtection(e)},getKeySystems:function(){return i?i.getKeySystems():[]},reset:function(){p.off(g.INTERNAL_KEY_MESSAGE,y,this),p.off(g.INTERNAL_KEY_STATUS_CHANGED,x,this),n(null),I=void 0,o&&(o.reset(),o=null),b=[]}},E=[],b=[],S="temporary",C="",r}Object.defineProperty(o,"__esModule",{value:!0});var a=d(r(148)),l=d(r(170)),c=d(r(169));e.__dashjs_factory_name="ProtectionController",o.default=dashjs.FactoryMaker.getClassFactory(e),i.exports=o.default},{148:148,169:169,170:170}],152:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){var e=this.context,t=void 0,n=void 0,r=void 0,d=void 0,g=void 0;return{initialize:function(){n=[];var i=void 0;i=(0,l.default)(e).getInstance({BASE64:r}),n.push(i),i=(0,s.default)(e).getInstance({BASE64:r}),n.push(i),i=(0,o.default)(e).getInstance({BASE64:r}),n.push(i),d=i,i=(0,a.default)(e).getInstance({BASE64:r,log:t}),n.push(i),g=i},setProtectionData:function(e){for(var t=function(t){var n=null;return e&&(n=t in e?e[t]:null),n},r=0;r<n.length;r++){var i=n[r];i.hasOwnProperty("init")&&i.init(t(i.systemString))}},isClearKey:function(e){return e===d||e===g},initDataEquals:function(e,t){if(e.byteLength===t.byteLength){for(var n=new Uint8Array(e),r=new Uint8Array(t),i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}return!1},getKeySystems:function(){return n},getKeySystemBySystemString:function(e){for(var t=0;t<n.length;t++)if(n[t].systemString===e)return n[t];return null},getSupportedKeySystemsFromContentProtection:function(e){var t=void 0,r=void 0,i=void 0,o=void 0,a=[];if(e)for(i=0;i<n.length;++i)for(r=n[i],o=0;o<e.length;++o)(t=e[o]).schemeIdUri.toLowerCase()===r.schemeIdURI&&a.push({ks:r,initData:r.getInitData(t),cdmData:r.getCDMData(),sessionId:r.getSessionId(t)});return a},getSupportedKeySystems:function(e,t){for(var r=[],o=i.default.parsePSSHList(e),a=void 0,s=void 0,l=void 0,u=0;u<n.length;++u)s=(a=n[u]).systemString,l=!t||s in t,a.uuid in o&&l&&r.push({ks:a,initData:o[a.uuid],cdmData:a.getCDMData(),sessionId:a.getSessionId()});return r},getLicenseServer:function(t,n,i){if("license-release"===i||"individualization-request"===i)return null;var o=null;return n&&n.hasOwnProperty("drmtoday")?o=(0,u.default)(e).getInstance({BASE64:r}):t.systemString===p.default.WIDEVINE_KEYSTEM_STRING?o=(0,f.default)(e).getInstance():t.systemString===p.default.PLAYREADY_KEYSTEM_STRING?o=(0,c.default)(e).getInstance():t.systemString===p.default.CLEARKEY_KEYSTEM_STRING&&(o=(0,h.default)(e).getInstance()),o},processClearKeyLicenseRequest:function(e,n,r){try{return e.getClearKeysFromProtectionData(n,r)}catch(e){return t("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(e){e&&(e.log&&(t=e.log),e.BASE64&&(r=e.BASE64))}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(148)),o=d(t(153)),a=d(t(155)),s=d(t(156)),l=d(t(154)),u=d(t(161)),c=d(t(162)),f=d(t(163)),h=d(t(160)),p=d(t(101));e.__dashjs_factory_name="ProtectionKeyController",r.default=dashjs.FactoryMaker.getSingletonFactory(e),n.exports=r.default},{101:101,148:148,153:153,154:154,155:155,156:156,160:160,161:161,162:162,163:163}],153:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){var t=(e=e||{}).BASE64;return{uuid:s,schemeIdURI:u,systemString:l,getInitData:function(e){return a.default.parseInitDataFromContentProtection(e,t)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(){return null},getClearKeysFromProtectionData:function(e,t){var n=null;if(e){for(var r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),a=[],s=0;s<r.kids.length;s++){var l=r.kids[s],u=e.clearkeys&&e.clearkeys.hasOwnProperty(l)?e.clearkeys[l]:null;if(!u)throw new Error("DRM: ClearKey keyID ("+l+") is not known!");a.push(new i.default(l,u))}n=new o.default(a)}return n}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(167)),o=d(t(164)),a=d(t(148)),s="e2719d58-a985-b3c9-781a-b030af78d30e",l=d(t(101)).default.CLEARKEY_KEYSTEM_STRING,u="urn:uuid:"+s;e.__dashjs_factory_name="KeySystemClearKey",r.default=dashjs.FactoryMaker.getSingletonFactory(e),n.exports=r.default},{101:101,148:148,164:164,167:167}],154:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function b(){if(!n||!n.hasOwnProperty("decodeArray")||!n.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}var t="utf16",n=(e=e||{}).BASE64;return{uuid:o,schemeIdURI:s,systemString:a,getInitData:function(e){var t,r,o,a=new Uint8Array([112,115,115,104,0,0,0,0]),s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),l=0,u=null,d=void 0,c=void 0;if(b(),"pssh"in e)return i.default.parseInitDataFromContentProtection(e,n);if("pro"in e)u=n.decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;u=n.decodeArray(e.prheader.__text)}return t=u.length,r=4+a.length+s.length+4+t,o=new ArrayBuffer(r),d=new Uint8Array(o),(c=new DataView(o)).setUint32(l,r),l+=4,d.set(a,l),l+=a.length,d.set(s,l),l+=s.length,c.setUint32(l,t),l+=4,d.set(u,l),l+=t,d.buffer},getRequestHeadersFromMessage:function(e){var n,r=void 0,i={},o=new DOMParser,a="utf16"===t?new Uint16Array(e):new Uint8Array(e);n=String.fromCharCode.apply(null,a);for(var s=(r=o.parseFromString(n,"application/xml")).getElementsByTagName("name"),l=r.getElementsByTagName("value"),u=0;u<s.length;u++)i[s[u].childNodes[0].nodeValue]=l[u].childNodes[0].nodeValue;return i.hasOwnProperty("Content")&&(i["Content-Type"]=i.Content,delete i.Content),i.hasOwnProperty("Content-Type")||(i["Content-Type"]="text/xml; charset="+t),i},getLicenseRequestFromMessage:function(e){var r=null,i=new DOMParser,o="utf16"===t?new Uint16Array(e):new Uint8Array(e);b();var a=String.fromCharCode.apply(null,o),s=i.parseFromString(a,"application/xml");if(s.getElementsByTagName("Challenge")[0]){var l=s.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;l&&(r=n.decode(l))}else if(s.getElementsByTagName("parsererror").length)return e;return r},getLicenseServerURLFromInitData:function(e){if(e)for(var t=new DataView(e),n=t.getUint16(4,!0),r=6,i=new DOMParser,o=0;o<n;o++){var a=t.getUint16(r,!0);r+=2;var s=t.getUint16(r,!0);if(r+=2,1===a){var l=e.slice(r,r+s),u=String.fromCharCode.apply(null,new Uint16Array(l)),d=i.parseFromString(u,"application/xml");if(d.getElementsByTagName("LA_URL")[0]){var c=d.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(c)return c}if(d.getElementsByTagName("LUI_URL")[0]){var f=d.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(f)return f}}else r+=s}return null},getCDMData:function(){var e=void 0,t=void 0,r=void 0,i=void 0;if(b(),u&&u.cdmData){for(e=[],i=0;i<u.cdmData.length;++i)e.push(u.cdmData.charCodeAt(i)),e.push(0);for(e=String.fromCharCode.apply(null,e),e=n.encode(e),t=l.replace("%CUSTOMDATA%",e),r=[],i=0;i<t.length;++i)r.push(t.charCodeAt(i)),r.push(0);return new Uint8Array(r).buffer}return null},getSessionId:function(){return null},setPlayReadyMessageFormat:function(e){if("utf8"!==e&&"utf16"!==e)throw new Error("Illegal PlayReady message format! -- "+e);t=e},init:function(e){e&&(u=e)}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(148)),o="9a04f079-9840-4286-ab92-e65be0885f95",a=d(t(101)).default.PLAYREADY_KEYSTEM_STRING,s="urn:uuid:"+o,l='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>',u=void 0;e.__dashjs_factory_name="KeySystemPlayReady",r.default=dashjs.FactoryMaker.getSingletonFactory(e),n.exports=r.default},{101:101,148:148}],155:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){var t=e.BASE64,n=e.log;return{uuid:s,schemeIdURI:u,systemString:l,getInitData:function(e){return a.default.parseInitDataFromContentProtection(e,t)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(){return null},getClearKeysFromProtectionData:function(e,t){var r=null;if(e){for(var a=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),s=[],l=0;l<a.kids.length;l++){var u=a.kids[l],d=e.clearkeys&&e.clearkeys.hasOwnProperty(u)?e.clearkeys[u]:null;if(!d)throw new Error("DRM: ClearKey keyID ("+u+") is not known!");s.push(new i.default(u,d))}r=new o.default(s),n("Warning: ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return r}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(167)),o=d(t(164)),a=d(t(148)),s="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",l=d(t(101)).default.CLEARKEY_KEYSTEM_STRING,u="urn:uuid:"+s;e.__dashjs_factory_name="KeySystemW3CClearKey",r.default=dashjs.FactoryMaker.getSingletonFactory(e),n.exports=r.default},{101:101,148:148,164:164,167:167}],156:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){var t=null,n=(e=e||{}).BASE64;return{uuid:o,schemeIdURI:s,systemString:a,init:function(e){e&&(t=e)},getInitData:function(e){return i.default.parseInitDataFromContentProtection(e,n)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(e){return t&&t.sessionId?t.sessionId:e&&e.sessionId?e.sessionId:null}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(148)),o="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",a=d(t(101)).default.WIDEVINE_KEYSTEM_STRING,s="urn:uuid:"+o;e.__dashjs_factory_name="KeySystemWidevine",r.default=dashjs.FactoryMaker.getSingletonFactory(e),n.exports=r.default},{101:101,148:148}],157:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function p(e){try{g[f.cancelKeyRequest](y.systemString,e.sessionID)}catch(t){r.trigger(d.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.sessionID+") "+t.message})}}function v(e,t){if(t&&e){for(var n=e.length,r=0;r<n;r++)if(e[r].sessionID==t)return e[r];return null}return null}function w(){g.removeEventListener(f.keyerror,b),g.removeEventListener(f.needkey,b),g.removeEventListener(f.keymessage,b),g.removeEventListener(f.keyadded,b)}e=e||{};var t,n=this.context,r=e.eventBus,d=e.events,c=e.log,f=e.api,h=e.errHandler,g=void 0,y=void 0,m=void 0,_=void 0,T=void 0,E=void 0,b=void 0;return t={getAllInitData:function(){for(var e=[],t=0;t<_.length;t++)e.push(_[t].initData);for(t=0;t<T.length;t++)e.push(T[t].initData);return e},requestKeySystemAccess:function(e){var t=g;t||(t=document.createElement("video"));for(var n=!1,i=0;i<e.length;i++)for(var o=e[i].ks.systemString,a=e[i].configs,s=null,c=null,f=0;f<a.length;f++){var h=a[f].videoCapabilities;if(h&&0!==h.length){c=[];for(var p=0;p<h.length;p++)""!==t.canPlayType(h[p].contentType,o)&&c.push(h[p])}if(c&&(!c||0!==c.length)){n=!0;var y=new l.default(s,c),v=m.getKeySystemBySystemString(o);r.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{data:new u.default(v,y)});break}}n||r.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return y},selectKeySystem:function(e){y=e.keySystem,r.trigger(d.INTERNAL_KEY_SYSTEM_SELECTED)},setMediaElement:function(e){g!==e&&(g&&w(),(g=e)&&(g.addEventListener(f.keyerror,b),g.addEventListener(f.needkey,b),g.addEventListener(f.keymessage,b),g.addEventListener(f.keyadded,b),r.trigger(d.VIDEO_ELEMENT_SELECTED)))},createKeySession:function(e){if(!y)throw new Error("Can not create sessions until you have selected a key system");if(E||0===T.length){var t={sessionID:null,initData:e,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return _.push(t),g[f.generateKeyRequest](y.systemString,new Uint8Array(e)),t}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(e,t){var n=e.sessionID;if(m.isClearKey(y))for(var r=0;r<t.keyPairs.length;r++)g[f.addKey](y.systemString,t.keyPairs[r].key,t.keyPairs[r].keyID,n);else g[f.addKey](y.systemString,new Uint8Array(t),new Uint8Array(e.initData),n)},closeKeySession:p,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},reset:function(){g&&w();for(var e=0;e<T.length;e++)p(T[e]);r.trigger(d.TEARDOWN_COMPLETE)}},g=null,y=null,_=[],T=[],m=(0,i.default)(n).getInstance(),b={handleEvent:function(e){var t=null;switch(e.type){case f.needkey:var n=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;r.trigger(d.NEED_KEY,{key:new o.default(n,"cenc")});break;case f.keyerror:if((t=v(T,e.sessionId))||(t=v(_,e.sessionId)),t){var i="";switch(e.errorCode.code){case 1:i+="MEDIA_KEYERR_UNKNOWN - An unspecified error occurred. This value is used for errors that don't match any of the other codes.";break;case 2:i+="MEDIA_KEYERR_CLIENT - The Key System could not be installed or updated.";break;case 3:i+="MEDIA_KEYERR_SERVICE - The message passed into update indicated an error from the license service.";break;case 4:i+="MEDIA_KEYERR_OUTPUT - There is no available output device with the required characteristics for the content protection system.";break;case 5:i+="MEDIA_KEYERR_HARDWARECHANGE - A hardware configuration change caused a content protection error.";break;case 6:i+="MEDIA_KEYERR_DOMAIN - An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain."}i+="  System Code = "+e.systemCode,r.trigger(d.KEY_ERROR,{data:new a.default(t,i)})}else c("No session token found for key error");break;case f.keyadded:(t=v(T,e.sessionId))||(t=v(_,e.sessionId)),t?(c("DRM: Key added."),r.trigger(d.KEY_ADDED,{data:t})):c("No session token found for key added");break;case f.keymessage:if((E=null!==e.sessionId&&void 0!==e.sessionId)?!(t=v(T,e.sessionId))&&_.length>0&&(t=_.shift(),T.push(t),t.sessionID=e.sessionId,r.trigger(d.KEY_SESSION_CREATED,{data:t})):_.length>0&&(t=_.shift(),T.push(t),0!==_.length&&h.mediaKeyMessageError("Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!")),t){var l=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;t.keyMessage=l,r.trigger(d.INTERNAL_KEY_MESSAGE,{data:new s.default(t,l,e.defaultURL)})}else c("No session token found for key message")}}},t}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(152)),o=d(t(171)),a=d(t(165)),s=d(t(166)),l=d(t(169)),u=d(t(168));e.__dashjs_factory_name="ProtectionModel_01b",r.default=dashjs.FactoryMaker.getClassFactory(e),n.exports=r.default},{152:152,165:165,166:166,168:168,169:169,171:171}],158:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function v(e){var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function x(e){for(var t=0;t<m.length;t++)if(m[t]===e){m.splice(t,1);break}}function y(e,t,n,i){var o={session:e,initData:t,sessionId:i,handleEvent:function(e){switch(e.type){case"keystatuseschange":r.trigger(d.KEY_STATUSES_CHANGED,{data:this}),e.target.keyStatuses.forEach(function(){var e=void 0,t=void 0;switch(arguments&&arguments.length>0&&(arguments[0]&&("string"==typeof arguments[0]?e=arguments[0]:t=arguments[0]),arguments[1]&&("string"==typeof arguments[1]?e=arguments[1]:t=arguments[1])),e){case"expired":r.trigger(d.INTERNAL_KEY_STATUS_CHANGED,{error:"License has expired"});break;default:r.trigger(d.INTERNAL_KEY_STATUS_CHANGED,{status:e,keyId:t})}});break;case"message":var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;r.trigger(d.INTERNAL_KEY_MESSAGE,{data:new s.default(this,t,void 0,e.messageType)})}},getSessionID:function(){return e.sessionId},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getSessionType:function(){return n}};return e.addEventListener("keystatuseschange",o),e.addEventListener("message",o),e.closed.then(function(){x(o),f("DRM: Session closed.  SessionID = "+o.getSessionID()),r.trigger(d.KEY_SESSION_CLOSED,{data:o.getSessionID()})}),m.push(o),o}e=e||{};var t,n=this.context,r=e.eventBus,d=e.events,f=e.log,h=void 0,p=void 0,g=void 0,m=void 0,_=void 0,T=void 0;return t={getAllInitData:function(){for(var e=[],t=0;t<m.length;t++)m[t].initData&&e.push(m[t].initData);return e},requestKeySystemAccess:function(e){!function u(e,t){void 0!==navigator.requestMediaKeySystemAccess&&"function"==typeof navigator.requestMediaKeySystemAccess?function(t){var n=e[t].ks,i=e[t].configs;navigator.requestMediaKeySystemAccess(n.systemString,i).then(function(e){var t="function"==typeof e.getConfiguration?e.getConfiguration():null,i=new l.default(n,t);i.mksa=e,r.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{data:i})}).catch(function(n){++t<e.length?u(e,t):r.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! "+n.message})})}(t):r.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Insecure origins are not allowed"})}(e,0)},getKeySystem:function(){return h},selectKeySystem:function(e){e.mksa.createMediaKeys().then(function(t){h=e.keySystem,g=t,p?p.setMediaKeys(g).then(function(){r.trigger(d.INTERNAL_KEY_SYSTEM_SELECTED)}):r.trigger(d.INTERNAL_KEY_SYSTEM_SELECTED)}).catch(function(){r.trigger(d.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})},setMediaElement:function(e){p!==e&&(p&&(p.removeEventListener("encrypted",_),p.setMediaKeys&&p.setMediaKeys(null)),(p=e)&&(p.addEventListener("encrypted",_),p.setMediaKeys&&g&&p.setMediaKeys(g)))},setServerCertificate:function(e){if(!h||!g)throw new Error("Can not set server certificate until you have selected a key system");g.setServerCertificate(e).then(function(){f("DRM: License server certificate successfully updated."),r.trigger(d.SERVER_CERTIFICATE_UPDATED)}).catch(function(e){r.trigger(d.SERVER_CERTIFICATE_UPDATED,{error:"Error updating server certificate -- "+e.name})})},createKeySession:function(e,t,n){if(!h||!g)throw new Error("Can not create sessions until you have selected a key system");var i=g.createSession(n),o=y(i,e,n),a=this.getKeySystem().systemString===c.default.CLEARKEY_KEYSTEM_STRING&&t&&t.clearkeys?"keyids":"cenc";i.generateRequest(a,e).then(function(){f("DRM: Session created.  SessionID = "+o.getSessionID()),r.trigger(d.KEY_SESSION_CREATED,{data:o})}).catch(function(e){x(o),r.trigger(d.KEY_SESSION_CREATED,{data:null,error:"Error generating key request -- "+e.name})})},updateKeySession:function(e,t){var n=e.session;T.isClearKey(h)&&(t=t.toJWK()),n.update(t).catch(function(t){r.trigger(d.KEY_ERROR,{data:new a.default(e,"Error sending update() message! "+t.name)})})},loadKeySession:function(e,t,n){if(!h||!g)throw new Error("Can not load sessions until you have selected a key system");for(var i=0;i<m.length;i++)if(e===m[i].sessionId)return void f("DRM: Ignoring session ID because we have already seen it!");var o=g.createSession(n),a=y(o,t,n,e);o.load(e).then(function(t){t?(f("DRM: Session loaded.  SessionID = "+a.getSessionID()),r.trigger(d.KEY_SESSION_CREATED,{data:a})):(x(a),r.trigger(d.KEY_SESSION_CREATED,{data:null,error:"Could not load session! Invalid Session ID ("+e+")"}))}).catch(function(t){x(a),r.trigger(d.KEY_SESSION_CREATED,{data:null,error:"Could not load session ("+e+")! "+t.name})})},removeKeySession:function(e){e.session.remove().then(function(){f("DRM: Session removed.  SessionID = "+e.getSessionID()),r.trigger(d.KEY_SESSION_REMOVED,{data:e.getSessionID()})},function(t){r.trigger(d.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionID()+"). "+t.name})})},closeKeySession:function(e){v(e).catch(function(t){x(e),r.trigger(d.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionID()+") "+t.name})})},reset:function(){var e=m.length,t=void 0;0!==e?function(){for(var n=function(e){x(e),0===m.length&&(p?(p.removeEventListener("encrypted",_),p.setMediaKeys(null).then(function(){r.trigger(d.TEARDOWN_COMPLETE)})):r.trigger(d.TEARDOWN_COMPLETE))},i=0;i<e;i++)!function(e){t.session.closed.then(function(){n(e)}),v(t).catch(function(){n(e)})}(t=m[i])}():r.trigger(d.TEARDOWN_COMPLETE)}},h=null,p=null,g=null,m=[],T=(0,i.default)(n).getInstance(),_={handleEvent:function(e){switch(e.type){case"encrypted":if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;r.trigger(d.NEED_KEY,{key:new o.default(t,e.initDataType)})}}}},t}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(152)),o=d(t(171)),a=d(t(165)),s=d(t(166)),l=d(t(168)),c=d(t(101));e.__dashjs_factory_name="ProtectionModel_21Jan2015",r.default=dashjs.FactoryMaker.getClassFactory(e),n.exports=r.default},{101:101,152:152,165:165,166:166,168:168,171:171}],159:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function p(e){var t=e.session;t.removeEventListener(f.error,e),t.removeEventListener(f.message,e),t.removeEventListener(f.ready,e),t.removeEventListener(f.close,e);for(var n=0;n<_.length;n++)if(_[n]===e){_.splice(n,1);break}t[f.release]()}function v(){var e=null,t=function(){h.removeEventListener("loadedmetadata",e),h[f.setMediaKeys](y),r.trigger(d.VIDEO_ELEMENT_SELECTED)};h.readyState>=1?t():(e=t.bind(this),h.addEventListener("loadedmetadata",e))}e=e||{};var t,n=this.context,r=e.eventBus,d=e.events,c=e.log,f=e.api,h=void 0,g=void 0,y=void 0,m=void 0,_=void 0,T=void 0,E=void 0;return t={getAllInitData:function(){for(var e=[],t=0;t<_.length;t++)e.push(_[t].initData);return e},requestKeySystemAccess:function(e){for(var t=!1,n=0;n<e.length;n++)for(var i=e[n].ks.systemString,o=e[n].configs,a=null,s=null,c=0;c<o.length;c++){var h=o[c].audioCapabilities,p=o[c].videoCapabilities;if(h&&0!==h.length){a=[];for(var g=0;g<h.length;g++)window[f.MediaKeys].isTypeSupported(i,h[g].contentType)&&a.push(h[g])}if(p&&0!==p.length){s=[];for(var y=0;y<p.length;y++)window[f.MediaKeys].isTypeSupported(i,p[y].contentType)&&s.push(p[y])}if(!(!a&&!s||a&&0===a.length||s&&0===s.length)){t=!0;var v=new l.default(a,s),m=E.getKeySystemBySystemString(i);r.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{data:new u.default(m,v)});break}}t||r.trigger(d.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return g},selectKeySystem:function(e){try{y=e.mediaKeys=new window[f.MediaKeys](e.keySystem.systemString),g=e.keySystem,m=e,h&&v(),r.trigger(d.INTERNAL_KEY_SYSTEM_SELECTED)}catch(e){r.trigger(d.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+g.systemString+")! Could not create MediaKeys -- TODO"})}},setMediaElement:function(e){h!==e&&(h&&h.removeEventListener(f.needkey,T),(h=e)&&(h.addEventListener(f.needkey,T),y&&v()))},createKeySession:function(e,t,n,i){if(!g||!y||!m)throw new Error("Can not create sessions until you have selected a key system");var o=null;if(null!==m.ksConfiguration.videoCapabilities&&m.ksConfiguration.videoCapabilities.length>0&&(o=m.ksConfiguration.videoCapabilities[0]),null===o&&null!==m.ksConfiguration.audioCapabilities&&m.ksConfiguration.audioCapabilities.length>0&&(o=m.ksConfiguration.audioCapabilities[0]),null===o)throw new Error("Can not create sessions for unknown content types.");var l=o.contentType,u=y.createSession(l,new Uint8Array(e),i?new Uint8Array(i):null),h=function(e,t){return{session:e,initData:t,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(e){switch(e.type){case f.error:r.trigger(d.KEY_ERROR,{data:new a.default(this,"KeyError")});break;case f.message:var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;r.trigger(d.INTERNAL_KEY_MESSAGE,{data:new s.default(this,t,e.destinationURL)});break;case f.ready:c("DRM: Key added."),r.trigger(d.KEY_ADDED);break;case f.close:c("DRM: Session closed.  SessionID = "+this.getSessionID()),r.trigger(d.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}}}(u,e);u.addEventListener(f.error,h),u.addEventListener(f.message,h),u.addEventListener(f.ready,h),u.addEventListener(f.close,h),_.push(h),c("DRM: Session created.  SessionID = "+h.getSessionID()),r.trigger(d.KEY_SESSION_CREATED,{data:h})},updateKeySession:function(e,t){var n=e.session;E.isClearKey(g)?n.update(new Uint8Array(t.toJWK())):n.update(new Uint8Array(t))},closeKeySession:p,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},reset:function(){try{for(var e=0;e<_.length;e++)p(_[e]);h&&h.removeEventListener(f.needkey,T),r.trigger(d.TEARDOWN_COMPLETE)}catch(e){r.trigger(d.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+e.message})}}},h=null,g=null,y=null,m=null,_=[],E=(0,i.default)(n).getInstance(),T={handleEvent:function(e){switch(e.type){case f.needkey:if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;r.trigger(d.NEED_KEY,{key:new o.default(t,"cenc")})}}}},t}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(152)),o=d(t(171)),a=d(t(165)),s=d(t(166)),l=d(t(169)),u=d(t(168));e.__dashjs_factory_name="ProtectionModel_3Feb2014",r.default=dashjs.FactoryMaker.getClassFactory(e),n.exports=r.default},{152:152,165:165,166:166,168:168,169:169,171:171}],160:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){return{getServerURLFromMessage:function(e,t){var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));e+="/?";for(var r=0;r<n.kids.length;r++)e+=n.kids[r]+"&";return e.substring(0,e.length-1)},getHTTPMethod:function(){return"GET"},getResponseType:function(){return"json"},getLicenseMessage:function(e){if(!e.hasOwnProperty("keys"))return null;for(var t=[],n=0;n<e.keys.length;n++){var r=e.keys[n],a=r.kid.replace(/=/g,""),s=r.k.replace(/=/g,"");t.push(new i.default(a,s))}return new o.default(t)},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(167)),o=d(t(164));e.__dashjs_factory_name="ClearKey",r.default=dashjs.FactoryMaker.getSingletonFactory(e),n.exports=r.default},{164:164,167:167}],161:[function(t,n,r){"use strict";function e(e){var t=(e=e||{}).BASE64,n={};return n[i.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(e){return t.decodeArray(e.license)},getErrorResponse:function(e){return e}},n[i.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(e){return n[e].responseType},getLicenseMessage:function(e,r){return function(){if(!t||!t.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),n[r].getLicenseMessage(e)},getErrorResponse:function(e,t){return n[t].getErrorResponse(e)}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(101));e.__dashjs_factory_name="DRMToday",r.default=dashjs.FactoryMaker.getSingletonFactory(e),n.exports=r.default},{101:101}],162:[function(e,t,n){"use strict";function d(){function a(e){var t=String.fromCharCode.apply(null,new Uint8Array(e));return decodeURIComponent(escape(t))}function b(t){if(window.DOMParser){var n=a(t),r=(new window.DOMParser).parseFromString(n,"text/xml"),i=r?r.getElementsByTagNameNS(e,"Envelope")[0]:null,o=i?i.getElementsByTagNameNS(e,"Body")[0]:null;if(o&&o.getElementsByTagNameNS(e,"Fault")[0])return null}return t}function c(t){var n="",r="",i="",o=-1,s=-1;if(window.DOMParser){var l=a(t),u=(new window.DOMParser).parseFromString(l,"text/xml"),d=u?u.getElementsByTagNameNS(e,"Envelope")[0]:null,c=d?d.getElementsByTagNameNS(e,"Body")[0]:null,f=c?c.getElementsByTagNameNS(e,"Fault")[0]:null,h=f?f.getElementsByTagName("detail")[0]:null,p=h?h.getElementsByTagName("Exception")[0]:null,g=null;if(null===f)return l;n=(g=f.getElementsByTagName("faultstring")[0].firstChild)?g.nodeValue:null,null!==p&&(r=(g=p.getElementsByTagName("StatusCode")[0])?g.firstChild.nodeValue:null,o=(i=(g=p.getElementsByTagName("Message")[0])?g.firstChild.nodeValue:null)?i.lastIndexOf("[")+1:-1,s=i?i.indexOf("]"):-1,i=i?i.substring(o,s):"")}var y="code: "+r+", name: "+n;return i&&(y+=", message: "+i),y}var e="http://schemas.xmlsoap.org/soap/envelope/";return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return b.call(this,e)},getErrorResponse:function(e){return c.call(this,e)}}}Object.defineProperty(n,"__esModule",{value:!0}),d.__dashjs_factory_name="PlayReady",n.default=dashjs.FactoryMaker.getSingletonFactory(d),t.exports=n.default},{}],163:[function(e,t,n){"use strict";function d(){return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}Object.defineProperty(n,"__esModule",{value:!0}),d.__dashjs_factory_name="Widevine",n.default=dashjs.FactoryMaker.getSingletonFactory(d),t.exports=n.default},{}],164:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=function(){function a(e,t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t&&"persistent"!==t&&"temporary"!==t)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=e,this.type=t}return r(a,[{key:"toJWK",value:function(){var e=void 0,t=this.keyPairs.length,n={keys:[]};for(e=0;e<t;e++){var r={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};n.keys.push(r)}this.type&&(n.type=this.type);var i=JSON.stringify(n),o=i.length,a=new ArrayBuffer(o),s=new Uint8Array(a);for(e=0;e<o;e++)s[e]=i.charCodeAt(e);return a}}]),a}();n.default=i,t.exports=n.default},{}],165:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(e,t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.sessionToken=e,this.error=t},t.exports=n.default},{}],166:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(e,t,n,r){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.sessionToken=e,this.message=t,this.defaultURL=n,this.messageType=r||"license-request"},t.exports=n.default},{}],167:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(e,t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.keyID=e,this.key=t},t.exports=n.default},{}],168:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(e,t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.keySystem=e,this.ksConfiguration=t},t.exports=n.default},{}],169:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(e,t,n,r,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.initDataTypes=["cenc"],e&&e.length&&(this.audioCapabilities=e),t&&t.length&&(this.videoCapabilities=t),this.distinctiveIdentifier=n,this.persistentState=r,this.sessionTypes=i},t.exports=n.default},{}],170:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(e,t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.contentType=e,this.robustness=t},t.exports=n.default},{}],171:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(e,t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.initData=e,this.initDataType=t},t.exports=n.default},{}],172:[function(t,n,r){"use strict";function e(){var e=[],t=0,n=0;return{push:function(r,i){var o=i&&i.droppedVideoFrames?i.droppedVideoFrames:0,a=i&&i.totalVideoFrames?i.totalVideoFrames:0,s=o-t;t=o;var l=a-n;n=a,isNaN(r)||(e[r]?(e[r].droppedVideoFrames+=s,e[r].totalVideoFrames+=l):e[r]={droppedVideoFrames:s,totalVideoFrames:l})},getFrameHistory:function(){return e},reset:function(r){e=[],t=r.droppedVideoFrames,n=r.totalVideoFrames}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47));e.__dashjs_factory_name="DroppedFramesHistory";var o=i.default.getClassFactory(e);r.default=o,n.exports=r.default},{47:47}],173:[function(t,n,r){"use strict";function e(e){var t=(e=e||{}).abrController,n=e.streamProcessor,r=e.streamProcessor.getCurrentRepresentationInfo(),i=e.switchHistory,o=e.droppedFramesHistory,a=e.currentRequest,s=e.useBufferOccupancyABR;return{getMediaType:function(){return r.mediaInfo.type},getMediaInfo:function(){return r.mediaInfo},getDroppedFramesHistory:function(){return o},getCurrentRequest:function(){return a},getSwitchHistory:function(){return i},getStreamInfo:function(){return r.mediaInfo.streamInfo},getStreamProcessor:function(){return n},getAbrController:function(){return t},getRepresentationInfo:function(){return r},useBufferOccupancyABR:function(){return s}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47));e.__dashjs_factory_name="RulesContext",r.default=i.default.getClassFactory(e),n.exports=r.default},{47:47}],174:[function(t,n,r){"use strict";function e(e,t,n){var r,i;return r=void 0===e?o:e,i=function(e){var t=a.DEFAULT;return e!==a.DEFAULT&&e!==a.STRONG&&e!==a.WEAK||(t=e),t}(n),{quality:r,reason:void 0===t?null:t,priority:i}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47)),o=-1,a={DEFAULT:.5,STRONG:1,WEAK:0};e.__dashjs_factory_name="SwitchRequest";var s=i.default.getClassFactory(e);s.NO_CHANGE=o,s.PRIORITY=a,i.default.updateClassFactory(e.__dashjs_factory_name,s),r.default=s,n.exports=r.default},{47:47}],175:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){var e=[],t=[];return{push:function(n){n.newValue===o.default.NO_CHANGE&&(n.newValue=n.oldValue),e[n.oldValue]||(e[n.oldValue]={noDrops:0,drops:0,dropSize:0});var r=n.newValue-n.oldValue,i=r<0?1:0,s=i?-r:0,l=i?0:1;if(e[n.oldValue].drops+=i,e[n.oldValue].dropSize+=s,e[n.oldValue].noDrops+=l,t.push({idx:n.oldValue,noDrop:l,drop:i,dropSize:s}),t.length>a){var u=t.shift();e[u.idx].drops-=u.drop,e[u.idx].dropSize-=u.dropSize,e[u.idx].noDrops-=u.noDrop}},getSwitchRequests:function(){return e},reset:function(){e=[],t=[]}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(47)),o=d(t(174)),a=8;e.__dashjs_factory_name="SwitchRequestHistory";var s=i.default.getClassFactory(e);r.default=s,n.exports=r.default},{174:174,47:47}],176:[function(t,r,i){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(t){function c(e,t,n){return e===o.default.VIDEO?n<v.getCacheLoadThresholdForType(o.default.VIDEO):e===o.default.AUDIO?n<v.getCacheLoadThresholdForType(o.default.AUDIO):void 0}function e(e,t,n,r){var i=Math.pow(.5,n/r.fast);e.fastEstimate=(1-i)*t+i*e.fastEstimate;var o=Math.pow(.5,n/r.slow);e.slowEstimate=(1-o)*t+o*e.slowEstimate,e.totalWeight+=n}function h(e,t,n){return v.getMovingAverageMethod()!==o.default.MOVING_AVERAGE_SLIDING_WINDOW?function(e,t){var n=e?b.throughputHalfLife:b.latencyHalfLife,r=e?T[t]:E[t];if(!r||r.totalWeight<=0)return NaN;var i=r.fastEstimate/(1-Math.pow(.5,r.totalWeight/n.fast)),o=r.slowEstimate/(1-Math.pow(.5,r.totalWeight/n.slow));return e?Math.min(i,o):Math.max(i,o)}(e,t):function(e,t,n){var r=function(e,t,n){var r=void 0,o=void 0;if(e?(r=m[t],o=n?i:a):(r=_[t],o=s),r){if(o>=r.length)o=r.length;else if(e)for(var d=1;d<o;++d){var c=r[d]/r[d-1];if((c>=u||c<=1/l)&&(o+=1)===r.length)break}}else o=0;return o}(e,t,n),o=(e?m:_)[t];return 0!==r&&o&&0!==o.length?(o=o.slice(-r)).reduce(function(e,t){return e+t})/o.length:NaN}(e,t,n)}function k(e,t){return h(!0,e,t)}function n(e){m[e]=m[e]||[],_[e]=_[e]||[],T[e]=T[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0},E[e]=E[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function p(){m={},_={},T={},E={}}var r=20,i=3,a=4,s=4,l=1.3,u=1.3,d=8,f=3,g=2,y=1,v=(t=t||{}).mediaPlayerModel,m=void 0,_=void 0,T=void 0,E=void 0,b=void 0,A={push:function(t,i,o){if(i.trace&&i.trace.length){var a=i.tresponse.getTime()-i.trequest.getTime()||1,s=i._tfinish.getTime()-i.tresponse.getTime()||1,l=i.trace.reduce(function(e,t){return e+t.b[0]},0),u=o?s:a+s,d=Math.round(8*l/u);if(n(t),c(t,0,s)){if(m[t].length>0&&!m[t].hasCachedEntries)return;m[t].hasCachedEntries=!0}else m[t]&&m[t].hasCachedEntries&&function(e){delete m[e],delete _[e],delete T[e],delete E[e],n(e)}(t);m[t].push(d),m[t].length>r&&m[t].shift(),_[t].push(a),_[t].length>r&&_[t].shift(),e(T[t],d,.001*s,b.throughputHalfLife),e(E[t],a,1,b.latencyHalfLife)}},getAverageThroughput:k,getSafeAverageThroughput:function(e,t){var n=k(e,t);return isNaN(n)||(n*=v.getBandwidthSafetyFactor()),n},getAverageLatency:function(e){return h(!1,e)},reset:p};return b={throughputHalfLife:{fast:f,slow:d},latencyHalfLife:{fast:y,slow:g}},p(),A}Object.defineProperty(i,"__esModule",{value:!0});var o=d(t(99)),a=d(t(47));e.__dashjs_factory_name="ThroughputHistory",i.default=a.default.getClassFactory(e),r.exports=i.default},{47:47,99:99}],177:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function c(e){return e.filter(function(e){return e.quality>h.default.NO_CHANGE})}function d(e){var n={},r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;if(0!==e.length){for(n[h.default.PRIORITY.STRONG]=h.default.NO_CHANGE,n[h.default.PRIORITY.WEAK]=h.default.NO_CHANGE,n[h.default.PRIORITY.DEFAULT]=h.default.NO_CHANGE,r=0,i=e.length;r<i;r+=1)(o=e[r]).quality!==h.default.NO_CHANGE&&(n[o.priority]=n[o.priority]>h.default.NO_CHANGE?Math.min(n[o.priority],o.quality):o.quality);return n[h.default.PRIORITY.WEAK]!==h.default.NO_CHANGE&&(a=n[h.default.PRIORITY.WEAK]),n[h.default.PRIORITY.DEFAULT]!==h.default.NO_CHANGE&&(a=n[h.default.PRIORITY.DEFAULT]),n[h.default.PRIORITY.STRONG]!==h.default.NO_CHANGE&&(a=n[h.default.PRIORITY.STRONG]),a!==h.default.NO_CHANGE&&(s=a),(0,h.default)(t).create(s)}}e=e||{};var t=this.context,n=e.mediaPlayerModel,r=e.metricsModel,f=e.dashMetrics,y=void 0,v=void 0;return{initialize:function(){y=[],v=[],n.getUseDefaultABRRules()&&(y.push((0,u.default)(t).create({metricsModel:r,dashMetrics:f,mediaPlayerModel:n})),y.push((0,i.default)(t).create({metricsModel:r,dashMetrics:f})),y.push((0,o.default)(t).create({metricsModel:r,dashMetrics:f})),y.push((0,l.default)(t).create()),y.push((0,s.default)(t).create()),v.push((0,a.default)(t).create({metricsModel:r,dashMetrics:f,mediaPlayerModel:n}))),n.getABRCustomRules().forEach(function(e){e.type===p&&y.push(e.rule(t).create()),e.type===g&&v.push(e.rule(t).create())})},reset:function(){[y,v].forEach(function(e){e&&e.length&&e.forEach(function(e){return e.reset&&e.reset()})}),y=[],v=[]},getMaxQuality:function(e){return d(c(y.map(function(t){return t.getMaxIndex(e)})))||(0,h.default)(t).create()},shouldAbandonFragment:function(e){return d(c(v.map(function(t){return t.shouldAbandon(e)})))||(0,h.default)(t).create()}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(183)),o=d(t(181)),a=d(t(178)),s=d(t(180)),l=d(t(182)),u=d(t(179)),f=d(t(47)),h=d(t(174)),p="qualitySwitchRules",g="abandonFragmentRules";e.__dashjs_factory_name="ABRRulesCollection";var y=f.default.getClassFactory(e);y.QUALITY_SWITCH_RULES=p,y.ABANDON_FRAGMENT_RULES=g,f.default.updateSingletonFactory(e.__dashjs_factory_name,y),r.default=y,n.exports=r.default},{174:174,178:178,179:179,180:180,181:181,182:182,183:183,47:47}],178:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(t){function h(){f={},p={},g=[]}t=t||{};var n=1.8,r=500,o=5,s=this.context,l=(0,a.default)(s).getInstance().log,u=t.mediaPlayerModel,d=t.metricsModel,c=t.dashMetrics,f=void 0,p=void 0,g=void 0,y={shouldAbandon:function(t){var a=(0,i.default)(s).create(i.default.NO_CHANGE,{name:e.__dashjs_factory_name});if(!(t&&t.hasOwnProperty("getMediaInfo")&&t.hasOwnProperty("getMediaType")&&t.hasOwnProperty("getCurrentRequest")&&t.hasOwnProperty("getRepresentationInfo")&&t.hasOwnProperty("getAbrController")))return a;var h=t.getMediaInfo(),y=t.getMediaType(),v=t.getCurrentRequest();if(!isNaN(v.index)){!function(e,t){f[e]=f[e]||{},f[e][t]=f[e][t]||{}}(y,v.index);var m=u.getStableBufferTime();if(c.getCurrentBufferLevel(d.getReadOnlyMetricsFor(y))>m)return a;var _=f[y][v.index];if(null===_||null===v.firstByteDate||p.hasOwnProperty(_.id))return a;if(void 0===_.firstByteTime&&(g[y]=[],_.firstByteTime=v.firstByteDate.getTime(),_.segmentDuration=v.duration,_.bytesTotal=v.bytesTotal,_.id=v.index),_.bytesLoaded=v.bytesLoaded,_.elapsedTime=(new Date).getTime()-_.firstByteTime,_.bytesLoaded>0&&_.elapsedTime>0&&function(e,t){g[e]=g[e]||[],g[e].push(t)}(y,Math.round(8*_.bytesLoaded/_.elapsedTime)),g[y].length>=o&&_.elapsedTime>r&&_.bytesLoaded<_.bytesTotal){var T=g[y].reduce(function(e,t){return e+t},0);if(_.measuredBandwidthInKbps=Math.round(T/g[y].length),_.estimatedTimeOfDownload=+(8*_.bytesTotal/_.measuredBandwidthInKbps/1e3).toFixed(2),_.estimatedTimeOfDownload<_.segmentDuration*n||0===t.getRepresentationInfo().quality)return a;if(!p.hasOwnProperty(_.id)){var E=t.getAbrController(),b=_.bytesTotal-_.bytesLoaded,A=E.getBitrateList(h),S=E.getQualityForBitrate(h,_.measuredBandwidthInKbps*u.getBandwidthSafetyFactor());b>_.bytesTotal*A[S].bitrate/A[E.getQualityFor(y,h.streamInfo)].bitrate&&(a.quality=S,a.reason.throughput=_.measuredBandwidthInKbps,a.reason.fragmentID=_.id,p[_.id]=_,l("AbandonRequestsRule ( ",y,"frag id",_.id,") is asking to abandon and switch to quality to ",S," measured bandwidth was",_.measuredBandwidthInKbps),delete f[y][_.id])}}else _.bytesLoaded===_.bytesTotal&&delete f[y][_.id]}return a},reset:h};return h(),y}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(174)),o=d(t(47)),a=d(t(45));e.__dashjs_factory_name="AbandonRequestsRule",r.default=o.default.getClassFactory(e),n.exports=r.default},{174:174,45:45,47:47}],179:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(t){function d(e,t,n){var r=n.reduce(function(e,t,r){return t>n[e]?r:e},0);if(0===r)return null;var i=Math.max(e,T+b*t.length),o=(n[r]-1)/(i/T-1);return{gp:o,Vp:T/o}}function e(e){var t={},n=e.getMediaInfo().bitrateList.map(function(e){return e.bandwidth}),r=function(e){return e.map(function(e){return Math.log(e)})}(n);r=r.map(function(e){return e-r[0]+1});var i=I.getStableBufferTime(),o=d(i,n,r);return o?(t.state=v,t.bitrates=n,t.utilities=r,t.stableBufferTime=i,t.Vp=o.Vp,t.gp=o.gp,t.lastQuality=0,f(t)):t.state=g,t}function f(e){e.placeholderBuffer=0,e.mostAdvancedSegmentStart=NaN,e.lastSegmentWasReplacement=!1,e.lastSegmentStart=NaN,e.lastSegmentDurationS=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN}function h(e,t){var n=I.getStableBufferTime();if(e.stableBufferTime!==n){var r=d(n,e.bitrates,e.utilities);if(r.Vp!==e.Vp||r.gp!==e.gp){var i=s.getCurrentBufferLevel(w.getReadOnlyMetricsFor(t)),o=i+e.placeholderBuffer;o-=T,o*=r.Vp/e.Vp,o+=T,e.stableBufferTime=n,e.Vp=r.Vp,e.gp=r.gp,e.placeholderBuffer=Math.max(0,o-i)}}}function j(t){var n=t.getMediaType(),r=R[n];return r?r.state!==g&&h(r,n):(r=e(t),R[n]=r),r}function m(e,t){return e.Vp*(e.utilities[t]+e.gp)}function o(e,t){for(var n=e.bitrates[t],r=e.utilities[t],i=0,o=t-1;o>=0;--o)if(e.utilities[o]<e.utilities[t]){var a=e.bitrates[o],s=e.utilities[o],l=e.Vp*(e.gp+(n*s-a*r)/(n-a));i=Math.max(i,l)}return i}function q(e,t){var n=Date.now();if(isNaN(e.lastSegmentFinishTimeMs)){if(!isNaN(e.lastCallTimeMs)){var r=.001*(n-e.lastCallTimeMs);e.placeholderBuffer+=Math.max(0,r)}}else{r=.001*(n-e.lastSegmentFinishTimeMs);e.placeholderBuffer+=Math.max(0,r)}e.lastCallTimeMs=n,e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN,h(e,t)}function y(){for(var e in R)R.hasOwnProperty(e)&&R[e].state===_&&(R[e].placeholderBuffer=0)}function z(){for(var e in R)if(R.hasOwnProperty(e)){var t=R[e];t.state!==g&&(t.state=v,f(t))}}function A(){}function B(e){if(e&&e.chunk&&e.chunk.mediaInfo){var t=R[e.chunk.mediaInfo.type];if(t&&t.state!==g){var n=e.chunk.start;isNaN(t.mostAdvancedSegmentStart)||n>t.mostAdvancedSegmentStart?(t.mostAdvancedSegmentStart=n,t.lastSegmentWasReplacement=!1):t.lastSegmentWasReplacement=!0,t.lastSegmentStart=n,t.lastSegmentDurationS=e.chunk.duration,t.lastQuality=e.chunk.quality,D(t,e.chunk.mediaInfo.type)}}}function C(e){if(e&&e.metric===i.default.HTTP_REQUEST&&e.value&&e.value.type===l.HTTPRequest.MEDIA_SEGMENT_TYPE&&e.value.trace&&e.value.trace.length){var t=R[e.mediaType];t&&t.state!==g&&(t.lastSegmentRequestTimeMs=e.value.trequest.getTime(),t.lastSegmentFinishTimeMs=e.value._tfinish.getTime(),D(t,e.mediaType))}}function D(e,t){if(!isNaN(e.lastSegmentStart)&&!isNaN(e.lastSegmentRequestTimeMs)&&!isNaN(e.placeholderBuffer)){if(e.placeholderBuffer*=S,!isNaN(e.lastSegmentFinishTimeMs)){var n=s.getCurrentBufferLevel(w.getReadOnlyMetricsFor(t))+.001*(e.lastSegmentFinishTimeMs-e.lastSegmentRequestTimeMs),r=m(e,e.lastQuality),i=Math.max(0,r-n);e.placeholderBuffer=Math.min(i,e.placeholderBuffer)}e.lastSegmentWasReplacement&&!isNaN(e.lastSegmentDurationS)&&(e.placeholderBuffer+=e.lastSegmentDurationS),e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN}}function E(e){if(e){var t=R[e.mediaType];t&&t.state!==g&&(t.abrQuality=e.newQuality)}}function F(e){if(e){var t=R[e.mediaType];if(t&&t.state!==g){var n,r=s.getCurrentBufferLevel(w.getReadOnlyMetricsFor(e.mediaType));n=t.abrQuality>0?o(t,t.abrQuality):T;var i=Math.max(0,n-r);t.placeholderBuffer=Math.min(t.placeholderBuffer,i)}}}function H(){R={}}t=t||{};var n=this.context,r=(0,p.default)(n).getInstance().log,s=t.dashMetrics,w=t.metricsModel,I=t.mediaPlayerModel,M=(0,u.default)(n).getInstance(),O=void 0,R=void 0;return O={getMaxIndex:function(e){var t=e.getMediaInfo(),i=e.getMediaType(),l=w.getReadOnlyMetricsFor(i),u=e.getStreamProcessor(),d=e.getStreamInfo(),c=e.getAbrController(),h=c.getThroughputHistory(),p=d?d.id:null,y=d&&d.manifestInfo&&d.manifestInfo.isDynamic,T=e.useBufferOccupancyABR(),E=(0,a.default)(n).create();if(E.reason=E.reason||{},!T)return E;u.getScheduleController().setTimeToLoadDelay(0);var b=j(e);if(b.state===g)return E;var A=s.getCurrentBufferLevel(l),S=h.getAverageThroughput(i,y),C=h.getSafeAverageThroughput(i,y),I=h.getAverageLatency(i),M=void 0;if(E.reason.state=b.state,E.reason.throughput=S,E.reason.latency=I,isNaN(S))return E;switch(b.state){case v:M=c.getQualityForBitrate(t,C,I),E.quality=M,E.reason.throughput=C,b.placeholderBuffer=Math.max(0,o(b,M)-A),b.lastQuality=M,!isNaN(b.lastSegmentDurationS)&&A>=b.lastSegmentDurationS&&(b.state=_);break;case _:q(b,i),M=function(e,t){for(var n=e.bitrates.length,r=NaN,i=NaN,o=0;o<n;++o){var a=(e.Vp*(e.utilities[o]+e.gp)-t)/e.bitrates[o];(isNaN(i)||a>=i)&&(i=a,r=o)}return r}(b,A+b.placeholderBuffer);var O=c.getQualityForBitrate(t,C,I);M>b.lastQuality&&M>O&&(M=Math.max(O,b.lastQuality));var R=Math.max(0,A+b.placeholderBuffer-m(b,M));R<=b.placeholderBuffer?(b.placeholderBuffer-=R,R=0):(R-=b.placeholderBuffer,b.placeholderBuffer=0,M<c.getTopQualityIndexFor(i,p)?u.getScheduleController().setTimeToLoadDelay(1e3*R):R=0),E.quality=M,E.reason.throughput=S,E.reason.latency=I,E.reason.bufferLevel=A,E.reason.placeholderBuffer=b.placeholderBuffer,E.reason.delay=R,b.lastQuality=M;break;default:r("BOLA ABR rule invoked in bad state."),E.quality=c.getQualityForBitrate(t,C,I),E.reason.state=b.state,E.reason.throughput=C,E.reason.latency=I,b.state=v,f(b)}return E},reset:function(){H(),M.off(c.default.BUFFER_EMPTY,y,O),M.off(c.default.PLAYBACK_SEEKING,z,O),M.off(c.default.PERIOD_SWITCH_STARTED,A,O),M.off(c.default.MEDIA_FRAGMENT_LOADED,B,O),M.off(c.default.METRIC_ADDED,C,O),M.off(c.default.QUALITY_CHANGE_REQUESTED,E,O),M.off(c.default.FRAGMENT_LOADING_ABANDONED,F,O)}},H(),M.on(c.default.BUFFER_EMPTY,y,O),M.on(c.default.PLAYBACK_SEEKING,z,O),M.on(c.default.PERIOD_SWITCH_STARTED,A,O),M.on(c.default.MEDIA_FRAGMENT_LOADED,B,O),M.on(c.default.METRIC_ADDED,C,O),M.on(c.default.QUALITY_CHANGE_REQUESTED,E,O),M.on(c.default.FRAGMENT_LOADING_ABANDONED,F,O),O}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(100)),a=d(t(174)),s=d(t(47)),l=t(232),u=d(t(46)),c=d(t(50)),p=d(t(45)),g=0,v=1,_=2,T=10,b=2,S=.99;e.__dashjs_factory_name="BolaRule",r.default=s.default.getClassFactory(e),n.exports=r.default},{100:100,174:174,232:232,45:45,46:46,47:47,50:50}],180:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){var e=this.context,t=(0,a.default)(e).getInstance().log,n=.15,r=375;return{getMaxIndex:function(i){var a=i.getDroppedFramesHistory();if(a){for(var s=a.getFrameHistory(),l=0,u=0,d=o.default.NO_CHANGE,c=1;c<s.length;c++)if(s[c]&&(l=s[c].droppedVideoFrames,(u=s[c].totalVideoFrames)>r&&l/u>n)){t("DroppedFramesRule, index: "+(d=c-1)+" Dropped Frames: "+l+" Total Frames: "+u);break}return(0,o.default)(e).create(d,{droppedFrames:l})}return(0,o.default)(e).create()}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(47)),o=d(t(174)),a=d(t(45));e.__dashjs_factory_name="DroppedFramesRule",r.default=i.default.getClassFactory(e),n.exports=r.default},{174:174,45:45,47:47}],181:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(t){function e(e,t){y[e]=y[e]||{};var n=!1;return y[e].firstBufferLoadedEvent?n=!0:t&&t.state===i.default.BUFFER_LOADED&&(y[e].firstBufferLoadedEvent=!0,n=!0),n}function f(){y={}}function h(){f()}t=t||{};var n=.5,r=this.context,s=(0,l.default)(r).getInstance().log,d=(0,o.default)(r).getInstance(),c=t.metricsModel,p=t.dashMetrics,g=void 0,y=void 0;return g={getMaxIndex:function(t){var o=(0,u.default)(r).create();if(!t||!t.hasOwnProperty("getMediaType"))return o;!function(){if(!(c&&c.hasOwnProperty("getReadOnlyMetricsFor")&&p&&p.hasOwnProperty("getCurrentBufferLevel")))throw new Error("Missing config parameter(s)")}();var a=t.getMediaType(),l=c.getReadOnlyMetricsFor(a),d=l.BufferState.length>0?l.BufferState[l.BufferState.length-1]:null,f=t.getRepresentationInfo().fragmentDuration;if(!d||!e(a,d)||!f)return o;if(d.state===i.default.BUFFER_EMPTY)s("Switch to index 0; buffer is empty."),o.quality=0,o.reason="InsufficientBufferRule: Buffer is empty";else{var h=t.getMediaInfo(),g=t.getAbrController(),y=g.getThroughputHistory(),v=p.getCurrentBufferLevel(l),m=y.getAverageThroughput(a),_=y.getAverageLatency(a),T=m*(v/f)*n;o.quality=g.getQualityForBitrate(h,T,_),o.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return o},reset:function(){f(),d.off(a.default.PLAYBACK_SEEKING,h,g)}},f(),d.on(a.default.PLAYBACK_SEEKING,h,g),g}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(105)),o=d(t(46)),a=d(t(50)),s=d(t(47)),l=d(t(45)),u=d(t(174));e.__dashjs_factory_name="InsufficientBufferRule",r.default=s.default.getClassFactory(e),n.exports=r.default},{105:105,174:174,45:45,46:46,47:47,50:50}],182:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){var e=this.context,t=(0,o.default)(e).getInstance().log,n=.075,r=6;return{getMaxIndex:function(i){for(var o=i?i.getSwitchHistory():null,s=o?o.getSwitchRequests():[],l=0,u=0,d=0,c=(0,a.default)(e).create(),f=0;f<s.length;f++)if(void 0!==s[f]&&(l+=s[f].drops,u+=s[f].noDrops,d+=s[f].dropSize,l+u>=r&&l/u>n)){c.quality=f>0&&s[f].drops>0?f-1:f,c.reason={index:c.quality,drops:l,noDrops:u,dropSize:d},t("Switch history rule index: "+c.quality+" samples: "+(l+u)+" drops: "+l);break}return c}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(47)),o=d(t(45)),a=d(t(174));e.__dashjs_factory_name="SwitchHistoryRule",r.default=i.default.getClassFactory(e),n.exports=r.default},{174:174,45:45,47:47}],183:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){e=e||{};var t=this.context,n=(0,s.default)(t).getInstance().log,r=e.metricsModel;return{getMaxIndex:function(e){var a=(0,l.default)(t).create();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("useBufferOccupancyABR")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("getStreamProcessor")))return a;!function(){if(!r||!r.hasOwnProperty("getReadOnlyMetricsFor"))throw new Error("Missing config parameter(s)")}();var s=e.getMediaInfo(),u=e.getMediaType(),d=r.getReadOnlyMetricsFor(u),c=e.getStreamProcessor(),f=e.getAbrController(),h=e.getStreamInfo(),p=h&&h.manifestInfo?h.manifestInfo.isDynamic:null,g=f.getThroughputHistory(),y=g.getSafeAverageThroughput(u,p),v=g.getAverageLatency(u),m=d.BufferState.length>0?d.BufferState[d.BufferState.length-1]:null,_=e.useBufferOccupancyABR();return!d||isNaN(y)||!m||_?a:(f.getAbandonmentStateFor(u)!==o.default.ABANDON_LOAD&&(m.state===i.default.BUFFER_LOADED||p)&&(a.quality=f.getQualityForBitrate(s,y,v),c.getScheduleController().setTimeToLoadDelay(0),n("ThroughputRule requesting switch to index: ",a.quality,"type: ",u,"Average throughput",Math.round(y),"kbps"),a.reason={throughput:y,latency:v}),a)},reset:function(){}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(105)),o=d(t(102)),a=d(t(47)),s=d(t(45)),l=d(t(174));e.__dashjs_factory_name="ThroughputRule",r.default=a.default.getClassFactory(e),n.exports=r.default},{102:102,105:105,174:174,45:45,47:47}],184:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function d(e,s,l){var u=NaN,d=e.getCurrentRepresentationInfo();if(s===i.default.FRAGMENTED_TEXT)u=o.isTextEnabled()?d.fragmentDuration:0;else if(s===i.default.AUDIO&&l){var c=t.getCurrentBufferLevel(n.getReadOnlyMetricsFor(i.default.VIDEO));u=isNaN(d.fragmentDuration)?c:Math.max(c,d.fragmentDuration)}else{var f=d.mediaInfo.streamInfo;if(a.isPlayingAtTopQuality(f))u=f.manifestInfo.duration>=r.getLongFormContentDurationThreshold()?r.getBufferTimeAtTopQualityLongForm():r.getBufferTimeAtTopQuality();else u=r.getStableBufferTime()}return u}var t=(e=e||{}).dashMetrics,n=e.metricsModel,r=e.mediaPlayerModel,o=e.textController,a=e.abrController;return{execute:function(e,r,i){return t.getCurrentBufferLevel(n.getReadOnlyMetricsFor(r))<d(e,r,i)},getBufferTarget:d}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(99)),o=d(t(47));e.__dashjs_factory_name="BufferLevelRule",r.default=o.default.getClassFactory(e),n.exports=r.default},{47:47,99:99}],185:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){e=e||{};var t=this.context,n=(0,o.default)(t).getInstance().log,r=e.adapter,a=e.textController;return{execute:function(e,t){var o=e.getCurrentRepresentationInfo(),l=o.mediaInfo.type,u=e.getScheduleController(),d=u.getSeekTarget(),c=!isNaN(d),f=e.getBufferController(),h=c?d:r.getIndexHandlerTime(e);if(isNaN(h)||l===i.default.FRAGMENTED_TEXT&&!a.isTextEnabled())return null;if(c&&u.setSeekTarget(NaN),f){var p=f.getRangeAt(h);null===p||c||(n("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end for",l,".",h,"was changed to",p.end),h=p.end)}var g=void 0;if(t)h=t.startTime+t.duration/2,g=r.getFragmentRequestForTime(e,o,h,{timeThreshold:0,ignoreIsFinished:!0});else{for(g=r.getFragmentRequestForTime(e,o,h,{keepIdx:!c});g&&g.action!==s.default.ACTION_COMPLETE&&e.getFragmentModel().isFragmentLoaded(g);)g=r.getNextFragmentRequest(e,o);g&&(isNaN(g.startTime+g.duration)||r.setIndexHandlerTime(e,g.startTime+g.duration),g.delayLoadingTime=(new Date).getTime()+u.getTimeToLoadDelay(),u.setTimeToLoadDelay(0))}return g}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(99)),o=d(t(45)),a=d(t(47)),s=d(t(214));e.__dashjs_factory_name="NextFragmentRequestRule",r.default=a.default.getClassFactory(e),n.exports=r.default},{214:214,45:45,47:47,99:99}],186:[function(t,n,r){"use strict";function e(){function a(e){for(var t="",n=0;n<e.length;++n)t+=e[n].uchar;return t.length-t.replace(/^\s+/,"").length}function b(e){return"left: "+3.125*e.x+"%; top: "+6.66*e.y1+"%; width: "+(100-3.125*e.x)+"%; height: "+6.66*Math.max(e.y2-1-e.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function c(e){return"red"===e?"rgb(255, 0, 0)":"green"===e?"rgb(0, 255, 0)":"blue"===e?"rgb(0, 0, 255)":"cyan"===e?"rgb(0, 255, 255)":"magenta"===e?"rgb(255, 0, 255)":"yellow"===e?"rgb(255, 255, 0)":"white"===e?"rgb(255, 255, 255)":"black"===e?"rgb(0, 0, 0)":e}function d(e,t){var n=e.videoHeight/15;return t?"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?c(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?c(t.background):"transparent")+";":"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function e(e){return e.replace(/^\s+/g,"")}function f(e){return e.replace(/\s+$/g,"")}var t=0;return{createHTMLCaptionsFromScreen:function(n,r,i,o){var s=null,l=!1,u=-1,c={start:r,end:i,spans:[]},h="style_cea608_white_black",p={},g={},y=[],v=void 0,m=void 0;for(v=0;v<15;++v){var _=o.rows[v],T="",E=null;if(!1===_.isEmpty()){var A=a(_.chars);null===s&&(s={x:A,y1:v,y2:v+1,p:[]}),A!==u&&l&&(s.p.push(c),c={start:r,end:i,spans:[]},s.y2=v,s.name="region_"+s.x+"_"+s.y1+"_"+s.y2,!1===p.hasOwnProperty(s.name)?(y.push(s),p[s.name]=s):p[s.name].p.contat(s.p),s={x:A,y1:v,y2:v+1,p:[]});for(var S=0;S<_.chars.length;++S){var w=_.chars[S],C=w.penState;if(null===E||!C.equals(E)){T.trim().length>0&&(c.spans.push({name:h,line:T,row:v}),T="");var I="style_cea608_"+C.foreground+"_"+C.background;C.underline&&(I+="_underline"),C.italics&&(I+="_italics"),g.hasOwnProperty(I)||(g[I]=JSON.parse(JSON.stringify(C))),E=C,h=I}T+=w.uchar}T.trim().length>0&&c.spans.push({name:h,line:T,row:v}),l=!0,u=A}else l=!1,u=-1,s&&(s.p.push(c),c={start:r,end:i,spans:[]},s.y2=v,s.name="region_"+s.x+"_"+s.y1+"_"+s.y2,!1===p.hasOwnProperty(s.name)?(y.push(s),p[s.name]=s):p[s.name].p.contat(s.p),s=null)}s&&(s.p.push(c),s.y2=v+1,s.name="region_"+s.x+"_"+s.y1+"_"+s.y2,!1===p.hasOwnProperty(s.name)?(y.push(s),p[s.name]=s):p[s.name].p.contat(s.p),s=null);var M=[];for(v=0;v<y.length;++v){var O=y[v],R="sub_cea608_"+t++,P=document.createElement("div");P.id=R;var D=b(O);P.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+D;var N=document.createElement("div");N.className="paragraph bodyStyle",N.style.cssText=d(n);var x=document.createElement("div");x.className="cueUniWrapper",x.style.cssText="unicode-bidi: normal; direction: ltr;";for(var k=0;k<O.p.length;++k){var L=O.p[k],F=0;for(m=0;m<L.spans.length;++m){var j=L.spans[m];if(j.line.length>0){if(0!==m&&F!=j.row){var B=document.createElement("br");B.className="lineBreak",x.appendChild(B)}var U=!1;F===j.row&&(U=!0),F=j.row;var V=g[j.name],H=document.createElement("span");H.className="spanPadding "+j.name+" customSpanColor",H.style.cssText=d(n,V),0!==m&&U?m===L.spans.length-1?H.textContent=f(j.line):H.textContent=j.line:L.spans.length>1&&m<L.spans.length-1&&j.row===L.spans[m+1].row?H.textContent=e(j.line):H.textContent=j.line.trim(),x.appendChild(H)}}}N.appendChild(x),P.appendChild(N);var q={bodyStyle:["%",90]};for(m in g)g.hasOwnProperty(m)&&(q[m]=["%",90]);M.push({type:"html",start:r,end:i,cueHTMLElement:P,cueID:R,cellResolution:[32,15],isFromCEA608:!0,regions:y,regionID:O.name,videoHeight:n.videoHeight,videoWidth:n.videoWidth,fontSize:q,lineHeight:{},linePadding:{}})}return M}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47));e.__dashjs_factory_name="EmbeddedTextHtmlRender",r.default=i.default.getSingletonFactory(e),n.exports=r.default},{47:47}],187:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function j(e){m=e}function x(e){e.sender.getStreamProcessor()===h&&n.trigger(a.default.TIMED_TEXT_REQUESTED,{index:0,sender:e.sender})}function y(e){e.fragmentModel===h.getFragmentModel()&&e.chunk.bytes&&(T.save(e.chunk),_.append(e.chunk))}e=e||{};var t=this.context,n=(0,o.default)(t).getInstance(),r=(0,c.default)(t).getInstance(),s=e.errHandler,d=e.type,h=e.streamProcessor,p=void 0,g=void 0,v=void 0,m=void 0,_=void 0,T=void 0;return p={getBufferControllerType:function(){return f},initialize:function(e){j(e),h.getRepresentationController(),T=(0,l.default)(t).getInstance()},createBuffer:function(e){try{if(_=(0,u.default)(t).create(m,e),!v){var n=_.getBuffer();n.hasOwnProperty(i.default.INITIALIZE)&&n.initialize(d,h),v=!0}}catch(t){if(e.isText||-1!==e.codec.indexOf('codecs="stpp')||-1!==e.codec.indexOf('codecs="wvtt'))try{_=r.getTextSourceBuffer()}catch(e){s.mediaSourceError("Error creating "+d+" source buffer.")}else s.mediaSourceError("Error creating "+d+" source buffer.")}},getType:function(){return d},getStreamProcessor:function(){return h},setSeekStartTime:function(){},getBuffer:function(){return _},getBufferLevel:function(){return 0},setMediaSource:j,getMediaSource:function(){return m},getIsBufferingCompleted:function(){return g},getIsPruningInProgress:function(){return!1},dischargePreBuffer:function(){},switchInitData:function(e,t){var r=T.extract(e,t);r?_.append(r):n.trigger(a.default.INIT_REQUESTED,{sender:p})},getRangeAt:function(){return null},reset:function(e){n.off(a.default.DATA_UPDATE_COMPLETED,x,p),n.off(a.default.INIT_FRAGMENT_LOADED,y,p),!e&&_&&(_.abort(),_.reset(),_=null)}},v=!1,m=null,null,g=!1,n.on(a.default.DATA_UPDATE_COMPLETED,x,p),n.on(a.default.INIT_FRAGMENT_LOADED,y,p),p}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(99)),o=d(t(46)),a=d(t(50)),s=d(t(47)),l=d(t(201)),u=d(t(95)),c=d(t(189)),f="NotFragmentedTextBufferController";e.__dashjs_factory_name=f,r.default=s.default.getClassFactory(e),n.exports=r.default},{189:189,201:201,46:46,47:47,50:50,95:95,99:99}],188:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){e=e||{};var t,n=this.context,r=void 0;return t={getBufferControllerType:function(){return r.getBufferControllerType()},initialize:function(e,t){return r.initialize(e,t)},createBuffer:function(e){return r.createBuffer(e)},getType:function(){return r.getType()},getStreamProcessor:function(){r.getStreamProcessor()},setSeekStartTime:function(e){r.setSeekStartTime(e)},getBuffer:function(){return r.getBuffer()},setBuffer:function(e){r.setBuffer(e)},getBufferLevel:function(){return r.getBufferLevel()},setMediaSource:function(e){r.setMediaSource(e)},getMediaSource:function(){return r.getMediaSource()},getIsBufferingCompleted:function(){return r.getIsBufferingCompleted()},getIsPruningInProgress:function(){return r.getIsPruningInProgress()},dischargePreBuffer:function(){return r.dischargePreBuffer()},switchInitData:function(e,t){r.switchInitData(e,t)},getRangeAt:function(e){return r.getRangeAt(e)},reset:function(e){r.reset(e)}},r=e.type===i.default.FRAGMENTED_TEXT?(0,a.default)(n).create({type:e.type,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,manifestModel:e.manifestModel,errHandler:e.errHandler,streamController:e.streamController,mediaController:e.mediaController,adapter:e.adapter,textController:e.textController,abrController:e.abrController,playbackController:e.playbackController,streamProcessor:e.streamProcessor}):(0,s.default)(n).create({type:e.type,errHandler:e.errHandler,streamProcessor:e.streamProcessor}),t}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(99)),o=d(t(47)),a=d(t(105)),s=d(t(187));e.__dashjs_factory_name="TextBufferController",r.default=o.default.getClassFactory(e),n.exports=r.default},{105:105,187:187,47:47,99:99}],189:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function i(e){var t=this,n=e.tracks,r=e.index;n.some(function(e,n){if(e.lang===b)return t.setTextTrack(n),r=n,!0}),S||this.setTextTrack(-1),A=r,E.trigger(h.default.TEXT_TRACKS_ADDED,{enabled:p(),index:r,tracks:n})}function p(){var e=!0;return C&&!I&&(e=!1),e}function w(){C=!1}var e=this.context,t=void 0,n=void 0,r=void 0,a=void 0,d=void 0,g=void 0,y=void 0,v=void 0,m=void 0,_=void 0,T=void 0,E=void 0,b=void 0,A=void 0,S=void 0,C=void 0,I=void 0;return t={setConfig:function(e){e&&(e.errHandler&&(r=e.errHandler),e.dashManifestModel&&(a=e.dashManifestModel),e.manifestModel&&(d=e.manifestModel),e.mediaController&&(g=e.mediaController),e.videoModel&&(y=e.videoModel),e.streamController&&(v=e.streamController),e.textTracks&&(m=e.textTracks),e.vttParser&&(_=e.vttParser),e.ttmlParser&&(T=e.ttmlParser),n.setConfig({errHandler:r,dashManifestModel:a,manifestModel:d,mediaController:g,videoModel:y,streamController:v,textTracks:m,vttParser:_,ttmlParser:T}))},getTextSourceBuffer:function(){return n},getAllTracksAreDisabled:function(){return C},addEmbeddedTrack:function(e){n.addEmbeddedTrack(e)},getTextDefaultLanguage:function(){return b},setTextDefaultLanguage:function(e){"string"==typeof e&&(b=e)},setTextDefaultEnabled:function(e){"boolean"==typeof e&&(S=e)},getTextDefaultEnabled:function(){return S},enableText:function(e){"boolean"==typeof e&&p()!==e&&(e&&this.setTextTrack(A),e||(A=this.getCurrentTrackIdx(),this.setTextTrack(-1)))},isTextEnabled:p,setTextTrack:function(e){var t=n.getConfig(),r=t.fragmentModel,i=t.fragmentedTracks,a=m.getCurrentTrackIdx();if(a!==e){m.setModeForTrackIdx(a,o.default.TEXT_HIDDEN),m.setCurrentTrackIdx(e),m.setModeForTrackIdx(e,o.default.TEXT_SHOWING);var s=m.getCurrentTrackInfo();if(s&&s.isFragmented&&!s.isEmbedded)for(var l=0;l<i.length;l++){var u=i[l];s.lang!==u.lang||s.index!==u.index||s.label&&s.label!==u.id||u!==g.getCurrentTrackFor(o.default.FRAGMENTED_TEXT,v.getActiveStreamInfo())&&(r.abortRequests(),r.removeExecutedRequestsBeforeTime(),n.remove(),m.deleteCuesFromTrackIdx(a),g.setTrack(u),n.setCurrentFragmentedTrackIdx(l))}}C=-1===e},getCurrentTrackIdx:function(){return m.getCurrentTrackIdx()},enableForcedTextStreaming:function(e){"boolean"==typeof e&&(I=e)},reset:function(){w(),n.resetEmbedded()}},b="",A=-1,S=!0,I=!1,m=(0,l.default)(e).getInstance(),_=(0,u.default)(e).getInstance(),T=(0,c.default)(e).getInstance(),n=(0,s.default)(e).getInstance(),E=(0,f.default)(e).getInstance(),m.initialize(),E.on(h.default.TEXT_TRACKS_QUEUE_INITIALIZED,i,t),w(),t}Object.defineProperty(r,"__esModule",{value:!0});var o=d(t(99)),a=d(t(47)),s=d(t(190)),l=d(t(191)),u=d(t(208)),c=d(t(206)),f=d(t(46)),h=d(t(50));e.__dashjs_factory_name="TextController",r.default=a.default.getSingletonFactory(e),n.exports=r.default},{190:190,191:191,206:206,208:208,46:46,47:47,50:50,99:99}],190:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function c(e){var t=e.chunk;t.mediaInfo.embeddedCaptions&&o(t.bytes,t)}function d(){V=[],R=[],(P=(0,y.default)(e).getInstance()).setConfig({videoModel:F}),P.initialize(),p=(0,f.default)(e).getInstance(),(O=(0,u.default)(e).getInstance()).setConfig({boxParser:p}),D=!1,U=null,!1,H=0,K=[],Y=[],G=null,r=!0,z=(0,v.default)(e).getInstance();var t=j.getActiveStreamProcessors();for(var i in t)if("video"===t[i].getType()){W=t[i].getCurrentRepresentationInfo().MSETimeOffset;break}n.on(E.default.VIDEO_CHUNK_RECEIVED,c,this)}function o(e,n){function c(e,t){var n=new l.default,r={subtitle:"subtitles",caption:"captions"};n.captionData=e,n.lang=t.lang,n.label=t.id,n.index=t.index,n.isTTML=function(){var e=!1;return t.codec&&t.codec.search(i.default.STPP)>=0&&(e=!0),t.mimeType&&t.mimeType.search(i.default.TTML)>=0&&(e=!0),e}(),n.defaultTrack=function(e){var t=!1;return V.length>1&&e.isEmbedded?t=e.id&&e.id===i.default.CC1:1===V.length?e.id&&"CC"===e.id.substring(0,2)&&(t=!0):0===V.length&&(t=e.index===R[0].index),t}(t),n.isFragmented=D,n.isEmbedded=!!t.isEmbedded,n.kind=function(){var e=t.roles.length>0?r[t.roles[0]]:r.caption;return e===r.caption||e===r.subtitle?e:r.caption}(),n.roles=t.roles;var o=(R?R.length:0)+V.length;P.addTextTrack(n,o)}var r=void 0,o=void 0,u=void 0,d=void 0,f=void 0,h=void 0,p=void 0,g=n.mediaInfo,y=g.type,v=g.mimeType,T=g.codec||v;if(T){if(y===i.default.FRAGMENTED_TEXT)if(x)if(o=(h=O.getSamplesInfo(e)).sampleList,!B&&o.length>0&&(B=o[0].cts-n.start*k),T.search(i.default.STPP)>=0)for(C=null!==C?C:s(T),u=0;u<o.length;u++){var E=(Q=o[u]).cts,A=E-B;this.buffered.add(A/k,(A+Q.duration)/k);var w=new DataView(e,Q.offset,Q.subSizes[0]);p=m.default.Utils.dataViewToString(w,i.default.UTF8);var I=[],M=Q.offset+Q.subSizes[0];for(d=1;d<Q.subSizes.length;d++){var L=new Uint8Array(e,M,Q.subSizes[d]),j=String.fromCharCode.apply(null,L);I.push(j),M+=Q.subSizes[d]}try{var W=S.getValue().ttmlTimeIsRelative?E/k:0;r=C.parse(p,W,E/k,(E+Q.duration)/k,I),P.addCaptions(U,B/k,r)}catch(e){N.removeExecutedRequestsBeforeTime(),this.remove(),t("TTML parser error: "+e.message)}}else{var X=[];for(u=0;u<o.length;u++){var Q;(Q=o[u]).cts-=B,this.buffered.add(Q.cts/k,(Q.cts+Q.duration)/k);var J=e.slice(Q.offset,Q.offset+Q.size),$=m.default.parseBuffer(J);for(d=0;d<$.boxes.length;d++){var Z=$.boxes[d];if(t("VTT box1: "+Z.type),"vtte"!==Z.type&&"vttc"===Z.type)for(t("VTT vttc boxes.length = "+Z.boxes.length),f=0;f<Z.boxes.length;f++){var ee=Z.boxes[f];if(t("VTT box2: "+ee.type),"payl"===ee.type){var te=ee.cue_text;t("VTT cue_text = "+te);var ne=Q.cts/k,re=(Q.cts+Q.duration)/k;X.push({start:ne,end:re,data:te,styles:{}}),t("VTT "+ne+"-"+re+" : "+te)}}}}X.length>0&&P.addCaptions(U,0,X)}else{for(x=!0,u=0;u<R.length;u++)c(null,R[u]);k=O.getMediaTimescaleFromMoov(e)}else if(y===i.default.TEXT){w=new DataView(e,0,e.byteLength);p=m.default.Utils.dataViewToString(w,i.default.UTF8);try{c(r=s(T).parse(p,0),g)}catch(e){b.timedTextError(e,"parse",p)}}else if(y===i.default.VIDEO)if(n.segmentType===a.HTTPRequest.INIT_SEGMENT_TYPE){if(0===H)for(H=O.getMediaTimescaleFromMoov(e),u=0;u<V.length;u++)c(null,V[u])}else{if(0===H)return void t("CEA-608: No timescale for embeddedTextTrack yet");var ie=function(e,t){return function(e,n,r){var i=null;(i=F.getTTMLRenderingDiv()?z.createHTMLCaptionsFromScreen(F.getElement(),e,n,r):[{start:e,end:n,data:r.getDisplayText(),styles:{}}])&&P.addCaptions(t,0,i)}},oe=(h=O.getSamplesInfo(e)).lastSequenceNumber;if(!K[0]&&!K[1]){var ae=void 0,se=void 0;for(u=0;u<V.length;u++){if(V[u].id===i.default.CC1?se=P.getTrackIdxForId(i.default.CC1):V[u].id===i.default.CC3&&(se=P.getTrackIdxForId(i.default.CC3)),-1===se)return void t("CEA-608: data before track is ready.");ae=ie(0,se),K[u]=new _.default.Cea608Parser(u,{newCue:ae},null)}}if(H&&-1==Y.indexOf(oe)){if(null!==G&&oe!==G+h.numSequences)for(u=0;u<K.length;u++)K[u]&&K[u].reset();for(var le=q(e,h.sampleList),ue=0;ue<K.length;ue++){var de=le.fields[ue],ce=K[ue];if(ce)for(u=0;u<de.length;u++)ce.addData(de[u][0]/H,de[u][1])}G=oe,Y.push(oe)}}}else t("No text type defined")}function q(e,t){if(0===t.length)return null;for(var n={splits:[],fields:[[],[]]},r=new DataView(e),i=0;i<t.length;i++)for(var o=t[i],a=_.default.findCea608Nalus(r,o.offset,o.size),s=null,l=0,u=0;u<a.length;u++)for(var d=_.default.extractCea608DataFromRange(r,a[u]),c=0;c<2;c++)d[c].length>0&&(o.cts!==s?l=0:l+=1,n.fields[c].push([o.cts+W*H,d[c],l]),s=o.cts);return n.fields.forEach(function(e){e.sort(function(e,t){return e[0]===t[0]?e[2]-t[2]:e[0]-t[0]})}),n}function s(e){var t=void 0;return e.search(i.default.VTT)>=0?t=I:(e.search(i.default.TTML)>=0||e.search(i.default.STPP)>=0)&&(t=M),t}var e=this.context,t=(0,g.default)(e).getInstance().log,n=(0,T.default)(e).getInstance(),r=!1,p=void 0,b=void 0,A=void 0,S=void 0,w=void 0,C=void 0,I=void 0,M=void 0,O=void 0,R=void 0,P=void 0,D=void 0,N=void 0,x=void 0,k=void 0,L=void 0,F=void 0,j=void 0,B=void 0,U=void 0,V=void 0,H=void 0,G=void 0,Y=void 0,K=void 0,z=void 0,W=void 0;return{initialize:function(t,n){if(C=null,N=null,x=!1,k=NaN,L=[],B=null,r||d(),R=n.getMediaInfoArr(),P.setConfig({videoModel:F}),P.initialize(),D=!A.getIsTextTrack(t),p=(0,f.default)(e).getInstance(),(O=(0,u.default)(e).getInstance()).setConfig({boxParser:p}),D){N=n.getFragmentModel(),this.buffered=(0,h.default)(e).create(),L=w.getTracksFor(i.default.FRAGMENTED_TEXT,j.getActiveStreamInfo());for(var o=w.getCurrentTrackFor(i.default.FRAGMENTED_TEXT,j.getActiveStreamInfo()),a=0;a<L.length;a++)if(L[a]===o){U=a;break}}},append:o,abort:function(){P.deleteAllTextTracks(),C=null,O=null,R=null,P=null,D=!1,N=null,x=!1,k=NaN,L=[],F=null,j=null,r=!1,V=null},addEmbeddedTrack:function(e){if(r||d(),e.id===i.default.CC1||e.id===i.default.CC3){for(var n=0;n<V.length;n++)if(V[n].id===e.id)return;V.push(e)}else t("Warning: Embedded track "+e.id+" not supported!")},resetEmbedded:function(){n.off(E.default.VIDEO_CHUNK_RECEIVED,c,this),P&&P.deleteAllTextTracks(),r=!1,V=[],K=[null,null],Y=[],G=null},setConfig:function(e){e&&(e.errHandler&&(b=e.errHandler),e.dashManifestModel&&(A=e.dashManifestModel),e.manifestModel&&(S=e.manifestModel),e.mediaController&&(w=e.mediaController),e.videoModel&&(F=e.videoModel),e.streamController&&(j=e.streamController),e.textTracks&&(P=e.textTracks),e.vttParser&&(I=e.vttParser),e.ttmlParser&&(M=e.ttmlParser))},getConfig:function(){return{errHandler:b,dashManifestModel:A,mediaController:w,videoModel:F,fragmentModel:N,streamController:j,textTracks:P,isFragmented:D,embeddedTracks:V,fragmentedTracks:L}},setCurrentFragmentedTrackIdx:function(e){U=e},remove:function(e,t){void 0===e&&e===t&&(e=this.buffered.start(0),t=this.buffered.end(this.buffered.length-1)),this.buffered.remove(e,t)}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(99)),a=t(232),l=d(t(224)),u=d(t(71)),f=d(t(195)),h=d(t(197)),p=d(t(47)),g=d(t(45)),y=d(t(191)),v=d(t(186)),m=d(t(10)),_=d(t(2)),T=d(t(46)),E=d(t(50));e.__dashjs_factory_name="TextSourceBuffer",r.default=p.default.getSingletonFactory(e),n.exports=r.default},{10:10,186:186,191:191,195:195,197:197,2:2,224:224,232:232,45:45,46:46,47:47,50:50,71:71,99:99}],191:[function(n,i,o){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function b(e){var t=d[e].kind,n=void 0!==d[e].label?d[e].label:d[e].lang,r=d[e].lang,i=d[e].isTTML,o=d[e].isEmbedded,a=u.addTextTrack(t,n,r);return a.isEmbedded=o,a.isTTML=i,a}function f(e,t){var n=u.getClientWidth(),r=u.getClientHeight(),i=u.getVideoWidth(),o=u.getVideoHeight(),a=u.getVideoRelativeOffsetTop(),s=u.getVideoRelativeOffsetLeft(),l=i/o,d=!1;e.isFromCEA608&&(l=3.5/3,d=!0);var c=function(e,t,n,r,i,o){var a=0,s=0;e/t>n/r?a=(s=t)/r*n:s=(a=e)/n*r;var l,u,d=0,c=0;return a/s>i?(c=s,d=s*i):(d=a,c=a/i),l=(e-d)/2,u=(t-c)/2,o?{x:l+.1*d,y:u+.1*c,w:.8*d,h:.8*c}:{x:l,y:u,w:d,h:c}}.call(this,n,r,i,o,l,d),f=c.w,h=c.h,p=c.x,g=c.y;if(f!=T||h!=E||p!=v||g!=_||t){v=p+s,_=g+a,T=f,E=h,A.style.left=v+"px",A.style.top=_+"px",A.style.width=T+"px",A.style.height=E+"px";for(var y=0;e.activeCues&&y<e.activeCues.length;++y){var m=e.activeCues[y];m.scaleCue(m)}C&&document[C]||I?A.style.zIndex=O:A.style.zIndex=null}}function h(e){var t=T,n=E,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;if(e.cellResolution){var l=[t/e.cellResolution[0],n/e.cellResolution[1]];if(e.linePadding)for(r in e.linePadding)if(e.linePadding.hasOwnProperty(r)){i=(e.linePadding[r]*l[0]).toString();for(var u=document.getElementsByClassName("spanPadding"),d=0;d<u.length;d++)u[d].style.cssText=u[d].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i),u[d].style.cssText=u[d].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}if(e.fontSize){for(r in e.fontSize)if(e.fontSize.hasOwnProperty(r)){"%"===e.fontSize[r][0]?o=e.fontSize[r][1]/100:"c"===e.fontSize[r][0]&&(o=e.fontSize[r][1]),i=(o*l[1]).toString(),s="defaultFontSize"!==r?document.getElementsByClassName(r):document.getElementsByClassName("paragraph");for(var c=0;c<s.length;c++)s[c].style.cssText=s[c].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}if(e.lineHeight)for(r in e.lineHeight)if(e.lineHeight.hasOwnProperty(r)){"%"===e.lineHeight[r][0]?a=e.lineHeight[r][1]/100:"c"===e.fontSize[r][0]&&(a=e.lineHeight[r][1]),i=(a*l[1]).toString(),s=document.getElementsByClassName(r);for(var f=0;f<s.length;f++)s[f].style.cssText=s[f].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}}}if(e.isd){var h=document.getElementById(e.cueID);h&&A.removeChild(h),j(e)}}function j(e){var t=document.createElement("div");A.appendChild(t),M=(0,p.renderHTML)(e.isd,t,function(t){var n=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,r=/^#(.*)$/;if(n.test(t)){var i=n.exec(t),o=parseInt(i[4],10)-1;return"data:image/png;base64,"+btoa(e.images[o])}if(r.test(t)){o=(i=r.exec(t))[1];return"data:image/png;base64,"+e.embeddedImages[o]}return null},A.clientHeight,A.clientWidth,!1,function(e){i("[TextTracks][renderCaption]",e)},M,!0),t.id=e.cueID}function m(e){return e>=0&&d[e]?u.getTextTrack(d[e].kind,d[e].label,d[e].lang,d[e].isTTML,d[e].isEmbedded):null}function r(e){if(e!==y){var t=m(y=e);(function(e){z.call(this),e&&"html"===e.renderingType?function(){if(w){var e=document.getElementById("native-cue-style");if(!e){(e=document.createElement("style")).id="native-cue-style",document.head.appendChild(e);var t=e.sheet,n=u.getElement();n&&(n.id?t.insertRule("#"+n.id+"::cue {background: transparent}",0):0!==n.classList.length?t.insertRule("."+n.className+"::cue {background: transparent}",0):t.insertRule("video::cue {background: transparent}",0))}}}.call(this):function(){if(w){var e=document.getElementById("native-cue-style");e&&document.head.removeChild(e)}}.call(this)}).call(this,t),S&&(clearInterval(S),S=null),t&&"html"===t.renderingType&&(f.call(this,t,!0),S=setInterval(f.bind(this,t),500))}}function t(e){if(e.cues)for(var t=e.cues,n=t.length-1;n>=0;n--)e.removeCue(t[n])}function z(){if(A)for(;A.firstChild;)A.removeChild(A.firstChild)}var e=this.context,n=(0,s.default)(e).getInstance(),i=(0,c.default)(e).getInstance().log,o=void 0,u=void 0,d=void 0,g=void 0,y=void 0,v=void 0,_=void 0,T=void 0,E=void 0,A=void 0,S=void 0,w=void 0,C=void 0,I=void 0,M=void 0,O=void 0;return{initialize:function(){"undefined"!=typeof window&&"undefined"!=typeof navigator&&(o=window.VTTCue||window.TextTrackCue,d=[],g=[],y=-1,v=0,_=0,T=0,E=0,A=null,S=null,I=!1,O=2147483647,M=null,w=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),void 0!==document.fullscreenElement?C="fullscreenElement":void 0!==document.webkitIsFullScreen?C="webkitIsFullScreen":document.msFullscreenElement?C="msFullscreenElement":document.mozFullScreen&&(C="mozFullScreen"))},displayCConTop:function(e){I=e,A&&!document[C]&&(A.style.zIndex=e?O:null)},addTextTrack:function(e,t){if(d.length!==t){if(d.push(e),d.length===t){d.sort(function(e,t){return e.index-t.index}),A=u.getTTMLRenderingDiv();for(var o=-1,s=0;s<d.length;s++){var c=b.call(this,s);g.push(c),d[s].defaultTrack&&(c.default=!0,o=s);var f=m(s);f&&(f.mode=a.default.TEXT_SHOWING,A&&(d[s].isTTML||d[s].isEmbedded)?f.renderingType="html":f.renderingType="default"),this.addCaptions(s,0,d[s].captionData),n.trigger(l.default.TEXT_TRACK_ADDED)}if(r.call(this,o),o>=0)for(var h=0;h<d.length;h++){var p=m(h);p&&(p.mode=h===o?a.default.TEXT_SHOWING:a.default.TEXT_HIDDEN)}n.trigger(l.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:y,tracks:d})}}else i("Trying to add too many tracks.")},addCaptions:function(e,n,r){var s=m(e),l=this;if(s&&r&&0!==r.length)for(var u=0;u<r.length;u++){var d=void 0,c=r[u];s.cellResolution=c.cellResolution,s.isFromCEA608=c.isFromCEA608,"html"===c.type?((d=new o(c.start-n,c.end-n,"")).cueHTMLElement=c.cueHTMLElement,d.isd=c.isd,d.images=c.images,d.embeddedImages=c.embeddedImages,d.cueID=c.cueID,d.scaleCue=h.bind(l),d.cellResolution=c.cellResolution,d.lineHeight=c.lineHeight,d.linePadding=c.linePadding,d.fontSize=c.fontSize,A.style.left=v+"px",A.style.top=_+"px",A.style.width=T+"px",A.style.height=E+"px",d.onenter=function(){s.mode===a.default.TEXT_SHOWING&&(this.isd?(j(this),i("Cue enter id:"+this.cueID)):(A.appendChild(this.cueHTMLElement),h.call(l,this)))},d.onexit=function(){for(var e=A.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&(i("Cue exit id:"+e[t].id),A.removeChild(e[t]))}):(d=new o(c.start-n,c.end-n,c.data),c.styles&&(void 0!==c.styles.align&&"align"in d&&(d.align=c.styles.align),void 0!==c.styles.line&&"line"in d&&(d.line=c.styles.line),void 0!==c.styles.position&&"position"in d&&(d.position=c.styles.position),void 0!==c.styles.size&&"size"in d&&(d.size=c.styles.size)));try{s.addCue(d)}catch(e){throw t(s),s.addCue(d),e}}},getCurrentTrackIdx:function(){return y},setCurrentTrackIdx:r,getTrackIdxForId:function(e){for(var t=-1,n=0;n<d.length;n++)if(d[n].label===e){t=n;break}return t},getCurrentTrackInfo:function(){return d[y]},setModeForTrackIdx:function(e,t){var n=m(e);n&&n.mode!==t&&(n.mode=t)},deleteCuesFromTrackIdx:function(e){var n=m(e);n&&t(n)},deleteAllTextTracks:function(){for(var e=g?g.length:0,n=0;n<e;n++){var r=m(n);r&&(t.call(this,r),r.mode="disabled")}g=[],d=[],S&&(clearInterval(S),S=null),y=-1,z.call(this)},deleteTextTrack:function(e){u.removeChild(g[e]),g.splice(e,1)},setConfig:function(e){e&&e.videoModel&&(u=e.videoModel)}}}Object.defineProperty(o,"__esModule",{value:!0});var a=d(n(99)),s=d(n(46)),l=d(n(50)),u=d(n(47)),c=d(n(45)),p=n(18);e.__dashjs_factory_name="TextTracks",o.default=u.default.getSingletonFactory(e),i.exports=o.default},{18:18,45:45,46:46,47:47,50:50,99:99}],192:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function h(){r&&r.reset()}var t,n=this.context,r=void 0;return t={get:function(e){var t=r.getCurrentTrack();if(!t||t.segmentDuration<=0)return null;var n=Math.floor(e/t.segmentDuration),i=e%t.segmentDuration,o=Math.floor(i*t.tilesHor*t.tilesVert/t.segmentDuration),s=new a.default;return s.url=function(e,t){var n=t+e.startNumber,r=(0,u.replaceTokenForTemplate)(e.templateUrl,"Number",n);return r=(0,u.replaceTokenForTemplate)(r,"Time",(n-1)*e.segmentDuration),r=(0,u.replaceTokenForTemplate)(r,"Bandwidth",e.bandwidth),(0,u.unescapeDollarsInTemplate)(r)}(t,n),s.width=Math.floor(t.widthPerTile),s.height=Math.floor(t.heightPerTile),s.x=Math.floor(o%t.tilesHor)*t.widthPerTile,s.y=Math.floor(o/t.tilesHor)*t.heightPerTile,s},setTrackByIndex:function(e){r.setTrackByIndex(e)},getCurrentTrackIndex:function(){return r.getCurrentTrackIndex()},getBitrateList:function(){var e=r.getTracks();if(!e||0===e.length)return[];var t=0;return e.map(function(e){var n=new l.default;return n.mediaType=o.default.IMAGE,n.qualityIndex=t++,n.bitrate=e.bitrate,n.width=e.width,n.height=e.height,n})},reset:h},h(),r=(0,s.default)(n).create({dashManifestModel:e.dashManifestModel,adapter:e.adapter,baseURLController:e.baseURLController,stream:e.stream}),t}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(47)),o=d(t(99)),a=d(t(225)),s=d(t(193)),l=d(t(211)),u=t(75);e.__dashjs_factory_name="ThumbnailController",r.default=i.default.getClassFactory(e),n.exports=r.default},{193:193,211:211,225:225,47:47,75:75,99:99}],193:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(e){function b(){l(),function(){if(p&&r&&a){var e=p?p.getStreamInfo():null;if(e){var t=a.getMediaInfoForType(e,i.default.IMAGE);if(t){var n=a.getDataForMedia(t);if(n){var s=r.getRepresentationsForAdaptation(n);s&&s.length>0&&s.forEach(function(e){e.segmentInfoType===o.default.SEGMENT_TEMPLATE&&e.segmentDuration>0&&e.media&&d(e)}),y.length>0&&(y.sort(function(e,t){return e.bitrate-t.bitrate}),v=y.length-1)}}}}}()}function d(e){var t=new s.default;t.id=e.id,t.bitrate=e.bandwidth,t.width=e.width,t.height=e.height,t.tilesHor=1,t.tilesVert=1,t.startNumber=e.startNumber,t.segmentDuration=e.segmentDuration,t.timescale=e.timescale,t.templateUrl=function(e){var t=g.isRelative(e.media)?g.resolve(e.media,h.resolve(e.path).url):e.media;return t?(0,c.replaceIDForTemplate)(t,e.id):""}(e),e.essentialProperties&&e.essentialProperties.forEach(function(e){if(e.schemeIdUri===f&&e.value){var n=e.value.split("x");2!==n.length||isNaN(n[0])||isNaN(n[1])||(t.tilesHor=parseInt(n[0],10),t.tilesVert=parseInt(n[1],10))}}),t.tilesHor>0&&t.tilesVert>0&&(t.widthPerTile=t.width/t.tilesHor,t.heightPerTile=t.height/t.tilesVert,y.push(t))}function l(){y=[],v=-1}var t,n=this.context,r=e.dashManifestModel,a=e.adapter,h=e.baseURLController,p=e.stream,g=(0,u.default)(n).getInstance(),y=void 0,v=void 0;return t={initialize:b,getTracks:function(){return y},reset:l,setTrackByIndex:function(e){y&&0!==y.length&&(e>=y.length&&(e=y.length-1),v=e)},getCurrentTrack:function(){return v<0?null:y[v]},getCurrentTrackIndex:function(){return v}},b(),t}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(99)),o=d(t(57)),a=d(t(47)),s=d(t(226)),u=d(t(207)),c=t(75),f="http://dashif.org/thumbnail_tile";e.__dashjs_factory_name="ThumbnailTracks",r.default=a.default.getClassFactory(e),n.exports=r.default},{207:207,226:226,47:47,57:57,75:75,99:99}],194:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function f(){u.reset()}var e,t=this.context,n=(0,i.default)(t).getInstance(),r=void 0,u=void 0,d=void 0,p=void 0,g=void 0;return e={chooseSelectorFromManifest:function(e){(function(){if(!r||!r.hasOwnProperty("getIsDVB"))throw new Error("Missing config parameter(s)")})(),g=r.getIsDVB(e)?p:d},select:function(e){var t=e.baseUrls,r=e.selectedIdx;if(!isNaN(r))return t[r];var i=g.select(t);return i?(e.selectedIdx=t.indexOf(i),i):(n.trigger(o.default.URL_RESOLUTION_FAILED,{error:new Error(c,h)}),void(g===d&&f()))},reset:f,setConfig:function(e){e.selector&&(g=e.selector),e.dashManifestModel&&(r=e.dashManifestModel)}},u=(0,a.default)(t).create({updateEventName:o.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:o.default.SERVICE_LOCATION_BLACKLIST_ADD}),d=(0,l.default)(t).create({blacklistController:u}),p=(0,s.default)(t).create({blacklistController:u}),g=d,e}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(46)),o=d(t(50)),a=d(t(104)),s=d(t(210)),l=d(t(209)),u=d(t(47)),c=1,h="Failed to resolve a valid URL";e.__dashjs_factory_name="BaseURLSelector";var p=u.default.getClassFactory(e);p.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=c,p.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=h,u.default.updateClassFactory(e.__dashjs_factory_name,p),r.default=p,n.exports=r.default},{104:104,209:209,210:210,46:46,47:47,50:50}],195:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function c(e,t){return e[t+3]>>>0|e[t+2]<<8>>>0|e[t+1]<<16>>>0|e[t]<<24>>>0}function d(e,t){return String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t])}var e=this.context;return{parse:function(t){if(!t)return null;void 0===t.fileStart&&(t.fileStart=0);var n=a.default.parseBuffer(t),r=(0,i.default)(e).create();return r.setData(n),r},findLastTopIsoBoxCompleted:function(e,t,n){if(void 0===n&&(n=0),!t||n+8>=t.byteLength)return new s.default(0,!1);for(var r=t instanceof ArrayBuffer?new Uint8Array(t):t,i=void 0,o=0;n<r.byteLength;){var a=c(r,n),l=d(r,n+4);if(0===a)break;n+a<=r.byteLength&&(e.indexOf(l)>=0?i=new s.default(n,!0,a):o=n+a),n+=a}return i||new s.default(o,!1)}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(202)),o=d(t(47)),a=d(t(10)),s=d(t(217));e.__dashjs_factory_name="BoxParser",r.default=o.default.getSingletonFactory(e),n.exports=r.default},{10:10,202:202,217:217,47:47}],196:[function(t,n,r){"use strict";function e(){var e,t=void 0;return e={supportsMediaSource:function(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return e||t},supportsEncryptedMedia:function(){return t},supportsCodec:function(e){return!!("MediaSource"in window&&MediaSource.isTypeSupported(e))||!!("WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(e))},setEncryptedMediaSupported:function(e){t=e}},t=!1,e}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47));e.__dashjs_factory_name="Capabilities",r.default=i.default.getSingletonFactory(e),n.exports=r.default},{47:47}],197:[function(t,n,r){"use strict";function e(){function e(e){if(null===e||isNaN(e)||e%1!=0)throw new Error("index argument is not an integer")}return{customTimeRangeArray:[],length:0,add:function(e,t){var n=0;for(n=0;n<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[n].start;n++);for(this.customTimeRangeArray.splice(n,0,{start:e,end:t}),n=0;n<this.customTimeRangeArray.length-1;n++)this.mergeRanges(n,n+1)&&n--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(e,t){for(var n=0;n<this.customTimeRangeArray.length;n++)if(e<=this.customTimeRangeArray[n].start&&t>=this.customTimeRangeArray[n].end)this.customTimeRangeArray.splice(n,1),n--;else{if(e>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end){this.customTimeRangeArray.splice(n+1,0,{start:t,end:this.customTimeRangeArray[n].end}),this.customTimeRangeArray[n].end=e;break}e>this.customTimeRangeArray[n].start&&e<this.customTimeRangeArray[n].end?this.customTimeRangeArray[n].end=e:t>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end&&(this.customTimeRangeArray[n].start=t)}this.length=this.customTimeRangeArray.length},mergeRanges:function(e,t){var n=this.customTimeRangeArray[e],r=this.customTimeRangeArray[t];return n.start<=r.start&&r.start<=n.end&&n.end<=r.end?(n.end=r.end,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&r.end<=n.end?(n.start=r.start,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&n.end<=r.end?(this.customTimeRangeArray.splice(e,1),!0):n.start<=r.start&&r.start<=n.end&&r.end<=n.end&&(this.customTimeRangeArray.splice(t,1),!0)},start:function(t){return e(t),t>=this.customTimeRangeArray.length||t<0?NaN:this.customTimeRangeArray[t].start},end:function(t){return e(t),t>=this.customTimeRangeArray.length||t<0?NaN:this.customTimeRangeArray[t].end}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47));e.__dashjs_factory_name="CustomTimeRanges",r.default=i.default.getClassFactory(e),n.exports=r.default},{47:47}],198:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(t){function b(e){if(void 0!==y)return y;y=!1;var t=void 0;try{"undefined"!=typeof window&&(t=window[e])}catch(e){return i("Warning: DOMStorage access denied: "+e.message),y}if(!t||e!==u&&e!==c)return y;try{t.setItem("1","1"),t.removeItem("1"),y=!0}catch(e){i("Warning: DOMStorage is supported, but cannot be used: "+e.message)}return y}function e(){return 6e5*Math.round((new Date).getTime()/6e5)}function f(e,t){return b(e)&&d["get"+t+"CachingInfo"]().enabled}function g(){if(!d||!d.hasOwnProperty("getLastMediaSettingsCachingInfo"))throw new Error("Missing config parameter(s)")}t=t||{};var n,r=this.context,i=(0,o.default)(r).getInstance().log,d=t.mediaPlayerModel,y=void 0;return n={getSavedBitrateSettings:function(e){var t=NaN;if(g(),f(u,h)){var n=s.replace(/\?/,e);try{var r=JSON.parse(localStorage.getItem(n))||{},o=(new Date).getTime()-parseInt(r.timestamp,10)>=d.getLastMediaSettingsCachingInfo().ttl||!1,a=parseFloat(r.bitrate);isNaN(a)||o?o&&localStorage.removeItem(n):(t=a,i("Last saved bitrate for "+e+" was "+a))}catch(e){return null}}return t},setSavedBitrateSettings:function(t,n){if(f(u,h)&&n){var r=s.replace(/\?/,t);try{localStorage.setItem(r,JSON.stringify({bitrate:n.toFixed(3),timestamp:e()}))}catch(e){i(e.message)}}},getSavedMediaSettings:function(e){if(g(),!f(u,p))return null;var t=null,n=l.replace(/\?/,e);try{var r=JSON.parse(localStorage.getItem(n))||{},i=(new Date).getTime()-parseInt(r.timestamp,10)>=d.getLastMediaSettingsCachingInfo().ttl||!1;t=r.settings,i&&(localStorage.removeItem(n),t=null)}catch(e){return null}return t},setSavedMediaSettings:function(t,n){if(f(u,p)){var r=l.replace(/\?/,t);try{localStorage.setItem(r,JSON.stringify({settings:n,timestamp:e()}))}catch(e){i(e.message)}}}},b(u)&&a.forEach(function(e){var t=localStorage.getItem(e.oldKey);if(t){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,t)}catch(e){i(e.message)}}}),n}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(47)),o=d(t(45)),a=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],s="dashjs_?_bitrate",l="dashjs_?_settings",u="localStorage",c="sessionStorage",h="LastBitrate",p="LastMediaSettings";e.__dashjs_factory_name="DOMStorage";var y=i.default.getSingletonFactory(e);r.default=y,n.exports=r.default},{45:45,47:47}],199:[function(t,n,r){"use strict";function e(e){function d(e,t){var i=!0,o=0;if(void 0===t&&(t=!1),e.tag>16777215?(n.getUint32(r)!==e.tag&&(i=!1),o=4):e.tag>65535?(256*n.getUint16(r)+n.getUint8(r+2)!==e.tag&&(i=!1),o=3):e.tag>255?(n.getUint16(r)!==e.tag&&(i=!1),o=2):(n.getUint8(r)!==e.tag&&(i=!1),o=1),!i&&e.required&&!t)throw new Error("required tag not found");return i&&(r+=o),i}function h(e){var t=1,i=128,o=-1,a=0,s=n.getUint8(r),l=0;for(l=0;l<8;l+=1){if((s&i)===i){a=void 0===e?s&~i:s,o=l;break}i>>=1}for(l=0;l<o;l+=1,t+=1)a=a<<8|255&n.getUint8(r+t);return r+=t,a}e=e||{};var t=void 0,n=new DataView(e.data),r=0;return t={getPos:function(){return r},setPos:function(e){r=e},consumeTag:d,consumeTagAndSize:function(e,t){var n=d(e,t);return n&&h(),n},parseTag:function(e){var n;return d(e),n=h(),t[e.parse](n)},skipOverElement:function(e,t){var n=d(e,t),i=void 0;return n&&(i=h(),r+=i),n},getMatroskaCodedNum:h,getMatroskaFloat:function(e){var t=void 0;switch(e){case 4:t=n.getFloat32(r),r+=4;break;case 8:t=n.getFloat64(r),r+=8}return t},getMatroskaUint:function(e){for(var t=0,i=0;i<e;i+=1)t<<=8,t|=255&n.getUint8(r+i);return r+=e,t},moreData:function(){return r<n.byteLength}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47));e.__dashjs_factory_name="EBMLParser",r.default=i.default.getClassFactory(e),n.exports=r.default},{47:47}],200:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){var e=this.context,t=(0,i.default)(e).getInstance();return{capabilityError:function(e){t.trigger(o.default.ERROR,{error:"capability",event:e})},downloadError:function(e,n,r){t.trigger(o.default.ERROR,{error:"download",event:{id:e,url:n,request:r}})},manifestError:function(e,n,r,i){t.trigger(o.default.ERROR,{error:"manifestError",event:{message:e,id:n,manifest:r,event:i}})},timedTextError:function(e,n,r){t.trigger(o.default.ERROR,{error:"cc",event:{message:e,id:n,cc:r}})},mediaSourceError:function(e){t.trigger(o.default.ERROR,{error:"mediasource",event:e})},mediaKeySessionError:function(e){t.trigger(o.default.ERROR,{error:"key_session",event:e})},mediaKeyMessageError:function(e){t.trigger(o.default.ERROR,{error:"key_message",event:e})},mssError:function(e){t.trigger(o.default.ERROR,{error:"mssError",event:e})}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(46)),o=d(t(50)),a=d(t(47));e.__dashjs_factory_name="ErrorHandler";var s=a.default.getSingletonFactory(e);s.CAPABILITY_ERROR_MEDIASOURCE="mediasource",s.CAPABILITY_ERROR_MEDIAKEYS="mediakeys",s.DOWNLOAD_ERROR_ID_MANIFEST="manifest",s.DOWNLOAD_ERROR_ID_SIDX="SIDX",s.DOWNLOAD_ERROR_ID_CONTENT="content",s.DOWNLOAD_ERROR_ID_INITIALIZATION="initialization",s.DOWNLOAD_ERROR_ID_XLINK="xlink",s.MANIFEST_ERROR_ID_CODEC="codec",s.MANIFEST_ERROR_ID_PARSE="parse",s.MANIFEST_ERROR_ID_NOSTREAMS="nostreams",s.TIMED_TEXT_ERROR_ID_PARSE="parse",a.default.updateSingletonFactory(e.__dashjs_factory_name,s),r.default=s,n.exports=r.default},{46:46,47:47,50:50}],201:[function(t,n,r){"use strict";function e(){var e={};return{save:function(t){var n=t.streamId,r=t.representationId;e[n]=e[n]||{},e[n][r]=t},extract:function(t,n){return e&&e[t]&&e[t][n]?e[t][n]:null},reset:function(){e={}}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47));e.__dashjs_factory_name="InitCache",r.default=i.default.getSingletonFactory(e),n.exports=r.default},{47:47}],202:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function b(n){var r=[];if(!n||!t||"function"!=typeof t.fetchAll)return r;for(var i=t.fetchAll(n),o=void 0,a=0,s=i.length;a<s;a++)(o=e(i[a]))&&r.push(o);return r}function e(e){if(!e)return null;var t=new i.default(e);return e.hasOwnProperty("_incomplete")&&(t.isComplete=!e._incomplete),t}var t=void 0;return{getBox:function(n){return n&&t&&t.boxes&&0!==t.boxes.length&&"function"==typeof t.fetch?e(t.fetch(n)):null},getBoxes:b,setData:function(e){t=e},getLastBox:function(){if(!t||!t.boxes||!t.boxes.length)return null;var e=b(t.boxes[t.boxes.length-1].type);return e.length>0?e[e.length-1]:null}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(216)),o=d(t(47));e.__dashjs_factory_name="IsoFile",r.default=o.default.getClassFactory(e),n.exports=r.default},{216:216,47:47}],203:[function(t,n,r){"use strict";function e(e){var t=(e=e||{}).timelineConverter,n=e.streamProcessor;return{getLiveEdge:function(){!function(){if(!(t&&t.hasOwnProperty("getExpectedLiveEdge")&&n&&n.hasOwnProperty("getCurrentRepresentationInfo")))throw new Error("Missing config parameter(s)")}();var e=n.getCurrentRepresentationInfo(),r=e.DVRWindow.end;return e.useCalculatedLiveEdgeTime&&(r=t.getExpectedLiveEdge(),t.setClientTimeOffset(r-e.DVRWindow.end)),r},reset:function(){t=null,n=null}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47));e.__dashjs_factory_name="LiveEdgeFinder",r.default=i.default.getClassFactory(e),n.exports=r.default},{47:47}],204:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){return{areEqual:function(e,t){return(0,o.default)(e,t)}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(47)),o=d(t(13));e.__dashjs_factory_name="ObjectUtils",r.default=i.default.getSingletonFactory(e),n.exports=r.default},{13:13,47:47}],205:[function(t,n,r){"use strict";function e(){return{modifyRequestURL:function(e){return e},modifyRequestHeader:function(e){return e}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47));e.__dashjs_factory_name="RequestModifier",r.default=i.default.getSingletonFactory(e),n.exports=r.default},{47:47}],206:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function a(){var e="cue_TTML_"+r;return r++,e}var e=this.context,t=(0,o.default)(e).getInstance().log,n=(0,s.default)(e).getInstance(),r=0;return{parse:function(e,r,i,o,s){var d=void 0,c="",f=[],h=void 0,p=void 0,g={},y={},v="",m="",_={onOpenTag:function(e,n,r){if("image"===n&&"http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===e){if(!r[" imagetype"]||"PNG"!==r[" imagetype"].value)return void t("Warning: smpte-tt imagetype != PNG. Discarded");v=r["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){v&&(y[v]=m.trim()),m="",v=""},onText:function(e){v&&(m+=e)}};if(!e)throw c="no ttml data to parse",new Error(c);g.data=e,n.trigger(l.default.TTML_TO_PARSE,g);var T=(0,u.fromXML)(g.data,function(e){c=e},_);n.trigger(l.default.TTML_PARSED,{ttmlString:g.data,ttmlDoc:T});var E=T.getMediaTimeEvents();for(d=0;d<E.length;d++){var b=(0,u.generateISD)(T,E[d],function(e){c=e});b.contents.some(function(e){return e.contents.length})&&(h=E[d]+r<i?i:E[d]+r)<(p=E[d+1]+r>o?o:E[d+1]+r)&&f.push({start:h,end:p,type:"html",cueID:a(),isd:b,images:s,embeddedImages:y})}if(""!==c)throw t(c),new Error(c);return f}}}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(47)),o=d(t(45)),s=d(t(46)),l=d(t(50)),u=t(18);e.__dashjs_factory_name="TTMLParser",r.default=i.default.getSingletonFactory(e),n.exports=r.default},{18:18,45:45,46:46,47:47,50:50}],207:[function(t,n,r){"use strict";function e(){function b(e){var t=e.indexOf("/"),n=e.lastIndexOf("/");return-1!==t?n===t+1?e:(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),e.substring(0,n+1)):""}function c(e){var t=e.match(o);return t?t[1]:""}function d(e){var t=e.match(n);return t?t[0]:""}function e(e){return!n.test(e)}function f(t){return e(t)&&"/"===t.charAt(0)}function g(e){return 0===e.indexOf("//")}var t=void 0,n=/^[a-z][a-z0-9+\-.]*:/i,r=/^https?:\/\//i,i=/^https:\/\//i,o=/^([a-z][a-z0-9+\-.]*:\/\/[^\/]+)\/?/i,a=function(e,t){try{return new window.URL(e,t).toString()}catch(t){return e}},s=function(t,n){var r=b;if(!n)return t;if(!e(t))return t;f(t)&&(r=c),g(t)&&(r=d);var i=r(n);return[i,t].join("/"!==i.charAt(i.length-1)&&"/"!==t.charAt(0)?"/":"")};return function(){try{new window.URL("x","http://y"),t=a}catch(e){}finally{t=t||s}}(),{parseBaseUrl:b,parseOrigin:c,parseScheme:d,isRelative:e,isPathAbsolute:f,isSchemeRelative:g,isHTTPURL:function(e){return r.test(e)},isHTTPS:function(e){return i.test(e)},resolve:function(e,n){return t(e,n)}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47));e.__dashjs_factory_name="URLUtils",r.default=i.default.getSingletonFactory(e),n.exports=r.default},{47:47}],208:[function(t,n,r){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function e(){function c(e){var t=e.split(":"),n=t.length-1;return e=60*parseInt(t[n-1],10)+parseFloat(t[n]),2===n&&(e+=3600*parseInt(t[0],10)),e}function d(e){var t=e.split(i),n=t[1].split(l);return n.shift(),t[1]=n[0],n.shift(),{cuePoints:t,styles:function(e){var t={};return e.forEach(function(e){if(e.split(/:/).length>1){var n=e.split(/:/)[1];n&&-1!=n.search(/%/)&&(n=parseInt(n.replace(/%/,""),10)),(e.match(/align/)||e.match(/A/))&&(t.align=n),(e.match(/line/)||e.match(/L/))&&(t.line=n),(e.match(/position/)||e.match(/P/))&&(t.position=n),(e.match(/size/)||e.match(/S/))&&(t.size=n)}}),t}(n)}}function f(e,t){for(var n,r=t,o="",a="";""!==e[r]&&r<e.length;)r++;if((n=r-t)>1)for(var s=0;s<n;s++){if((a=e[t+s]).match(i)){o="";break}o+=a,s!==n-1&&(o+="\n")}else(a=e[t]).match(i)||(o=a);return o}var e,t=this.context,n=(0,o.default)(t).getInstance().log,r=void 0,i=void 0,s=void 0,l=void 0;return e={parse:function(e){var t,o=[],l=void 0;if(!e)return o;t=(e=e.split(r)).length,l=-1;for(var u=0;u<t;u++){var h=e[u];if(h.length>0&&h!==a&&h.match(i)){var p=d(h),g=p.cuePoints,y=p.styles,v=f(e,u+1),m=c(g[0].replace(s,"")),_=c(g[1].replace(s,""));!isNaN(m)&&!isNaN(_)&&m>=l&&_>m?""!==v?(l=m,o.push({start:m,end:_,data:v,styles:y})):n("Skipping cue due to empty/malformed cue text"):n("Skipping cue due to incorrect cue timing")}}return o}},r=/(?:\r\n|\r|\n)/gm,i=/-->/,s=/(^[\s]+|[\s]+$)/g,l=/\s\b/g,e}Object.defineProperty(r,"__esModule",{value:!0});var i=d(t(47)),o=d(t(45)),a="WEBVTT";e.__dashjs_factory_name="VTTParser",r.default=i.default.getSingletonFactory(e),n.exports=r.default},{45:45,47:47}],209:[function(t,n,r){"use strict";function e(e){var t=(e=e||{}).blacklistController;return{select:function(e){var n=0,r=void 0;return e&&e.some(function(e,r){return n=r,!t.contains(e.serviceLocation)})&&(r=e[n]),r}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47));e.__dashjs_factory_name="BasicSelector",r.default=i.default.getClassFactory(e),n.exports=r.default},{47:47}],210:[function(t,n,r){"use strict";function e(e){var t=(e=e||{}).blacklistController;return{select:function(e){return e&&function(e){var t=0,n=[],r=0,i=void 0,o=void 0;if((o=e.sort(function(e,t){var n=e.dvb_priority-t.dvb_priority;return isNaN(n)?0:n}).filter(function(e,t,n){return!t||n[0].dvb_priority&&e.dvb_priority&&n[0].dvb_priority===e.dvb_priority})).length)return o.length>1&&(o.forEach(function(e){t+=e.dvb_weight,n.push(t)}),i=Math.floor(Math.random()*(t-1)),n.every(function(e,t){return r=t,!(i<e)})),o[r]}(function(e){var n=[];return e.filter(function(e){return!t.contains(e.serviceLocation)||(e.dvb_priority&&n.push(e.dvb_priority),!1)}).filter(function(e){return!n.length||!e.dvb_priority||-1===n.indexOf(e.dvb_priority)})}(e))}}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(t(47));e.__dashjs_factory_name="DVBSelector",r.default=i.default.getClassFactory(e),n.exports=r.default},{47:47}],211:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN},t.exports=n.default},{}],212:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(e,t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.code=e||null,this.message=t||null,this.data=n||null},t.exports=n.default},{}],213:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null},t.exports=n.default},{}],214:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.action=a.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null};r.ACTION_DOWNLOAD="download",r.ACTION_COMPLETE="complete",n.default=r,t.exports=n.default},{}],215:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},i=function(e){return e&&e.__esModule?e:{default:e}}(e(214)),o=function(e){function b(e){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,b),r(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.url=e||null,this.checkForExistenceOnly=!0}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,i.default),b}();n.default=o,t.exports=n.default},{214:214}],216:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),i=function(){function a(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.offset=e._offset,this.type=e.type,this.size=e.size,this.boxes=[],e.boxes)for(var t=0;t<e.boxes.length;t++)this.boxes.push(new a(e.boxes[t]));switch(this.isComplete=!0,e.type){case"sidx":if(this.timescale=e.timescale,this.earliest_presentation_time=e.earliest_presentation_time,this.first_offset=e.first_offset,this.references=e.references,e.references){this.references=[];for(t=0;t<e.references.length;t++){var n={reference_type:e.references[t].reference_type,referenced_size:e.references[t].referenced_size,subsegment_duration:e.references[t].subsegment_duration};this.references.push(n)}}break;case"emsg":this.id=e.id,this.value=e.value,this.timescale=e.timescale,this.scheme_id_uri=e.scheme_id_uri,this.presentation_time_delta=e.presentation_time_delta,this.event_duration=e.event_duration,this.message_data=e.message_data;break;case"mdhd":this.timescale=e.timescale;break;case"mfhd":this.sequence_number=e.sequence_number;break;case"subs":this.entry_count=e.entry_count,this.entries=e.entries;break;case"tfhd":this.base_data_offset=e.base_data_offset,this.sample_description_index=e.sample_description_index,this.default_sample_duration=e.default_sample_duration,this.default_sample_size=e.default_sample_size,this.default_sample_flags=e.default_sample_flags,this.flags=e.flags;break;case"tfdt":this.version=e.version,this.baseMediaDecodeTime=e.baseMediaDecodeTime,this.flags=e.flags;break;case"trun":if(this.sample_count=e.sample_count,this.first_sample_flags=e.first_sample_flags,this.data_offset=e.data_offset,this.flags=e.flags,this.samples=e.samples,e.samples){this.samples=[];t=0;for(var r=e.samples.length;t<r;t++){var i={sample_size:e.samples[t].sample_size,sample_duration:e.samples[t].sample_duration,sample_composition_time_offset:e.samples[t].sample_composition_time_offset};this.samples.push(i)}}}}return r(a,[{key:"getChildBox",value:function(e){for(var t=0;t<this.boxes.length;t++)if(this.boxes[t].type===e)return this.boxes[t]}},{key:"getChildBoxes",value:function(e){for(var t=[],n=0;n<this.boxes.length;n++)this.boxes[n].type===e&&t.push(this.boxes[n]);return t}}]),a}();n.default=i,t.exports=n.default},{}],217:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(e,t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.lastCompletedOffset=e,this.found=t,this.size=n},t.exports=n.default},{}],218:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null},t.exports=n.default},{}],219:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null},t.exports=n.default},{}],220:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},t.exports=n.default},{}],221:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},t.exports=n.default},{}],222:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},t.exports=n.default},{}],223:[function(e,t,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},i=d(e(99)),o=d(e(214)),a=function(e){function b(e,t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,b),r(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.url=e||null,this.type=t||null,this.mediaType=i.default.STREAM,this.responseType=""}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,o.default),b}();n.default=a,t.exports=n.default},{214:214,99:99}],224:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1},t.exports=n.default},{}],225:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},t.exports=n.default},{}],226:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""},t.exports=n.default},{}],227:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null},t.exports=n.default},{}],228:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.t=null,this.level=null},t.exports=n.default},{}],229:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(e(105));n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.target=null,this.state=r.default.BUFFER_EMPTY},t.exports=n.default},{105:105}],230:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.time=null,this.range=null,this.manifestInfo=null},t.exports=n.default},{}],231:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.time=null,this.droppedFrames=null},t.exports=n.default},{}],232:[function(e,t,n){"use strict";function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function a(){d(this,a),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null};r.GET="GET",r.HEAD="HEAD",r.MPD_TYPE="MPD",r.XLINK_EXPANSION_TYPE="XLinkExpansion",r.INIT_SEGMENT_TYPE="InitializationSegment",r.INDEX_SEGMENT_TYPE="IndexSegment",r.MEDIA_SEGMENT_TYPE="MediaSegment",r.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",r.OTHER_TYPE="other",n.HTTPRequest=r,n.HTTPRequestTrace=function a(){d(this,a),this.s=null,this.d=null,this.b=[]}},{}],233:[function(e,t,n){"use strict";function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});n.ManifestUpdate=function a(){d(this,a),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},n.ManifestUpdateStreamInfo=function a(){d(this,a),this.id=null,this.index=null,this.start=null,this.duration=null},n.ManifestUpdateRepresentationInfo=function a(){d(this,a),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null}},{}],234:[function(e,t,n){"use strict";function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function a(){d(this,a),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};r.INITIAL_PLAYOUT_START_REASON="initial_playout",r.SEEK_START_REASON="seek",r.RESUME_FROM_PAUSE_START_REASON="resume",r.METRICS_COLLECTION_START_REASON="metrics_collection_start";var i=function a(){d(this,a),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};i.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",i.REBUFFERING_REASON="rebuffering",i.USER_REQUEST_STOP_REASON="user_request",i.END_OF_PERIOD_STOP_REASON="end_of_period",i.END_OF_CONTENT_STOP_REASON="end_of_content",i.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",i.FAILURE_STOP_REASON="failure",n.PlayList=r,n.PlayListTrace=i},{}],235:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.t=null,this.mt=null,this.to=null,this.lto=null},t.exports=n.default},{}],236:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.loadingRequests=[],this.executedRequests=[]},t.exports=n.default},{}],237:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},t.exports=n.default},{}],238:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function a(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,a),this.tcpid=null,this.dest=null,this.topen=null,this.tclose=null,this.tconnect=null},t.exports=n.default},{}]},{},[4]),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).videojsDash=e()}}(function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){return o(t[a][1][e]||e)},d,d.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(e){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.default=function(e,t){e.dash.mediaPlayer.on(r.default.MediaPlayer.events.PLAYBACK_METADATA_LOADED,function(e,r){function t(e){return"dash-audio-"+e}function n(e,n){return e.find(function(e){return t(e.index)===n.id})}var o=e.dash.mediaPlayer,a=o.getTracksFor("audio"),s=e.audioTracks();s.length&&r.clearTracks(["audio"]);var l=o.getCurrentTrackFor("audio");a.forEach(function(e){var n=e.lang;e.roles&&e.roles.length&&(n+=" ("+e.roles.join(", ")+")"),s.addTrack(new i.default.AudioTrack({enabled:e===l,id:t(e.index),kind:e.kind||"main",label:n,language:e.lang}))}),s.addEventListener("change",function(){for(var e=0;e<s.length;e++){var t=s[e];if(t.enabled){var r=n(a,t);o.setCurrentTrack(r)}}})}.bind(null,e,t))};var r=a("undefined"!=typeof window?window.dashjs:void 0!==e?e.dashjs:null),i=a("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){(function(e){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function o(e,t,r){function o(){for(var t=e.dash.mediaPlayer,o=e.textTracks(),a=-1,s=0;s<o.length;s+=1)!function(e){var t=o[e];if("showing"===t.mode){var s=n(i,function(e){return e.textTrack===t}),l=s?s.dashTrack:null;l&&(a=r.indexOf(l))}}(s);a!==t.getCurrentTextTrackIndex()&&t.setTextTrack(a)}var i=[],a=r.map(function(e){return{dashTrack:e,trackConfig:{label:e.lang,language:e.lang,srclang:e.lang}}}).map(function(t){var n=t.trackConfig,r=t.dashTrack,o=e.addRemoteTextTrack(n,!0);return i.push({textTrack:o.track,dashTrack:r}),o});return e.textTracks().on("change",o),e.one("loadstart",function(){e.textTracks().off("change",o)}),o(),a}r.__esModule=!0,r.default=function(e,r,a){function n(){l.forEach(e.removeRemoteTextTrack.bind(e)),l=[]}function i(r){var a=(r.index,r.tracks);u.off(t.default.MediaPlayer.events.TEXT_TRACKS_ADDED,i),n(),a.length&&(l=o(e,0,a))}window.VTTCue&&!/\[native code\]/.test(window.VTTCue.toString())&&(window.VTTCue=!1);var l=[];if(r.featuresNativeTextTracks)s.default.log.error("You must pass {html: {nativeCaptions: false}} in the videojs constructor to use text tracks in videojs-contrib-dash");else{var u=e.dash.mediaPlayer;u.on(t.default.MediaPlayer.events.TEXT_TRACKS_ADDED,i),u.on(t.default.MediaPlayer.events.CAN_PLAY,function(){u.off(t.default.MediaPlayer.events.TEXT_TRACKS_ADDED,i),e.one("loadstart",n)})}};var t=a("undefined"!=typeof window?window.dashjs:void 0!==e?e.dashjs:null),s=a("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,r){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=n(e("global/window")),o=n("undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null),a=n("undefined"!=typeof window?window.dashjs:void 0!==t?t.dashjs:null),s=n(e("./setup-audio-tracks")),l=n(e("./setup-text-tracks")),u=function(){function e(t,n,r){var i=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=r||n.options_,this.player=(0,o.default)(r.playerId),this.player.dash=this.player.dash||{},this.tech_=n,this.el_=n.el(),this.elParent_=this.el_.parentNode,t.src){n.isReady_=!1,e.updateSourceData&&(o.default.log.warn('updateSourceData has been deprecated. Please switch to using hook("updatesource", callback).'),t=e.updateSourceData(t)),e.hooks("updatesource").forEach(function(e){t=e(t)});var u=t.src;this.keySystemOptions_=e.buildDashJSProtData(t.keySystemOptions),this.player.dash.mediaPlayer=a.default.MediaPlayer().create(),this.mediaPlayer_=this.player.dash.mediaPlayer,e.useVideoJSDebug&&(o.default.log.warn('useVideoJSDebug has been deprecated. Please switch to using hook("beforeinitialize", callback).'),e.useVideoJSDebug(this.mediaPlayer_)),e.beforeInitialize&&(o.default.log.warn('beforeInitialize has been deprecated. Please switch to using hook("beforeinitialize", callback).'),e.beforeInitialize(this.player,this.mediaPlayer_)),e.hooks("beforeinitialize").forEach(function(e){e(i.player,i.mediaPlayer_)}),this.mediaPlayer_.initialize(),r.dash&&Object.keys(r.dash).forEach(function(e){var t,n="set"+e.charAt(0).toUpperCase()+e.slice(1),a=r.dash[e];i.mediaPlayer_.hasOwnProperty(n)&&(o.default.log.warn("Using dash options in videojs-contrib-dash without the set prefix has been deprecated. Change '"+e+"' to '"+n+"'"),e=n),i.mediaPlayer_.hasOwnProperty(e)?(Array.isArray(a)||(a=[a]),(t=i.mediaPlayer_)[e].apply(t,a)):o.default.log.warn("Warning: dash configuration option unrecognized: "+e)}),this.mediaPlayer_.attachView(this.el_),this.mediaPlayer_.setAutoPlay(!1),s.default.call(null,this.player,n),l.default.call(null,this.player,n,r),this.mediaPlayer_.setProtectionData(this.keySystemOptions_),this.mediaPlayer_.attachSource(u),this.tech_.triggerReady()}}return e.buildDashJSProtData=function(e){var t={};if(!e||!Array.isArray(e))return null;for(var n=0;n<e.length;n++){var r=e[n],i=o.default.mergeOptions({},r.options);i.licenseUrl&&(i.serverURL=i.licenseUrl,delete i.licenseUrl),t[r.name]=i}return t},e.prototype.dispose=function(){this.mediaPlayer_&&this.mediaPlayer_.reset(),this.player.dash&&delete this.player.dash},e.prototype.duration=function(){var e=this.el_.duration;return e===Number.MAX_VALUE?1/0:e},e.hooks=function(t,n){return e.hooks_[t]=e.hooks_[t]||[],n&&(e.hooks_[t]=e.hooks_[t].concat(n)),e.hooks_[t]},e.hook=function(t,n){e.hooks(t,n)},e.removeHook=function(t,n){var r=e.hooks(t).indexOf(n);return-1!==r&&(e.hooks_[t]=e.hooks_[t].slice(),e.hooks_[t].splice(r,1),!0)},e}();u.hooks_={};o.default.DashSourceHandler=function(){return{canHandleSource:function(e){return function(e){e=JSON.parse(JSON.stringify(e)),u.updateSourceData&&(o.default.log.warn('updateSourceData has been deprecated. Please switch to using hook("updatesource", callback).'),e=u.updateSourceData(e)),u.hooks("updatesource").forEach(function(t){e=t(e)});var t=document.createElement("video");return!(e.keySystemOptions&&!navigator.requestMediaKeySystemAccess&&!t.msSetMediaKeys)}(e)?o.default.DashSourceHandler.canPlayType(e.type)?"probably":/\.mpd/i.test(e.src)?"maybe":"":""},handleSource:function(e,t,n){return new u(e,t,n)},canPlayType:function(e){return o.default.DashSourceHandler.canPlayType(e)}}},o.default.DashSourceHandler.canPlayType=function(e){return/^application\/dash\+xml/i.test(e)?"probably":""},i.default.MediaSource&&o.default.getTech("Html5").registerSourceHandler(o.default.DashSourceHandler(),0),o.default.Html5DashJS=u,r.default=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./setup-audio-tracks":1,"./setup-text-tracks":2,"global/window":3}]},{},[4])(4)});var ee={keySystem:null,certificate:null,player:null,contentUrl:null,contentId:null,licenseUrl:null,pallyconCustomData:null,fairplay:function(e){void 0!==e.player&&(ee.player=e.player),void 0!==e.content_url&&(ee.contentUrl=e.content_url),void 0!==e.pallycon_custom_data&&(ee.pallyconCustomData=e.pallycon_custom_data),void 0!==e.license_url&&(ee.licenseUrl=e.license_url);var t=new XMLHttpRequest;t.responseType="text",t.addEventListener("load",ee.onCertificateLoaded,!1),t.addEventListener("error",ee.onCertificateError,!1),t.open("GET",e.certificate_uri,!0),t.setRequestHeader("Pragma","Cache-Control: no-cache"),t.setRequestHeader("Cache-Control","max-age=0"),t.send()},onCertificateLoaded:function(e){var t=e.target;ee.certificate=base64DecodeUint8Array(t.response),ee.player.src({src:ee.contentUrl}),ee.player.tech_.el_.addEventListener("webkitneedkey",ee.onNeedKey,!1),ee.player.tech_.el_.addEventListener("error",ee.onError,!1)},onCertificateError:function(e){window.console.error("Failed to retrieve the server certificate.")},extractContentId:function(e){return ee.contentId=arrayToString(e),ee.contentId=ee.contentId.substring(ee.contentId.indexOf("skd://")+6),ee.contentId},concatInitDataIdAndCertificate:function(e,t,n){"string"==typeof t&&(t=stringToArray(t));var r=0,i=new ArrayBuffer(e.byteLength+4+t.byteLength+4+n.byteLength),o=new DataView(i);new Uint8Array(i,r,e.byteLength).set(e),r+=e.byteLength,o.setUint32(r,t.byteLength,!0),r+=4;var a=new Uint16Array(i,r,t.length);return a.set(t),r+=a.byteLength,o.setUint32(r,n.byteLength,!0),r+=4,new Uint8Array(i,r,n.byteLength).set(n),new Uint8Array(i,0,i.byteLength)},selectKeySystem:function(){if(!WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4"))throw"Key System not supported";ee.keySystem="com.apple.fps.1_0"},onError:function(e){window.console.error("A video playback error occurred")},onNeedKey:function(e){var t=e.target,n=e.initData,r=ee.extractContentId(n);if(n=ee.concatInitDataIdAndCertificate(n,r,ee.certificate),t.webkitKeys||(ee.selectKeySystem(),t.webkitSetMediaKeys(new WebKitMediaKeys(ee.keySystem))),!t.webkitKeys)throw"Could not create MediaKeys";var i=t.webkitKeys.createSession("video/mp4",n);if(!i)throw"Could not create key session";i.contentId=r,waitForEvent("webkitkeymessage",ee.licenseRequestReady,i),waitForEvent("webkitkeyadded",ee.onKeyAdded,i),waitForEvent("webkitkeyerror",ee.onKeyError,i)},licenseRequestReady:function(e){var t=e.target,n=e.message,r=new XMLHttpRequest;e.sessionId;r.responseType="text",r.session=t,r.addEventListener("load",ee.licenseRequestLoaded,!1),r.addEventListener("error",ee.licenseRequestFailed,!1);var i="spc="+base64EncodeUint8Array(n)+"&assetId="+encodeURIComponent(t.contentId);r.open("POST",ee.licenseUrl,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.setRequestHeader("pallycon-customdata-v2",ee.pallyconCustomData),r.send(i)},licenseRequestLoaded:function(e){var t=e.target,n=t.session,r=t.responseText.trim();r=base64DecodeUint8Array(r),n.update(r)},licenseRequestFailed:function(e){window.console.error("The license request failed.")},onKeyError:function(e){window.console.error("A decryption key error was encountered")},onKeyAdded:function(e){window.console.log("Decryption key was added to session.")}};function urlSearchPar(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==t?null:decodeURI(t[1])||0}function parentUrl(){return window.location!=window.parent.location?document.referrer:document.location.href}!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).videojsOverlay=e()}}(function(){return function e(t,n,r){function s(o,a){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[o]={exports:{}};t[o][0].call(d.exports,function(e){var n=t[o][1][e];return s(n||e)},d,d.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(e,t,n){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){t.exports=function(e){for(var t="",n=0;n<arguments.length;n++)t+=e[n]+(arguments[n+1]||"");return t.replace(/\s+/g," ").trim()}},{}],3:[function(e,t,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=o,n=a,r=!0,s=u=void 0}},a=_taggedTemplateLiteral(['\n      created, listening to "','" for "start" and\n      "','" for "end"\n    '],['\n      created, listening to "','" for "start" and\n      "','" for "end"\n    ']),s=_taggedTemplateLiteral(["\n          hiding; "," is an integer and overlay should not show at this time\n        "],["\n          hiding; "," is an integer and overlay should not show at this time\n        "]),l=_taggedTemplateLiteral(["\n          hiding; show point (",") is before now (",") and end\n          point (",") is an event\n        "],["\n          hiding; show point (",") is before now (",") and end\n          point (",") is an event\n        "]);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _taggedTemplateLiteral(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var u=_interopRequireDefault(e("tsmlj")),d=_interopRequireDefault("undefined"!=typeof window?window.videojs:void 0!==r?r.videojs:null),c=_interopRequireDefault(e("global/window")),f={align:"top-left",class:"",content:"This overlay will show up while the video is playing",debug:!1,showBackground:!0,attachToControlBar:!1,overlays:[{start:"playing",end:"paused"}]},h=d.default.getComponent("Component"),p=d.default.dom||d.default,g=d.default.registerPlugin||d.default.plugin,y=function(e){return"number"==typeof e&&e==e},v=function(e){return"string"==typeof e&&/^\S+$/.test(e)},m=function(e){function Overlay(e,t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Overlay),o(Object.getPrototypeOf(Overlay.prototype),"constructor",this).call(this,e,t),["start","end"].forEach(function(e){var t=n.options_[e];if(y(t))n[e+"Event_"]="timeupdate";else if(v(t))n[e+"Event_"]=t;else if("start"===e)throw new Error('invalid "start" option; expected number or string')}),["endListener_","rewindListener_","startListener_"].forEach(function(e){n[e]=function(t){return Overlay.prototype[e].call(n,t)}}),"timeupdate"===this.startEvent_&&this.on(e,"timeupdate",this.rewindListener_),this.debug((0,u.default)(a,this.startEvent_,this.endEvent_||"nothing")),this.hide()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Overlay,h),i(Overlay,[{key:"createEl",value:function(){var e=this.options_,t=e.content,n=e.showBackground?"vjs-overlay-background":"vjs-overlay-no-background",r=p.createEl("div",{className:"\n        vjs-overlay\n        vjs-overlay-"+e.align+"\n        "+e.class+"\n        "+n+"\n        vjs-hidden\n      "});return"string"==typeof t?r.innerHTML=t:t instanceof c.default.DocumentFragment?r.appendChild(t):p.appendContent(r,t),r}},{key:"debug",value:function(){if(this.options_.debug){for(var e=d.default.log,t=e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.hasOwnProperty(r[0])&&"function"==typeof e[r[0]]&&(t=e[r.shift()]),t.apply(void 0,["overlay#"+this.id()+": "].concat(r))}}},{key:"hide",value:function(){return o(Object.getPrototypeOf(Overlay.prototype),"hide",this).call(this),this.debug("hidden"),this.debug('bound `startListener_` to "'+this.startEvent_+'"'),this.endEvent_&&(this.debug('unbound `endListener_` from "'+this.endEvent_+'"'),this.off(this.player(),this.endEvent_,this.endListener_)),this.on(this.player(),this.startEvent_,this.startListener_),this}},{key:"shouldHide_",value:function(e,t){var n=this.options_.end;return y(n)?e>=n:n===t}},{key:"show",value:function(){return o(Object.getPrototypeOf(Overlay.prototype),"show",this).call(this),this.off(this.player(),this.startEvent_,this.startListener_),this.debug("shown"),this.debug('unbound `startListener_` from "'+this.startEvent_+'"'),this.endEvent_&&(this.debug('bound `endListener_` to "'+this.endEvent_+'"'),this.on(this.player(),this.endEvent_,this.endListener_)),this}},{key:"shouldShow_",value:function(e,t){var n=this.options_.start,r=this.options_.end;return y(n)?y(r)?e>=n&&e<r:this.hasShownSinceSeek_?Math.floor(e)===n:(this.hasShownSinceSeek_=!0,e>=n):n===t}},{key:"startListener_",value:function(e){var t=this.player().currentTime();this.shouldShow_(t,e.type)&&this.show()}},{key:"endListener_",value:function(e){var t=this.player().currentTime();this.shouldHide_(t,e.type)&&this.hide()}},{key:"rewindListener_",value:function(e){var t=this.player().currentTime(),n=this.previousTime_,r=this.options_.start,i=this.options_.end;t<n&&(this.debug("rewind detected"),y(i)&&!this.shouldShow_(t)?(this.debug((0,u.default)(s,i)),this.hasShownSinceSeek_=!1,this.hide()):v(i)&&t<r&&(this.debug((0,u.default)(l,r,t,i)),this.hasShownSinceSeek_=!1,this.hide())),this.previousTime_=t}}]),Overlay}();d.default.registerComponent("Overlay",m);var _=function(e){var t=this,n=d.default.mergeOptions(f,e);Array.isArray(this.overlays_)&&this.overlays_.forEach(function(e){t.removeChild(e),t.controlBar&&t.controlBar.removeChild(e),e.dispose()});var r=n.overlays;delete n.overlays,this.overlays_=r.map(function(e){var r=d.default.mergeOptions(n,e);return r.attachToControlBar&&t.controlBar&&-1!==r.align.indexOf("bottom")?t.controlBar.addChild("overlay",r):t.addChild("overlay",r)})};_.VERSION="1.1.4",g("overlay",_),n.default=_,t.exports=n.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":1,tsmlj:2}]},{},[3])(3)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],t):e.videojsPlaylist=t(e.videojs)}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t=function(e){var t=e.playlist.autoadvance_;t.timeout&&e.clearTimeout(t.timeout),t.trigger&&e.off("ended",t.trigger),t.timeout=null,t.trigger=null},n=function setup(e,n){var r;(t(e),"number"==typeof(r=n)&&!isNaN(r)&&r>=0&&r<1/0)?(e.playlist.autoadvance_.delay=n,e.playlist.autoadvance_.trigger=function(){var r=function(){return setup(e,n)};e.one("play",r),e.playlist.autoadvance_.timeout=e.setTimeout(function(){t(e),e.off("play",r),e.playlist.next()},1e3*n)},e.one("ended",e.playlist.autoadvance_.trigger)):e.playlist.autoadvance_.delay=null},r=function(e,t){var r=!e.paused()||e.ended();return e.trigger("beforeplaylistitem",t),e.poster(t.poster||""),e.src(t.sources),function(e){for(var t=e.remoteTextTracks(),n=t&&t.length||0;n--;)e.removeRemoteTextTrack(t[n])}(e),e.ready(function(){(t.textTracks||[]).forEach(e.addRemoteTextTrack.bind(e)),e.trigger("playlistitem",t),r&&e.play(),n(e,e.playlist.autoadvance_.delay)}),e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=(function(){function AwaitValue(e){this.value=e}function AsyncGenerator(e){var t,n;function resume(t,n){try{var r=e[t](n),i=r.value;i instanceof AwaitValue?Promise.resolve(i.value).then(function(e){resume("next",e)},function(e){resume("throw",e)}):settle(r.done?"return":"normal",r.value)}catch(e){settle("throw",e)}}function settle(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?resume(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(i,o){var a={key:e,arg:r,resolve:i,reject:o,next:null};n?n=n.next=a:(t=n=a,resume(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(AsyncGenerator.prototype[Symbol.asyncIterator]=function(){return this}),AsyncGenerator.prototype.next=function(e){return this._invoke("next",e)},AsyncGenerator.prototype.throw=function(e){return this._invoke("throw",e)},AsyncGenerator.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){for(var n=0;n<e.length;n++){var r=e[n].sources;if(Array.isArray(r))for(var o=0;o<r.length;o++){var a=r[o];if(a&&(u=void 0,d=void 0,u=s=a,d=l=t,"object"===(void 0===s?"undefined":i(s))&&(u=s.src),"object"===(void 0===l?"undefined":i(l))&&(d=l.src),/^\/\//.test(u)&&(d=d.slice(d.indexOf("//"))),/^\/\//.test(d)&&(u=u.slice(u.indexOf("//"))),u===d))return n}}var s,l,u,d;return-1}),a=function(e){for(var t=-1,n=e.length-1;++t<e.length;){var r=t+Math.floor(Math.random()*(n-t+1)),i=e[r];e[r]=e[t],e[t]=i}return e};var s=function(i,s){!function(i,s){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=null,d=!1,c=i.playlist=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(d)throw new Error("do not call playlist() during a playlist change");if(Array.isArray(e)){var n=Array.isArray(u)?u.slice():null;u=e.slice(),d=!0,i.trigger({type:"duringplaylistchange",nextIndex:t,nextPlaylist:u,previousIndex:c.currentIndex_,previousPlaylist:n||[]}),d=!1,-1!==t&&c.currentItem(t),n&&i.setTimeout(function(){i.trigger("playlistchange")},0)}return u.slice()};i.on("loadstart",function(){-1===c.currentItem()&&t(i)}),c.currentIndex_=-1,c.player_=i,c.autoadvance_={},c.repeat_=!1,c.currentItem=function(e){return d?c.currentIndex_:("number"==typeof e&&c.currentIndex_!==e&&e>=0&&e<u.length?(c.currentIndex_=e,r(c.player_,u[c.currentIndex_])):c.currentIndex_=c.indexOf(c.player_.currentSrc()||""),c.currentIndex_)},c.contains=function(e){return-1!==c.indexOf(e)},c.indexOf=function(e){if("string"==typeof e)return o(u,e);for(var t=Array.isArray(e)?e:e.sources,n=0;n<t.length;n++){var r=t[n];if("string"==typeof r)return o(u,r);if(r.src)return o(u,r.src)}return-1},c.currentIndex=function(){return c.currentItem()},c.lastIndex=function(){return u.length-1},c.nextIndex=function(){var e=c.currentItem();if(-1===e)return-1;var t=c.lastIndex();return c.repeat_&&e===t?0:Math.min(e+1,t)},c.previousIndex=function(){var e=c.currentItem();return-1===e?-1:c.repeat_&&0===e?c.lastIndex():Math.max(e-1,0)},c.first=function(){if(!d)return u.length?u[c.currentItem(0)]:void(c.currentIndex_=-1)},c.last=function(){if(!d)return u.length?u[c.currentItem(c.lastIndex())]:void(c.currentIndex_=-1)},c.next=function(){if(!d){var e=c.nextIndex();return e!==c.currentIndex_?u[c.currentItem(e)]:void 0}},c.previous=function(){if(!d){var e=c.previousIndex();return e!==c.currentIndex_?u[c.currentItem(e)]:void 0}},c.autoadvance=function(e){n(c.player_,e)},c.repeat=function(t){return void 0===t?c.repeat_:"boolean"==typeof t?(c.repeat_=!!t,c.repeat_):void e.log.error("videojs-playlist: Invalid value for repeat",t)},c.sort=function(e){u.length&&(u.sort(e),d||i.trigger("playlistsorted"))},c.reverse=function(){u.length&&(u.reverse(),d||i.trigger("playlistsorted"))},c.shuffle=function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).rest,n=0,r=u;(t&&(n=c.currentIndex_+1,r=u.slice(n)),r.length<=1)||(a(r),t&&(e=u).splice.apply(e,[n,r.length].concat(r)),d||i.trigger("playlistsorted"))},Array.isArray(s)?c(s.slice(),l):u=[]}(this,i,s)};return(e.registerPlugin||e.plugin)("playlist",s),s}),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};videojs.plugin("eventstrack",function(t){var n,r,i,o,a,s,l,u,d,c,f,h,p,g,y,v,m,_,T,E,b,A,S,w,C,I,M,O,R,P,D,N,x,k=!1,L=!1,F=!1,j="",B=0,U=!1,V=t.trackingName+".send",H=!1;null===t&&(t={}),n={},this.options()["data-setup"]&&(m=JSON.parse(this.options()["data-setup"])).ga&&(n=m.ga),r=["loaded","duration","percentsPlayed","start","end","seek","play","replay","pause","resize","volumeChange","error","fullscreen","fullscreen_mute","fullscreen_unmute"],i=t.vidDuration||n.vidDuration||0,d=t.eventsToTrack||n.eventsToTrack||r,E=t.percentsPlayedInterval||n.percentsPlayedInterval||25,s=t.eventCategory||n.eventCategory||"Video",l=t.eventLabel||n.eventLabel,u=t.eventPrefix||n.eventPrefix||"",O=t.playlistTotalMins||n.playlistTotalMins||0,R=t.playlistLengthEachVid,t.debug=t.debug||!1,T=[];var q=[];w=S=0;var G=!1;if(void 0!==O&&O>0){G=!0}if(!0===G){for(var Y=0;Y<=this.playlist.lastIndex();Y++)window["percentsAlreadyTracked"+Y]=[];var K=this.playlist.currentIndex()}var z=Math.round(O/100),W=[];if(R&&R.length>0)for(Y=0;Y<=this.playlist.lastIndex();Y++)W[Y]=R[Y];return P=function(){for(var e=[],t=R.length,n=0;n<t;n++)if(0===n)e[n]=R[0];else{for(var r=n,i=0,o=0;o<=r;o++)i+=R[o];e[n]=i}return e},g=function(){!0},y=function(){U=!0},h=function(){!0},p=function(){!0},v=function(){!0},f=function(){if(l||"function"==typeof this.currentSrc&&(l=this.currentSrc().split("/").slice(-1)[0].replace(/\.(\w{3,4})(\?.*)?$/i,"")),!0===G){if(e.call(d,"duration")>=0&&e.call(q,u+"duration")<0&&(C("duration",!1,O),q.push(u+"duration")),e.call(d,"loadedmetadata")>=0&&(C("loadedmetadata",!0),q.push(u+"loadedmetadata")),0===this.playlist.currentIndex())for(var t=0;t<=this.playlist.lastIndex();t++)window["percentsAlreadyTracked"+t]=[]}else void 0!==i&&0!==i||(i=this.duration()),e.call(d,"duration")>=0&&e.call(q,u+"duration")<0&&(C("duration",!1,Math.round(i)),q.push(u+"duration")),e.call(d,"loadedmetadata")>=0&&C("loadedmetadata",!0),T=[]}.bind(this),I=function(){if(t=this.currentTime(),!0===G){if(O){for(this.playlist.currentIndex()>0&&(t=Math.round(this.currentTime()+P()[this.playlist.currentItem()])),e.call(d,"replay")>=0&&!0===k&&(H=!0),i=Math.round(t/O*100),r=o=0;o<=O;r=o+=z)e.call(T,i)<0&&(e.call(d,"start")>=0&&e.call(q,u+"start")<0&&(0===i||t>0)&&0===this.playlist.currentItem()?(e.call(d,"duration")>=0&&e.call(q,u+"duration")<0&&(C("duration",!1,O),q.push(u+"duration")),!0===H?(C("replay",!0,1),C("start",!0,1),q.push(u+"replay"),q.push(u+"start"),H=!1,0):(C("start",!0),q.push(u+"start"),!1,e.call(d,"play")>=0&&(C("play",!0,t),q.push(u+"play"))),setTimeout(function(){this.played=!0}.bind(this),200),F=!0):e.call(d,"percentsPlayed")>=0&&0!==i&&(i>=25&&e.call(q,u+"first_quarter")<0&&(j="first_quarter",e.call(q,u+j)<0&&(q.push(u+j),C(j,!0,1))),i>=50&&e.call(q,u+"second_quarter")<0&&(j="second_quarter",e.call(q,u+j)<0&&(q.push(u+j),C(j,!0,1))),i>=75&&e.call(q,u+"third_quarter")<0&&(j="third_quarter",e.call(q,u+j)<0&&(q.push(u+j),C(j,!0,1),K=this.playlist.currentItem()))),T.push(i));w=S,S=t,Math.abs(w-S)>1&&(!0,e.call(d,"seek")>=0&&(C("seek start",!1,w),C("seek end",!1,S)))}}else{var t,n,r,i,o;for(t=Math.round(this.currentTime()),n=Math.round(this.duration()),i=Math.round(t/n*100),e.call(d,"replay")>=0&&!0===k&&(H=!0),r=o=0;o<=99;r=o+=E)i>=r&&e.call(T,r)<0&&(e.call(d,"start")>=0&&0===r&&i>0?(e.call(d,"duration")>=0&&e.call(q,u+"duration")<0&&(C("duration",!1,this.duration()),q.push(u+"duration")),!0===H?(C("replay",!0,1),C("start",!0,1),H=!1,H=!1,[],0):(C("start",!0),!1,L=!0,e.call(d,"play")>=0&&(C("play",!0,t),F=!0)),setTimeout(function(){this.played=!0}.bind(this),200),this.sentPlay=!0):e.call(d,"percentsPlayed")>=0&&0!==i&&(25===r&&(j="first_quarter"),50===r&&(j="second_quarter"),75===r&&(j="third_quarter"),C(j,!0,1),q.push(j)),i>0&&T.push(r));w=S,S=t,Math.abs(w-S)>1&&!0===this.userActive()&&(!0,!1,e.call(d,"seek")>=0&&(C("seek start",!1,w),C("seek end",!1,S)))}}.bind(this),o=function(){if(!0===G){if(K===this.playlist.lastIndex()&&this.playlist.currentIndex()===this.playlist.lastIndex()&&e.call(q,u+"complete")<0){C("complete",!0,1),q.push(u+"complete"),L=!0,F=!1;for(var t=0;t<=this.playlist.lastIndex();t++)window["percentsAlreadyTracked"+t]=[];q=[]}}else C("complete",!0,1),L=!0,F=!1,k=!0,!1,!1,!1,!1,T=[],q=[]}.bind(this),b=function(){if(!0===G){var t=this.playlist.currentItem(),n=this.playlist.lastIndex();if(t===n&&(k=!0),0===t&&K===n&&!0===k){for(var r=0;r<=this.playlist.lastIndex();r++)window["percentsAlreadyTracked"+r]=[];q=[],k=!1}}var i;(U=!1,e.call(d,"play")>=0)&&(i=Math.round(this.currentTime()),C("play",!0,i),!1,!1===F&&!0===L&&(C("replay",!0,i),F=!0))}.bind(this),_=function(){var e;e=Math.round(this.currentTime()),!0!==this.scrubbing_&&!1===U&&!0===this.played&&!0===x()&&setTimeout(function(){!1===D()&&!1===N()&&!1===this.scrubbing_&&(!0===this.isFullscreen()&&C("fullscreen_pause",!1,e),!1===this.isFullscreen()&&C("pause",!1,e),!1,!1,!1,!1,U=!1)},500)}.bind(this),M=function(){var e;e=!0===this.muted()?0:this.volume();var t=this.isFullscreen();!0===t&&0===e&&C("fullscreen_mute"),!0===t&&e>0&&C("fullscreen_unmute"),!1===t&&0===e&&!0===this.userActive()&&C("mute"),!1===t&&e>0&&!0===this.userActive()&&C("unmute")},A=function(){C("resize - "+this.width()+"*"+this.height(),!0)},a=function(){var e;e=Math.round(this.currentTime()),C("error",!0,e)},c=function(){var t;t=Math.round(this.currentTime()),("function"==typeof this.isFullscreen?this.isFullscreen():void 0)||("function"==typeof this.isFullScreen?this.isFullScreen():void 0)?(e.call(d,"fullscreenduration")>=0&&(B=t),C("fullscreen_start",!1,t)):(e.call(d,"fullscreenduration")>=0&&(B=t-B)>0&&C("fullscreenduration",!1,B),C("fullscreen_end",!1,t))},C=function(e,n,r,i){var o=V;i&&(o=i),window.ga?ga(o,"event",{eventCategory:s,eventAction:u+e,eventLabel:l,eventValue:r,nonInteraction:n}):window._gaq?_gaq.push(["_trackEvent",s,e,l,r,n]):t.debug},N=function(){return document.getElementById(this.id_).classList.contains("vjs-playing")}.bind(this),x=function(){return document.getElementById(this.id_).classList.contains("vjs-user-active")}.bind(this),D=function(){return document.getElementById(this.id_).classList.contains("vjs-ended")}.bind(this),this.ready(function(){if(f(),this.on("timeupdate",I),this.on("adserrorEvent",h),this.on("onseeked",p),this.on("autovolumechange",g),this.on("autopause",y),this.on("videoiswaiting",v),e.call(d,"end")>=0&&this.on("ended",o),this.on("play",b),e.call(d,"pause")>=0&&this.on("pause",_),e.call(d,"volumeChange")>=0&&this.on("volumechange",M),e.call(d,"resize")>=0&&this.on("resize",A),e.call(d,"error")>=0&&this.on("error",a),e.call(d,"fullscreen")>=0)return this.on("fullscreenchange",c)}),{sendbeacon:C}})}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};videojs.plugin("adseventstrack",function(t){var n,r,i,o,a,s,l,u,d,c,f,h,p,g,y,v,m,_,T,E,b,A,S,w,C=t.trackingName+".send",I=this,M=[];null===t&&(t={}),n={},this.options()["data-setup"]&&(s=JSON.parse(this.options()["data-setup"])).ga&&(n=s.ga);return a=t.eventsToTrack||n.eventsToTrack||["ADS_adMetadata","ADS_loaded","ADS_duration","ADS_contentPauseRequested","ADS_volumeChange","ADS_mute","ADS_impression","ADS_start","ADS_adsclick","ADS_pause","ADS_skip","ADS_manualskip","ADS_firstquartile","ADS_midpoint","ADS_thirdquartile","ADS_complete","ADS_allAdsCompleted"],r=t.eventCategory||n.eventCategory||"Video",i=t.eventLabel||n.eventLabel,o=t.eventPrefix||n.eventPrefix||"",t.debug=t.debug||!1,l=function(e,n,a,s){var l=C;s&&(l=s),window.ga?ga(l,"event",{eventCategory:r,eventAction:o+e,eventLabel:i,eventValue:a,nonInteraction:n}):window._gaq?_gaq.push(["_trackEvent",r,e,i,a,n]):t.debug},u=function(){},d=function(){M=[]},c=function(){},f=function(){var e;0===(e=!0===this.muted()?0:this.volume())&&!0===this.userActive()&&(l("mute"),!0),e>0&&!0===this.userActive()&&(l("unmute"),!1)},h=function(){l("mute",!0,1),!0},p=function(){!1},g=function(){e.call(M,"impression")<0&&(l("impression",!0,1),M.push("impression"))},y=function(){if(e.call(a,"duration")&&e.call(M,"duration")<0){var t=0;void 0!==this.ima.getAdsManager().l.g&&(t=this.ima.getAdsManager().l.g.duration),void 0!==I.ima.Ad&&(t=I.ima.Ad.getDuration()),l("duration",!0,t),M.push("duration")}e.call(M,"start")<0&&(l("start",!0,1),M.push("start"))},v=function(){l("click",!0,1)},m=function(){l("pause",!0,1)},T=function(){l("skip",!0,1),l("ads_skip",!0,1)},E=function(){l("skip",!0,1),l("player_skip",!0,1)},_=function(){e.call(M,"first_quarter")<0&&(l("first_quarter",!0,1),M.push("first_quarter"))},b=function(){e.call(M,"second_quarter")<0&&(l("second_quarter",!0,1),M.push("second_quarter"))},A=function(){e.call(M,"third_quarter")<0&&(l("third_quarter",!0,1),M.push("third_quarter"))},S=function(){e.call(M,"complete")<0&&(l("complete",!0,1),M.push("complete"))},w=function(){(e.call(a,"allcomplete")||e.call(a,"complete")&&e.call(M,"complete")<0)&&(l("complete",!0,1),M.push("complete"))},this.ready(function(){this.on("ADS_adMetadata",u),this.on("ADS_loaded",d),e.call(a,"ADS_contentPauseRequested")>=0&&this.on("ADS_contentPauseRequested",c),e.call(a,"ADS_volumeChange")>=0&&this.on("ADS_volumeChange",f),e.call(a,"ADS_mute")>=0&&this.on("ADS_mute",h),e.call(a,"ADS_unmute")>=0&&this.on("ADS_unmute",p),e.call(a,"ADS_impression")>=0&&this.on("ADS_impression",g),e.call(a,"ADS_start")>=0&&this.on("ADS_start",y),e.call(a,"ADS_click")>=0&&this.on("ADS_click",v),e.call(a,"ADS_pause")>=0&&this.on("ADS_pause",m),e.call(a,"ADS_skip")>=0&&this.on("ADS_skip",T),e.call(a,"ADS_manualskip")>=0&&this.on("ADS_manualskip",E),e.call(a,"ADS_firstquartile")>=0&&this.on("ADS_firstquartile",_),e.call(a,"ADS_midpoint")>=0&&this.on("ADS_midpoint",b),e.call(a,"ADS_thirdquartile")>=0&&this.on("ADS_thirdquartile",A),e.call(a,"ADS_complete")>=0&&this.on("ADS_complete",S),(e.call(a,"ADS_allAdsCompleted")>=0||e.call(a,"ADS_complete")>=0)&&this.on("ADS_allAdsCompleted",w)}),{sendbeaconAds:l}})}.call(this),function(e,t){if("function"==typeof define&&define.amd)define(["video.js"],t);else if("undefined"!=typeof exports)t(require("video.js"));else{t(e.videojs),e.videojsMarkers={}}}(this,function(e){"use strict";var t,n=(t=e)&&t.__esModule?t:{default:t};var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i={markerStyle:{width:"7px","border-radius":"30%","background-color":"red"},markerTip:{display:!0,text:function(e){return e.text},time:function(e){return e.time}},breakOverlay:{display:!1,displayTime:3,text:function(e){return"Break overlay: "+e.overlayText},style:{width:"100%",height:"20%","background-color":"rgba(0,0,0,0.7)",color:"white","font-size":"17px"}},onMarkerClick:function(e){},onMarkerReached:function(e,t){},hl:[]};var o=-1;n.default.plugin("highlight",function(e){if(!n.default.mergeOptions){var t=function(e){return!!e&&"object"===(void 0===e?"undefined":r(e))&&"[object Object]"===toString.call(e)&&e.constructor===Object};n.default.mergeOptions=function mergeOptions(e,n){var r={};return[e,n].forEach(function(e){e&&Object.keys(e).forEach(function(n){var i=e[n];t(i)?(t(r[n])||(r[n]={}),r[n]=mergeOptions(r[n],i)):r[n]=i})}),r}}n.default.createEl||(n.default.createEl=function(e,t,r){var i=n.default.Player.prototype.createEl(e,t);return r&&Object.keys(r).forEach(function(e){i.setAttribute(e,r[e])}),i});var a=n.default.mergeOptions(i,e),s={},l=[],u=o,d=this,c=null,f=null,h=o,p=!1,g=6;d.playlist&&d.playlist.currentIndex_>=0&&(p=!0,g=10);function sortMarkersList(){l.sort(function(e,t){return a.markerTip.time(e)-a.markerTip.time(t)})}function addMarkers(e){if(e){var t=e.hl[0];!0===p&&(t=e.hl[d.playlist.currentItem()]),!0===e.onoffopt&&function(e){var t=document.getElementById("videojs-infomarker-btn"+d.id_);if(!t){var r=videojs.getComponent("Button"),i=videojs.extend(r,{constructor:function(){r.apply(this,arguments),this.setAttribute("id","videojs-infomarker-btn"+d.id_),this.addClass("videojs-infomarker-btn"+d.id_),this.addClass("videojs-infomarker-btn"),this.addClass("fa"),this.addClass("fa-info-circle"),this.addClass("active"),this.controlText("info")},handleClick:function(e){e.target.classList.contains("active")?e.target.classList.remove("active"):e.target.className+=" active";for(var t=document.getElementById(d.id_).getElementsByClassName("vjs-marker"),n=0,r=t.length;n<r;n++)t[n].classList.contains("vjs-hidden")?t[n].classList.remove("vjs-hidden"):t[n].className+=" vjs-hidden";var i=document.getElementById("videojs-infomarker-btn"+d.id_);i.classList.contains("forced-hidden")?i.classList.remove("forced-hidden"):i.classList+=" forced-hidden"}});videojs.registerComponent("infoButton",i),d.getChild("controlBar").addChild("infoButton",{},g)}if(e){var o=n.default.createEl("div",{className:"vjs-marker-tableinfo"});o.id="vjs-marker-tableinfo-"+d.id_;var a=document.getElementById(d.id_);if(!0===p){var a=document.getElementById(d.id_),s=document.getElementById(d.id_+"-itemInfoCurrent");if(!s){var s=document.createElement("div");s.setAttribute("id",d.id_+"-itemInfoCurrent"),s.setAttribute("class","plCurrent")}var l=d.playlist.currentItem();0==l&&(l=1),s.innerHTML="<span>"+(d.playlist.currentItem()+1)+"/"+(d.playlist.lastIndex()+1)+"</span>",o.appendChild(s)}e.forEach(function(e){var t=document.createElement("div");t.setAttribute("data-time",e.time),t.innerHTML='<div class="sub-time-highlight">                                    <a class="highlight" >                                    <div class="video-time-highlight">                                      <div class="icon-event-highlight"><img width="100%" alt="" src="'+e.icon+'"></div>                                      <div><strong>'+te.secondsToHms(e.time,2)+"</strong> - "+e.text+"</div>                                    </div>                                    </a>                                 </div>",o.appendChild(t),t.addEventListener("click",function(e){var n=t.getAttribute("data-time");n>0&&(d.currentTime(n),d.play())})}),a.parentNode.insertBefore(o,a.nextSibling)}else t&&t.remove()}(t),t&&(t.forEach(function(e){var t;e.key=(t=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)})),d.el().querySelector(".vjs-progress-holder").appendChild(function(e){var t=document.getElementById("videojs-infomarker-btn"+d.id_),r=n.default.createEl("div",{className:"vjs-marker "+(e.class||"")},{"data-marker-key":e.key,"data-marker-time":a.markerTip.time(e)});if(t&&t.classList.contains("forced-hidden")&&(r.className+=" vjs-hidden"),Object.keys(a.markerStyle).forEach(function(e){r.style[e]=a.markerStyle[e]}),!1===a.highlight.useTooltip&&(r.setAttribute("title",e.text),a.markerTip.display=!1),e.icon){var i=document.createElement("img");i.src=e.icon,i.setAttribute("class","icoMarker"),r.appendChild(i)}return r.addEventListener("click",function(){var t=!1;if("function"==typeof a.onMarkerClick&&(t=!1===a.onMarkerClick(e)),!t){var n=this.getAttribute("data-marker-key");d.currentTime(a.markerTip.time(s[n]))}}),a.markerTip.display&&function(e){e.addEventListener("mouseover",function(){var t=s[e.getAttribute("data-marker-key")];if(c){c.querySelector(".vjs-tip-inner").innerText=a.markerTip.text(t);var n=getPosition(t),r=parseInt(n);r>90&&(n=90),r<10&&(n=10);var i=c.getBoundingClientRect().width;c.style.left=n+"%",c.style.marginLeft=-parseFloat(i/2)+parseFloat(i/4)+"px",c.style.visibility="visible"}}),e.addEventListener("mouseout",function(){c&&(c.style.visibility="hidden")})}(r),r.style.left=getPosition(e)+"%",r.style.marginLeft=r.getBoundingClientRect().width/2+"px",r}(e)),s[e.key]=e,l.push(e)}),sortMarkersList())}}function clearInfoTable(){var e=document.getElementById("vjs-marker-tableinfo-"+d.id_);e&&e.remove()}function getPosition(t){return!1===p?a.markerTip.time(t)/d.duration()*100:a.markerTip.time(t)/e.highlight.hltime[d.playlist.currentItem()]*100}function removeMarkers(e){f&&(h=o,f.style.visibility="hidden"),u=o;var t=[];e.forEach(function(e){var n=l[e];if(n){delete s[n.key],t.push(e);var r=d.el().querySelector(".vjs-marker[data-marker-key='"+n.key+"']");r.parentNode.removeChild(r)}}),t.reverse(),t.forEach(function(e){l.splice(e,1)}),sortMarkersList()}function updateBreakOverlay(){if(a.breakOverlay.display&&!(u<0)){var e=d.currentTime(),t=l[u],n=a.markerTip.time(t);e>=n&&e<=n+a.breakOverlay.displayTime?(h!==u&&(h=u,f&&(f.querySelector(".vjs-break-overlay-text").innerHTML=a.breakOverlay.text(t))),f&&(f.style.visibility="visible")):(h=o,f&&(f.style.visibility="hidden"))}}function updatePlaylistCount(){if(!0===p){var t=document.getElementById(d.id_+"-itemInfoCurrent");t&&(t.innerHTML="<span>"+(d.playlist.currentItem()+1)+"/"+(d.playlist.lastIndex()+1)+"</span>"),d.highlight.removeAll(),clearInfoTable(),addMarkers(e.highlight)}}function onTimeUpdate(){!function(){if(l.length){var t=function(e){return e<l.length-1?a.markerTip.time(l[e+1]):d.duration()},n=d.currentTime(),r=o;if(u!==o){var i=t(u);if(n>=a.markerTip.time(l[u])&&n<i)return;if(u===l.length-1&&n===d.duration())return}if(n<a.markerTip.time(l[0]))r=o;else for(var s=0;s<l.length;s++)if(i=t(s),n>=a.markerTip.time(l[s])&&n<i){r=s;break}r!==u&&(r!==o&&e.onMarkerReached&&e.onMarkerReached(l[r],r),u=r)}}(),updateBreakOverlay(),e.onTimeUpdateAfterMarkerUpdate&&e.onTimeUpdateAfterMarkerUpdate()}function initialize(){a.markerTip.display&&(c=n.default.createEl("div",{className:"vjs-tip",innerHTML:"<div class='vjs-tip-arrow'></div><div class='vjs-tip-inner'></div>"}),d.el().querySelector(".vjs-progress-holder").appendChild(c)),d.highlight.removeAll(),clearInfoTable(),addMarkers(e.highlight),a.breakOverlay.display&&(f=n.default.createEl("div",{className:"vjs-break-overlay",innerHTML:"<div class='vjs-break-overlay-text'></div>"}),Object.keys(a.breakOverlay.style).forEach(function(e){f&&(f.style[e]=a.breakOverlay.style[e])}),d.el().appendChild(f),h=o),onTimeUpdate(),d.on("timeupdate",onTimeUpdate),d.off("loadedmetadata")}d.on("loadedmetadata",function(){initialize()}),d.on("play",function(){setTimeout(function(){updatePlaylistCount()},500)}),d.on("onNext",function(){var e=d.currentTime();setTimeout(function(){updatePlaylistCount()},500);for(var t=0;t<l.length;t++){var n=a.markerTip.time(l[t]);if(n>e){d.currentTime(n);break}}}),d.on("onPrev",function(){var e=d.currentTime();setTimeout(function(){updatePlaylistCount()},500);for(var t=l.length-1;t>=0;t--){var n=a.markerTip.time(l[t]);if(n+.5<e)return void d.currentTime(n)}}),d.on("sourceset",function(){}),d.highlight={getMarkers:function(){return l},add:function(e){addMarkers(e)},remove:function(e){removeMarkers(e)},removeAll:function(){for(var e=[],t=0;t<l.length;t++)e.push(t);removeMarkers(e)},updateTime:function(){var e;e=document.getElementById("videojs-infomarker-btn"+d.id_),l.forEach(function(t){var n=d.el().querySelector(".vjs-marker[data-marker-key='"+t.key+"']"),r=a.markerTip.time(t);n.getAttribute("data-marker-time")!==r&&(n.style.left=getPosition(t)+"%",n.setAttribute("data-marker-time",r),e&&e.classList.contains("forced-hidden")&&(n.className+=" vjs-hidden"))}),sortMarkersList()},reset:function(e){d.highlight.removeAll(),addMarkers(e)},destroy:function(){d.highlight.removeAll(),f&&f.remove(),c&&c.remove(),d.off("timeupdate",updateBreakOverlay),delete d.highlight}}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("global/window"),require("video.js"),require("global/document")):"function"==typeof define&&define.amd?define(["global/window","video.js","global/document"],t):e.videojsContextmenuUi=t(e.window,e.videojs,e.document)}(this,function(e,t,n){"use strict";function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var r=function(t){function ContextMenuItem(){return t.apply(this,arguments)||this}return _inheritsLoose(ContextMenuItem,t),ContextMenuItem.prototype.handleClick=function(n){var r=this;t.prototype.handleClick.call(this),this.options_.listener(),e.setTimeout(function(){r.player().contextmenuUI.menu.dispose()},1)},ContextMenuItem}(t.getComponent("MenuItem")),i=t.getComponent("Menu"),o=t.dom||t,a=function(n){function ContextMenu(i,o){var a;return(a=n.call(this,i,o)||this).dispose=t.bind(_assertThisInitialized(_assertThisInitialized(a)),a.dispose),o.content.forEach(function(n){var o=function(){};"function"==typeof n.listener?o=n.listener:"string"==typeof n.href&&(o=function(){return e.open(n.href)}),a.addItem(new r(i,{label:n.label,listener:t.bind(i,o)}))}),a}return _inheritsLoose(ContextMenu,n),ContextMenu.prototype.createEl=function(){var e=n.prototype.createEl.call(this);return o.addClass(e,"vjs-contextmenu-ui-menu"),e.style.left=this.options_.position.left+"px",e.style.top=this.options_.position.top+"px",e},ContextMenu}(i);function getPointerPosition(t,r){var i={},o=function(t){var r;if(t.getBoundingClientRect&&t.parentNode&&(r=t.getBoundingClientRect()),!r)return{left:0,top:0};var i=n.documentElement,o=n.body,a=i.clientLeft||o.clientLeft||0,s=e.pageXOffset||o.scrollLeft,l=r.left+s-a,u=i.clientTop||o.clientTop||0,d=e.pageYOffset||o.scrollTop,c=r.top+d-u;return{left:Math.round(l),top:Math.round(c)}}(t),a=t.offsetWidth,s=t.offsetHeight,l=o.top,u=o.left,d=r.pageY,c=r.pageX;return r.changedTouches&&(c=r.changedTouches[0].pageX,d=r.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(l-d+s)/s)),i.x=Math.max(0,Math.min(1,(c-u)/a)),i}var s="5.0.0";function hasMenu(e){return e.hasOwnProperty("contextmenuUI")&&e.contextmenuUI.hasOwnProperty("menu")&&e.contextmenuUI.menu.el()}function onContextMenu(e){var r=this;if(hasMenu(this))this.contextmenuUI.menu.dispose();else{var i=function(e,t){return{left:Math.round(t.width*e.x),top:Math.round(t.height-t.height*e.y)}}(getPointerPosition(this.el(),e),this.el().getBoundingClientRect());e.preventDefault();var o=this.contextmenuUI.menu=new a(this,{content:this.contextmenuUI.content,position:i});this.contextmenuUI.closeMenu=function(){t.log.warn("player.contextmenuUI.closeMenu() is deprecated, please use player.contextmenuUI.menu.dispose() instead!"),o.dispose()},o.on("dispose",function(){t.off(n,["click","tap"],o.dispose),r.removeChild(o),delete r.contextmenuUI.menu}),this.addChild(o),t.on(n,["click","tap"],o.dispose)}}function contextmenuUI(e){var n=this;if(!Array.isArray(e.content))throw new Error('"content" required');hasMenu(this)&&(this.contextmenuUI.menu.dispose(),this.off("contextmenu",this.contextmenuUI.onContextMenu),delete this.contextmenuUI);var r=this.contextmenuUI=function(){contextmenuUI.apply(this,arguments)};r.onContextMenu=t.bind(this,onContextMenu),r.content=e.content,r.VERSION=s,this.on("contextmenu",r.onContextMenu),this.ready(function(){return n.addClass("vjs-contextmenu-ui")})}return(t.registerPlugin||t.plugin)("contextmenuUI",contextmenuUI),contextmenuUI.VERSION=s,contextmenuUI}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],t):t(e.videojs)}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t=function(e,t,n){this.vjsPlayer=e,this.controller=n,this.contentTrackingTimer=null,this.contentComplete=!1,this.updateTimeIntervalHandle=null,this.updateTimeInterval=1e3,this.seekCheckIntervalHandle=null,this.seekCheckInterval=1e3,this.resizeCheckIntervalHandle=null,this.resizeCheckInterval=250,this.seekThreshold=100,this.contentEndedListeners=[],this.contentSource="",this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0},this.vjsPlayerDimensions={width:this.getPlayerWidth(),height:this.getPlayerHeight()},this.vjsControls=this.vjsPlayer.getChild("controlBar"),this.h5Player=document.getElementById(this.controller.getSettings().id).getElementsByClassName("vjs-tech")[0],this.h5Player.hasAttribute("autoplay")&&this.controller.setSetting("adWillAutoPlay",!0),this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this)),this.boundContentEndedListener=this.localContentEndedListener.bind(this),this.vjsPlayer.on("ended",this.boundContentEndedListener),this.vjsPlayer.on("dispose",this.playerDisposedListener.bind(this)),this.vjsPlayer.on("readyforpreroll",this.onReadyForPreroll.bind(this)),this.vjsPlayer.ready(this.onPlayerReady.bind(this)),this.vjsPlayer.ads(t)};t.prototype.setUpPlayerIntervals=function(){this.updateTimeIntervalHandle=setInterval(this.updateCurrentTime.bind(this),this.updateTimeInterval),this.seekCheckIntervalHandle=setInterval(this.checkForSeeking.bind(this),this.seekCheckInterval),this.resizeCheckIntervalHandle=setInterval(this.checkForResize.bind(this),this.resizeCheckInterval)},t.prototype.updateCurrentTime=function(){this.contentPlayheadTracker.seeking||(this.contentPlayheadTracker.currentTime=this.vjsPlayer.currentTime())},t.prototype.checkForSeeking=function(){var e=1e3*(this.vjsPlayer.currentTime()-this.contentPlayheadTracker.previousTime);Math.abs(e)>this.seekCheckInterval+this.seekThreshold?this.contentPlayheadTracker.seeking=!0:this.contentPlayheadTracker.seeking=!1,this.contentPlayheadTracker.previousTime=this.vjsPlayer.currentTime()},t.prototype.checkForResize=function(){var e=this.getPlayerWidth(),t=this.getPlayerHeight();e==this.vjsPlayerDimensions.width&&t==this.vjsPlayerDimensions.height||(this.vjsPlayerDimensions.width=e,this.vjsPlayerDimensions.height=t,this.controller.onPlayerResize(e,t))},t.prototype.localContentEndedListener=function(){for(var e in this.contentComplete||(this.contentComplete=!0,this.controller.onContentComplete()),this.contentEndedListeners)"function"==typeof this.contentEndedListeners[e]&&this.contentEndedListeners[e]();clearInterval(this.updateTimeIntervalHandle),clearInterval(this.seekCheckIntervalHandle),clearInterval(this.resizeCheckIntervalHandle),this.vjsPlayer.el()&&this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this))},t.prototype.playerDisposedListener=function(){this.contentEndedListeners=[],this.controller.onPlayerDisposed(),this.contentComplete=!0,this.vjsPlayer.off("ended",this.localContentEndedListener),this.vjsPlayer.ads.adTimeoutTimeout&&clearTimeout(this.vjsPlayer.ads.adTimeoutTimeout);var e=[this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.resizeCheckIntervalHandle];for(var t in e)e[t]&&clearInterval(e[t])},t.prototype.onReadyForPreroll=function(){this.controller.onPlayerReadyForPreroll()},t.prototype.onPlayerReady=function(){this.onVolumeChange(),this.vjsPlayer.on("fullscreenchange",this.onFullscreenChange.bind(this)),this.vjsPlayer.on("volumechange",this.onVolumeChange.bind(this))},t.prototype.onFullscreenChange=function(){this.vjsPlayer.isFullscreen()?this.controller.onPlayerEnterFullscreen():this.controller.onPlayerExitFullscreen()},t.prototype.onVolumeChange=function(){var e=this.vjsPlayer.muted()?0:this.vjsPlayer.volume();this.controller.onPlayerVolumeChanged(e)},t.prototype.injectAdContainerDiv=function(e){this.vjsControls.el().parentNode.appendChild(e)},t.prototype.getContentPlayer=function(){return this.h5Player},t.prototype.getVolume=function(){return this.vjsPlayer.muted()?0:this.vjsPlayer.volume()},t.prototype.setVolume=function(e){this.vjsPlayer.volume(e),0==e?this.vjsPlayer.muted(!0):this.vjsPlayer.muted(!1)},t.prototype.unmute=function(){this.vjsPlayer.muted(!1)},t.prototype.mute=function(){this.vjsPlayer.muted(!0)},t.prototype.play=function(){this.vjsPlayer.play()},t.prototype.getPlayerWidth=function(){var e=(getComputedStyle(this.vjsPlayer.el())||{}).width;return e&&0!==parseInt(e,10)||(e=(this.vjsPlayer.el().getBoundingClientRect()||{}).width),parseInt(e,10)||this.vjsPlayer.width()},t.prototype.getPlayerHeight=function(){var e=this.vjsPlayer.el().getBoundingClientRect()||{};return parseInt(e.height,10)||this.vjsPlayer.height()},t.prototype.toggleFullscreen=function(){this.vjsPlayer.isFullscreen()?this.vjsPlayer.exitFullscreen():this.vjsPlayer.requestFullscreen()},t.prototype.getContentPlayheadTracker=function(){return this.contentPlayheadTracker},t.prototype.onAdError=function(e){this.vjsControls.show();var t=void 0!==e.getError?e.getError():e.stack;this.vjsPlayer.trigger({type:"adserror",data:{AdError:t,AdErrorEvent:e}})},t.prototype.onAdBreakStart=function(e){this.contentSource=this.vjsPlayer.currentSrc(),this.vjsPlayer.off("ended",this.boundContentEndedListener),-1!=e.getAd().getAdPodInfo().getPodIndex()&&this.vjsPlayer.ads.startLinearAdMode(),this.vjsControls.hide(),this.vjsPlayer.pause()},t.prototype.onAdBreakEnd=function(){this.vjsPlayer.on("ended",this.boundContentEndedListener),this.vjsPlayer.ads.endLinearAdMode(),this.vjsControls.show()},t.prototype.onAdStart=function(){this.vjsPlayer.trigger("ads-ad-started")},t.prototype.onAllAdsCompleted=function(){1==this.contentComplete&&(this.h5Player.src!=this.contentSource&&this.vjsPlayer.src(this.contentSource),this.controller.onContentAndAdsCompleted())},t.prototype.onAdsReady=function(){this.vjsPlayer.trigger("adsready")},t.prototype.changeSource=function(e,t){this.vjsPlayer.currentSrc()&&(this.vjsPlayer.currentTime(0),this.vjsPlayer.pause()),e&&this.vjsPlayer.src(e),t?this.vjsPlayer.one("loadedmetadata",this.playContentFromZero.bind(this)):this.vjsPlayer.one("loadedmetadata",this.seekContentToZero.bind(this))},t.prototype.seekContentToZero=function(){this.vjsPlayer.currentTime(0)},t.prototype.playContentFromZero=function(){this.vjsPlayer.currentTime(0),this.vjsPlayer.play()},t.prototype.addContentEndedListener=function(e){this.contentEndedListeners.push(e)},t.prototype.reset=function(){this.vjsPlayer.on("ended",this.boundContentEndedListener),this.vjsControls.show(),this.vjsPlayer.ads.endLinearAdMode(),this.contentPlayheadTracker.currentTime=0,this.contentComplete=!1},t.prototype.getPlayerOptions=function(){return this.vjsPlayer.options_};var n=function(e){this.controller=e,this.adContainerDiv=document.createElement("div"),this.controlsDiv=document.createElement("div"),this.countdownDiv=document.createElement("div"),this.seekBarDiv=document.createElement("div"),this.progressDiv=document.createElement("div"),this.playPauseDiv=document.createElement("div"),this.muteDiv=document.createElement("div"),this.sliderDiv=document.createElement("div"),this.sliderLevelDiv=document.createElement("div"),this.fullscreenDiv=document.createElement("div"),this.boundOnMouseUp=this.onMouseUp.bind(this),this.boundOnMouseMove=this.onMouseMove.bind(this),this.adPlayheadTracker={currentTime:0,duration:0,isPod:!1,adPosition:0,totalAds:0},this.controlPrefix=this.controller.getSettings().id?this.controller.getSettings().id+"_":"",this.showCountdown=!0,!1===this.controller.getSettings().showCountdown&&(this.showCountdown=!1),this.createAdContainer()};n.prototype.createAdContainer=function(){this.assignControlAttributes(this.adContainerDiv,"ima-ad-container"),this.adContainerDiv.style.position="absolute",this.adContainerDiv.style.zIndex=1111,this.adContainerDiv.addEventListener("mouseenter",this.showAdControls.bind(this),!1),this.adContainerDiv.addEventListener("mouseleave",this.hideAdControls.bind(this),!1),this.createControls(),this.controller.injectAdContainerDiv(this.adContainerDiv)},n.prototype.createControls=function(){this.assignControlAttributes(this.controlsDiv,"ima-controls-div"),this.controlsDiv.style.width="100%",this.assignControlAttributes(this.countdownDiv,"ima-countdown-div"),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel,this.countdownDiv.style.display=this.showCountdown?"block":"none",this.assignControlAttributes(this.seekBarDiv,"ima-seek-bar-div"),this.seekBarDiv.style.width="100%",this.assignControlAttributes(this.progressDiv,"ima-progress-div"),this.assignControlAttributes(this.playPauseDiv,"ima-play-pause-div"),this.addClass(this.playPauseDiv,"ima-playing"),this.playPauseDiv.addEventListener("click",this.onAdPlayPauseClick.bind(this),!1),this.assignControlAttributes(this.muteDiv,"ima-mute-div"),this.addClass(this.muteDiv,"ima-non-muted"),this.muteDiv.addEventListener("click",this.onAdMuteClick.bind(this),!1),this.assignControlAttributes(this.sliderDiv,"ima-slider-div"),this.sliderDiv.addEventListener("mousedown",this.onAdVolumeSliderMouseDown.bind(this),!1),this.assignControlAttributes(this.sliderLevelDiv,"ima-slider-level-div"),this.assignControlAttributes(this.fullscreenDiv,"ima-fullscreen-div"),this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.fullscreenDiv.addEventListener("click",this.onAdFullscreenClick.bind(this),!1),this.adContainerDiv.appendChild(this.controlsDiv),this.controlsDiv.appendChild(this.countdownDiv),this.controlsDiv.appendChild(this.seekBarDiv),this.controlsDiv.appendChild(this.playPauseDiv),this.controlsDiv.appendChild(this.muteDiv),this.controlsDiv.appendChild(this.sliderDiv),this.controlsDiv.appendChild(this.fullscreenDiv),this.seekBarDiv.appendChild(this.progressDiv),this.sliderDiv.appendChild(this.sliderLevelDiv)},n.prototype.onAdPlayPauseClick=function(){this.controller.onAdPlayPauseClick()},n.prototype.onAdMuteClick=function(){this.controller.onAdMuteClick()},n.prototype.onAdFullscreenClick=function(){this.controller.toggleFullscreen()},n.prototype.onAdsPaused=function(){this.addClass(this.playPauseDiv,"ima-paused"),this.removeClass(this.playPauseDiv,"ima-playing"),this.showAdControls()},n.prototype.onAdsResumed=function(){this.onAdsPlaying(),this.showAdControls()},n.prototype.onAdsPlaying=function(){this.addClass(this.playPauseDiv,"ima-playing"),this.removeClass(this.playPauseDiv,"ima-paused")},n.prototype.updateAdUi=function(e,t,n,r,i){var o=Math.floor(t/60),a=Math.floor(t%60);a.toString().length<2&&(a="0"+a);var s=": ";i>1&&(s=" ("+r+" of "+i+"): "),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel+s+o+":"+a;var l=100*(e/n);this.progressDiv.style.width=l+"%"},n.prototype.unmute=function(){this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*this.controller.getPlayerVolume()+"%"},n.prototype.mute=function(){this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"},n.prototype.onAdVolumeSliderMouseDown=function(){document.addEventListener("mouseup",this.boundOnMouseUp,!1),document.addEventListener("mousemove",this.boundOnMouseMove,!1)},n.prototype.onMouseMove=function(e){this.changeVolume(e)},n.prototype.onMouseUp=function(e){this.changeVolume(e),document.removeEventListener("mouseup",this.boundOnMouseUp),document.removeEventListener("mousemove",this.boundOnMouseMove)},n.prototype.changeVolume=function(e){var t=(e.clientX-this.sliderDiv.getBoundingClientRect().left)/this.sliderDiv.offsetWidth;t*=100,t=Math.min(Math.max(t,0),100),this.sliderLevelDiv.style.width=t+"%",0==this.percent?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted")):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted")),this.controller.setVolume(t/100)},n.prototype.showAdContainer=function(){this.adContainerDiv.style.display="block"},n.prototype.onAdError=function(){this.adContainerDiv.style.display="none"},n.prototype.onAdBreakStart=function(e){this.adContainerDiv.style.display="block","application/javascript"!==e.getAd().getContentType()||this.controller.getSettings().showControlsForJSAds?this.controlsDiv.style.display="block":this.controlsDiv.style.display="none",this.onAdsPlaying(),this.hideAdControls()},n.prototype.onAdBreakEnd=function(){var e=this.controller.getCurrentAd();(null==e||e.isLinear())&&(this.adContainerDiv.style.display="none"),this.controlsDiv.style.display="none",this.countdownDiv.innerHTML=""},n.prototype.onAllAdsCompleted=function(){this.adContainerDiv.style.display="none"},n.prototype.onLinearAdStart=function(){this.removeClass(this.adContainerDiv,"bumpable-ima-ad-container")},n.prototype.onNonLinearAdLoad=function(){this.adContainerDiv.style.display="block",this.addClass(this.adContainerDiv,"bumpable-ima-ad-container")},n.prototype.onPlayerResize=function(e,t){this.adsManager&&(this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.resize(e,t,google.ima.ViewMode.NORMAL))},n.prototype.onPlayerEnterFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-non-fullscreen")},n.prototype.onPlayerExitFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-fullscreen")},n.prototype.onPlayerVolumeChanged=function(e){0==e?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*e+"%")},n.prototype.showAdControls=function(){this.addClass(this.controlsDiv,"ima-controls-div-showing"),this.playPauseDiv.style.display="block",this.muteDiv.style.display="block",this.sliderDiv.style.display="block",this.fullscreenDiv.style.display="block"},n.prototype.hideAdControls=function(){this.removeClass(this.controlsDiv,"ima-controls-div-showing"),this.playPauseDiv.style.display="none",this.muteDiv.style.display="none",this.sliderDiv.style.display="none",this.fullscreenDiv.style.display="none"},n.prototype.assignControlAttributes=function(e,t){e.id=this.controlPrefix+t,e.className=this.controlPrefix+t+" "+t},n.prototype.getClassRegexp=function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")},n.prototype.elementHasClass=function(e,t){return this.getClassRegexp(t).test(e.className)},n.prototype.addClass=function(e,t){e.className=e.className.trim()+" "+t},n.prototype.removeClass=function(e,t){var n=this.getClassRegexp(t);e.className=e.className.trim().replace(n,"")},n.prototype.getAdContainerDiv=function(){return this.adContainerDiv},n.prototype.setShowCountdown=function(e){this.showCountdown=e,this.countdownDiv.style.display=this.showCountdown?"block":"none"};var r="1.2.1",i=function(e){this.controller=e,this.adDisplayContainer=null,this.adDisplayContainerInitialized=!1,this.adsLoader=null,this.adsManager=null,this.adsRenderingSettings=null,this.adTagUrl=null,this.adsResponse=null,this.currentAd=null,this.adTrackingTimer=null,this.allAdsCompleted=!1,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.adBreakReadyListener=void 0,this.contentCompleteCalled=!1,this.adsManagerDimensions={width:0,height:0},this.autoPlayAdBreaks=!0,!1===this.controller.getSettings().autoPlayAdBreaks&&(this.autoPlayAdBreaks=!1),this.controller.getSettings().locale&&google.ima.settings.setLocale(this.controller.getSettings().locale),this.controller.getSettings().disableFlashAds&&google.ima.settings.setDisableFlashAds(this.controller.getSettings().disableFlashAds),this.controller.getSettings().disableCustomPlaybackForIOS10Plus&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.controller.getSettings().disableCustomPlaybackForIOS10Plus),this.initAdObjects(),(this.controller.getSettings().adTagUrl||this.controller.getSettings().adsResponse)&&this.requestAds()};i.prototype.initAdObjects=function(){this.adDisplayContainer=new google.ima.AdDisplayContainer(this.controller.getAdContainerDiv(),this.controller.getContentPlayer()),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),0==this.controller.getSettings().vpaidAllowed&&this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED),this.controller.getSettings().vpaidMode&&this.adsLoader.getSettings().setVpaidMode(this.controller.getSettings().vpaidMode),this.controller.getSettings().locale&&this.adsLoader.getSettings().setLocale(this.controller.getSettings().locale),this.controller.getSettings().numRedirects&&this.adsLoader.getSettings().setNumRedirects(this.controller.getSettings().numRedirects),this.adsLoader.getSettings().setPlayerType("videojs-ima"),this.adsLoader.getSettings().setPlayerVersion(r),this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsLoaderError.bind(this),!1)},i.prototype.requestAds=function(){var e=new google.ima.AdsRequest;this.controller.getSettings().adTagUrl?e.adTagUrl=this.controller.getSettings().adTagUrl:e.adsResponse=this.controller.getSettings().adsResponse,this.controller.getSettings().forceNonLinearFullSlot&&(e.forceNonLinearFullSlot=!0),e.linearAdSlotWidth=this.controller.getPlayerWidth(),e.linearAdSlotHeight=this.controller.getPlayerHeight(),e.nonLinearAdSlotWidth=this.controller.getSettings().nonLinearWidth||this.controller.getPlayerWidth(),e.nonLinearAdSlotHeight=this.controller.getSettings().nonLinearHeight||this.controller.getPlayerHeight(),e.setAdWillAutoPlay(this.controller.adsWillAutoplay()),e.setAdWillPlayMuted(this.controller.adsWillPlayMuted()),this.adsLoader.requestAds(e)},i.prototype.onAdsManagerLoaded=function(e){this.createAdsRenderingSettings(),this.adsManager=e.getAdsManager(this.controller.getContentPlayheadTracker(),this.adsRenderingSettings),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,this.onAdBreakReady.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdLoaded.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdComplete.bind(this)),this.controller.getIsMobile()&&(this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdResumed.bind(this))),this.autoPlayAdBreaks||this.initAdsManager(),this.controller.onAdsReady(),this.controller.getSettings().adsManagerLoadedCallback&&this.controller.getSettings().adsManagerLoadedCallback()},i.prototype.onAdsLoaderError=function(e){window.console.warn("AdsLoader error: "+e.getError()),this.controller.onErrorLoadingAds(e),this.adsManager&&this.adsManager.destroy()},i.prototype.initAdsManager=function(){try{var e=this.controller.getPlayerWidth(),t=this.controller.getPlayerHeight();this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.init(e,t,google.ima.ViewMode.NORMAL),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainer.initialized=!0)}catch(e){this.onAdError(e)}},i.prototype.createAdsRenderingSettings=function(){if(this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.controller.getSettings().adsRenderingSettings)for(var e in this.controller.getSettings().adsRenderingSettings)""!==e&&(this.adsRenderingSettings[e]=this.controller.getSettings().adsRenderingSettings[e])},i.prototype.onAdError=function(e){var t=void 0!==e.getError?e.getError():e.stack;window.console.warn("Ad error: "+t),this.adsManager.destroy(),this.controller.onAdError(e)},i.prototype.onAdBreakReady=function(e){this.adBreakReadyListener(e)},i.prototype.onContentPauseRequested=function(e){this.adsActive=!0,this.adPlaying=!0,this.controller.onAdBreakStart(e)},i.prototype.onContentResumeRequested=function(e){this.adsActive=!1,this.adPlaying=!1,this.controller.onAdBreakEnd()},i.prototype.onAllAdsCompleted=function(e){this.allAdsCompleted=!0,this.controller.onAllAdsCompleted()},i.prototype.onAdLoaded=function(e){e.getAd().isLinear()||(this.controller.onNonLinearAdLoad(),this.controller.playContent())},i.prototype.onAdStarted=function(e){this.currentAd=e.getAd(),this.currentAd.isLinear()?(this.adTrackingTimer=setInterval(this.onAdPlayheadTrackerInterval.bind(this),250),this.controller.onLinearAdStart()):this.controller.onNonLinearAdStart()},i.prototype.onAdPaused=function(){this.controller.onAdsPaused()},i.prototype.onAdResumed=function(e){this.controller.onAdsResumed()},i.prototype.onAdComplete=function(){this.currentAd.isLinear()&&clearInterval(this.adTrackingTimer)},i.prototype.onAdPlayheadTrackerInterval=function(){var e=this.adsManager.getRemainingTime(),t=this.currentAd.getDuration(),n=t-e;n=n>0?n:0;var r=0,i=void 0;this.currentAd.getAdPodInfo()&&(i=this.currentAd.getAdPodInfo().getAdPosition(),r=this.currentAd.getAdPodInfo().getTotalAds()),this.controller.onAdPlayheadUpdated(n,e,t,i,r)},i.prototype.onContentComplete=function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0),this.allAdsCompleted&&this.controller.onContentAndAdsCompleted()},i.prototype.onPlayerDisposed=function(){this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null)},i.prototype.onPlayerReadyForPreroll=function(){if(this.autoPlayAdBreaks){this.initAdsManager();try{this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start()}catch(e){this.onAdError(e)}}},i.prototype.onPlayerEnterFullscreen=function(){this.adsManager&&this.adsManager.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)},i.prototype.onPlayerExitFullscreen=function(){this.adsManager&&this.adsManager.resize(this.controller.getPlayerWidth(),this.controller.getPlayerHeight(),google.ima.ViewMode.NORMAL)},i.prototype.onPlayerVolumeChanged=function(e){this.adsManager&&this.adsManager.setVolume(e),this.adMuted=0==e},i.prototype.getCurrentAd=function(){return this.currentAd},i.prototype.setAdBreakReadyListener=function(e){this.adBreakReadyListener=e},i.prototype.isAdPlaying=function(){return this.adPlaying},i.prototype.isAdMuted=function(){return this.adMuted},i.prototype.pauseAds=function(){this.adsManager.pause(),this.adPlaying=!1},i.prototype.resumeAds=function(){this.adsManager.resume(),this.adPlaying=!0},i.prototype.unmute=function(){this.adsManager.setVolume(1),this.adMuted=!1},i.prototype.mute=function(){this.adsManager.setVolume(0),this.adMuted=!0},i.prototype.setVolume=function(e){this.adsManager.setVolume(e),this.adMuted=0==e},i.prototype.initializeAdDisplayContainer=function(){this.adDisplayContainerInitialized=!0,this.adDisplayContainer.initialize()},i.prototype.playAdBreak=function(){this.autoPlayAdBreaks||(this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start())},i.prototype.addEventListener=function(e,t){this.adsManager&&this.adsManager.addEventListener(e,t)},i.prototype.getAdsManager=function(){return this.adsManager},i.prototype.reset=function(){this.adsActive=!1,this.adPlaying=!1,this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&this.adsLoader.contentComplete(),this.contentCompleteCalled=!1,this.allAdsCompleted=!1},i.prototype.onPlayerResize=function(e,t){this.adsManager&&(this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.resize(e,t,google.ima.ViewMode.NORMAL))};var o=function(e,r){this.settings={},this.contentAndAdsEndedListeners=[],this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.initWithSettings(r);var o={debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout},a=this.extend({},o,r.contribAdsSettings||{});this.playerWrapper=new t(e,a,this),this.adUi=new n(this),this.sdkImpl=new i(this)};o.IMA_DEFAULTS={debug:!1,timeout:5e3,prerollTimeout:1e3,adLabel:"Advertisement",showControlsForJSAds:!0,adWillPlayMuted:!1},o.prototype.initWithSettings=function(e){this.settings=this.extend({},o.IMA_DEFAULTS,e||{}),this.settings.id?(this.showCountdown=!0,!1===this.settings.showCountdown&&(this.showCountdown=!1)):window.console.error("Error: must provide id of video.js div")},o.prototype.warnAboutDeprecatedSettings=function(){[].forEach.call(["adWillAutoplay","adsWillAutoplay","adWillPlayMuted","adsWillPlayMuted"],function(e){this.settings[e]})},o.prototype.getSettings=function(){return this.settings},o.prototype.getIsMobile=function(){return this.isMobile},o.prototype.injectAdContainerDiv=function(e){this.playerWrapper.injectAdContainerDiv(e)},o.prototype.getAdContainerDiv=function(){return this.adUi.getAdContainerDiv()},o.prototype.getContentPlayer=function(){return this.playerWrapper.getContentPlayer()},o.prototype.getContentPlayheadTracker=function(){return this.playerWrapper.getContentPlayheadTracker()},o.prototype.requestAds=function(){this.sdkImpl.requestAds()},o.prototype.setSetting=function(e,t){this.settings[e]=t},o.prototype.onErrorLoadingAds=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},o.prototype.onAdPlayPauseClick=function(){this.sdkImpl.isAdPlaying()?(this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()):(this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds())},o.prototype.onAdMuteClick=function(){this.sdkImpl.isAdMuted()?(this.playerWrapper.unmute(),this.adUi.unmute(),this.sdkImpl.unmute()):(this.playerWrapper.mute(),this.adUi.mute(),this.sdkImpl.mute())},o.prototype.setVolume=function(e){this.playerWrapper.setVolume(e),this.sdkImpl.setVolume(e)},o.prototype.getPlayerVolume=function(){return this.playerWrapper.getVolume()},o.prototype.toggleFullscreen=function(){this.playerWrapper.toggleFullscreen()},o.prototype.onAdError=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},o.prototype.onAdBreakStart=function(e){this.playerWrapper.onAdBreakStart(e),this.adUi.onAdBreakStart(e)},o.prototype.showAdContainer=function(){this.adUi.showAdContainer()},o.prototype.onAdBreakEnd=function(){this.playerWrapper.onAdBreakEnd(),this.adUi.onAdBreakEnd()},o.prototype.onAllAdsCompleted=function(){this.adUi.onAllAdsCompleted(),this.playerWrapper.onAllAdsCompleted()},o.prototype.onAdsPaused=function(){this.adUi.onAdsPaused()},o.prototype.onAdsResumed=function(){this.adUi.onAdsResumed()},o.prototype.onAdPlayheadUpdated=function(e,t,n,r,i){this.adUi.updateAdUi(e,t,n,r,i)},o.prototype.getCurrentAd=function(){return this.sdkImpl.getCurrentAd()},o.prototype.playContent=function(){this.playerWrapper.play()},o.prototype.onLinearAdStart=function(){this.adUi.onLinearAdStart(),this.playerWrapper.onAdStart()},o.prototype.onNonLinearAdLoad=function(){this.adUi.onNonLinearAdLoad()},o.prototype.onNonLinearAdStart=function(){this.adUi.onNonLinearAdLoad(),this.playerWrapper.onAdStart()},o.prototype.getPlayerWidth=function(){return this.playerWrapper.getPlayerWidth()},o.prototype.getPlayerHeight=function(){return this.playerWrapper.getPlayerHeight()},o.prototype.onAdsReady=function(){this.playerWrapper.onAdsReady()},o.prototype.onPlayerResize=function(e,t){this.sdkImpl.onPlayerResize(e,t)},o.prototype.onContentComplete=function(){this.sdkImpl.onContentComplete()},o.prototype.onContentAndAdsCompleted=function(){for(var e in this.contentAndAdsEndedListeners)"function"==typeof this.contentAndAdsEndedListeners[e]&&this.contentAndAdsEndedListeners[e]()},o.prototype.onPlayerDisposed=function(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},o.prototype.onPlayerReadyForPreroll=function(){this.sdkImpl.onPlayerReadyForPreroll()},o.prototype.onPlayerEnterFullscreen=function(){this.adUi.onPlayerEnterFullscreen(),this.sdkImpl.onPlayerEnterFullscreen()},o.prototype.onPlayerExitFullscreen=function(){this.adUi.onPlayerExitFullscreen(),this.sdkImpl.onPlayerExitFullscreen()},o.prototype.onPlayerVolumeChanged=function(e){this.adUi.onPlayerVolumeChanged(e),this.sdkImpl.onPlayerVolumeChanged(e)},o.prototype.setContentWithAdTag=function(e,t,n){this.reset(),this.settings.adTagUrl=t||this.settings.adTagUrl,this.playerWrapper.changeSource(e,n)},o.prototype.setContentWithAdsResponse=function(e,t,n){this.reset(),this.settings.adsResponse=t||this.settings.adsResponse,this.playerWrapper.changeSource(e,n)},o.prototype.reset=function(){this.sdkImpl.reset(),this.playerWrapper.reset()},o.prototype.addContentEndedListener=function(e){this.playerWrapper.addContentEndedListener(e)},o.prototype.addContentAndAdsEndedListener=function(e){this.contentAndAdsEndedListeners.push(e)},o.prototype.setAdBreakReadyListener=function(e){this.sdkImpl.setAdBreakReadyListener(e)},o.prototype.setShowCountdown=function(e){this.adUi.setShowCountdown(e),this.showCountdown=e,this.countdownDiv.style.display=this.showCountdown?"block":"none"},o.prototype.initializeAdDisplayContainer=function(){this.sdkImpl.initializeAdDisplayContainer()},o.prototype.playAdBreak=function(){this.sdkImpl.playAdBreak()},o.prototype.addEventListener=function(e,t){this.sdkImpl.addEventListener(e,t)},o.prototype.getAdsManager=function(){return this.sdkImpl.getAdsManager()},o.prototype.changeAdTag=function(e){this.reset(),this.settings.adTagUrl=e},o.prototype.pauseAd=function(){this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()},o.prototype.resumeAd=function(){this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds()},o.prototype.adsWillAutoplay=function(){return void 0!==this.settings.adsWillAutoplay?this.settings.adsWillAutoplay:void 0!==this.settings.adWillAutoplay?this.settings.adWillAutoplay:!!this.playerWrapper.getPlayerOptions().autoplay},o.prototype.adsWillPlayMuted=function(){return void 0!==this.settings.adsWillPlayMuted?this.settings.adsWillPlayMuted:void 0!==this.settings.adWillPlayMuted?this.settings.adWillPlayMuted:void 0!==this.playerWrapper.getPlayerOptions().muted?this.playerWrapper.getPlayerOptions().muted:0==this.playerWrapper.getVolume()},o.prototype.extend=function(e){for(var t=void 0,n=void 0,r=void 0,i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];for(n=0;n<o.length;n++)for(r in t=o[n])t.hasOwnProperty(r)&&(e[r]=t[r]);return e};(e.registerPlugin||e.plugin)("ima",function(e){this.ima=new function(e,t){this.controller=new o(e,t),this.addContentAndAdsEndedListener=function(e){this.controller.addContentAndAdsEndedListener(e)}.bind(this),this.addContentEndedListener=function(e){this.controller.addContentEndedListener(e)}.bind(this),this.addEventListener=function(e,t){this.controller.addEventListener(e,t)}.bind(this),this.changeAdTag=function(e){this.controller.changeAdTag(e)}.bind(this),this.getAdsManager=function(){return this.controller.getAdsManager()}.bind(this),this.initializeAdDisplayContainer=function(){this.controller.initializeAdDisplayContainer()}.bind(this),this.pauseAd=function(){this.controller.pauseAd()}.bind(this),this.playAdBreak=function(){this.controller.playAdBreak()}.bind(this),this.requestAds=function(){this.controller.requestAds()}.bind(this),this.resumeAd=function(){this.controller.resumeAd()}.bind(this),this.setAdBreakReadyListener=function(e){this.controller.setAdBreakReadyListener(e)}.bind(this),this.setContentWithAdTag=function(e,t,n){this.controller.setContentWithAdTag(e,t,n)}.bind(this),this.setContentWithAdsResponse=function(e,t,n){this.controller.setContentWithAdsResponse(e,t,n)}.bind(this),this.setShowCountdown=function(e){this.controller.setShowCountdown(e)}.bind(this)}(this,e)})}),function(e,t){"use strict";if("IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype)"isIntersecting"in e.IntersectionObserverEntry.prototype||Object.defineProperty(e.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];IntersectionObserver.prototype.THROTTLE_TIMEOUT=100,IntersectionObserver.prototype.POLL_INTERVAL=null,IntersectionObserver.prototype.USE_MUTATION_OBSERVER=!0,IntersectionObserver.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},IntersectionObserver.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},IntersectionObserver.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},IntersectionObserver.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},IntersectionObserver.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},IntersectionObserver.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},IntersectionObserver.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(addEvent(e,"resize",this._checkForIntersections,!0),addEvent(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},IntersectionObserver.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,removeEvent(e,"resize",this._checkForIntersections,!0),removeEvent(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},IntersectionObserver.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(r){var i=r.element,o=getBoundingClientRect(i),a=this._rootContainsTarget(i),s=r.entry,l=t&&a&&this._computeTargetAndRootIntersection(i,n),u=r.entry=new IntersectionObserverEntry({time:e.performance&&performance.now&&performance.now(),target:i,boundingClientRect:o,rootBounds:n,intersectionRect:l});s?t&&a?this._hasCrossedThreshold(s,u)&&this._queuedEntries.push(u):s&&s.isIntersecting&&this._queuedEntries.push(u):this._queuedEntries.push(u)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},IntersectionObserver.prototype._computeTargetAndRootIntersection=function(n,r){if("none"!=e.getComputedStyle(n).display){for(var i,o,a,s,l,u,d,c,f=getBoundingClientRect(n),h=getParentNode(n),p=!1;!p;){var g=null,y=1==h.nodeType?e.getComputedStyle(h):{};if("none"==y.display)return;if(h==this.root||h==t?(p=!0,g=r):h!=t.body&&h!=t.documentElement&&"visible"!=y.overflow&&(g=getBoundingClientRect(h)),g&&(i=g,o=f,void 0,void 0,void 0,void 0,void 0,void 0,a=Math.max(i.top,o.top),s=Math.min(i.bottom,o.bottom),l=Math.max(i.left,o.left),u=Math.min(i.right,o.right),c=s-a,!(f=(d=u-l)>=0&&c>=0&&{top:a,bottom:s,left:l,right:u,width:d,height:c})))break;h=getParentNode(h)}return f}},IntersectionObserver.prototype._getRootRect=function(){var e;if(this.root)e=getBoundingClientRect(this.root);else{var n=t.documentElement,r=t.body;e={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},IntersectionObserver.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100}),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},IntersectionObserver.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},IntersectionObserver.prototype._rootIsInDom=function(){return!this.root||containsDeep(t,this.root)},IntersectionObserver.prototype._rootContainsTarget=function(e){return containsDeep(this.root||t,e)},IntersectionObserver.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},IntersectionObserver.prototype._unregisterInstance=function(){var e=n.indexOf(this);-1!=e&&n.splice(e,1)},e.IntersectionObserver=IntersectionObserver,e.IntersectionObserverEntry=IntersectionObserverEntry}function IntersectionObserverEntry(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?i/n:this.isIntersecting?1:0}function IntersectionObserver(e,t){var n,r,i,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout(function(){n(),i=null},r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function addEvent(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function removeEvent(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function getBoundingClientRect(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function containsDeep(e,t){for(var n=t;n;){if(n==e)return!0;n=getParentNode(n)}return!1}function getParentNode(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}}(window,document),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){"use strict";if("Element"in e){var t=e.Element.prototype,n=Object,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},i=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},o=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new o("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(t))throw new o("INVALID_CHARACTER_ERR","The token must not contain space characters.");return i.call(e,t)},s=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=s.prototype=[],u=function(){return new s(this)};if(o.prototype=Error.prototype,l.item=function(e){return this[e]||null},l.contains=function(e){return~a(this,e+"")},l.add=function(){var e,t=arguments,n=0,r=t.length,i=!1;do{e=t[n]+"",~a(this,e)||(this.push(e),i=!0)}while(++n<r);i&&this._updateClassName()},l.remove=function(){var e,t,n=arguments,r=0,i=n.length,o=!1;do{for(e=n[r]+"",t=a(this,e);~t;)this.splice(t,1),o=!0,t=a(this,e)}while(++r<i);o&&this._updateClassName()},l.toggle=function(e,t){var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},l.replace=function(e,t){var n=a(e+"");~n&&(this.splice(n,1,t),this._updateClassName())},l.toString=function(){return this.join(" ")},n.defineProperty){var d={get:u,enumerable:!0,configurable:!0};try{n.defineProperty(t,"classList",d)}catch(e){void 0!==e.number&&-2146823252!==e.number||(d.enumerable=!1,n.defineProperty(t,"classList",d))}}else n.prototype.__defineGetter__&&t.__defineGetter__("classList",u)}}(self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,r=arguments.length;for(n=0;n<r;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(e,t){var n=this.toString().split(" "),r=n.indexOf(e+"");~r&&(n=n.slice(r),this.remove.apply(this,n),this.add(t),this.add.apply(this,n.slice(1)))}),e=null}()),Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var e=this.length-1;e>=0;e--)this[e]&&this[e].parentElement&&this[e].parentElement.removeChild(this[e])},void 0===Element.prototype.addEventListener&&(Element.prototype.addEventListener=function(e,t){return e="on"+e,this.attachEvent(e,t)}),Array.prototype.forEach||(Array.prototype.forEach=function(e){var t,n;if(null==this)throw new TypeError("this is null or not defined");var r=Object(this),i=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),n=0;n<i;){var o;n in r&&(o=r[n],e.call(t,o,n,r)),n++}}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=this.length,r=0;r<n;r++)e.call(t,this[r],r,this)});var te={isMobile:function(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))return!0},isElementInViewport:function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},isAboveViewport:function(e,t,n){var r=n||10;return e.getBoundingClientRect().top<=0+r},urlDecode:function(e){if(e)return decodeURIComponent(e.replace(/\+/g," "))},secondsToHms:function(e,t){e=Number(e);var n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=Math.floor(e%3600%60);return 1===t?("0"+n).slice(-2)+":"+("0"+r).slice(-2)+":"+("0"+i).slice(-2):2===t?("0"+r).slice(-2)+":"+("0"+i).slice(-2):void 0},isSafari:function(){return!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)},isChromeMobile:function(){navigator.userAgent.match("CriOS");return!!navigator.userAgent.match("CriOS")},isChrome:function(){var e=window.chrome,t=window.navigator,n=t.vendor,r=void 0!==window.opr,i=t.userAgent.indexOf("Edge")>-1;return!t.userAgent.match("CriOS")&&(null!==e&&void 0!==e&&"Google Inc."===n&&!1===r&&!1===i)},isIos:function(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)},iOSVersion:function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}return-1},isAndroid:function(){return navigator.userAgent.toLowerCase().indexOf("android")>-1},isFirefox:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},isUcBrowser:function(){return navigator.userAgent.indexOf(" UCBrowser/")>=0||navigator.userAgent.indexOf("UBrowser/")>=0},byId:function(e){return document.getElementById(e)},byClass:function(e){return document.getElementsByClassName(e)}},ne=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){setTimeout(e,0)};window.HELP_IMPROVE_VIDEOJS=!1,videojs.addLanguage("vn",{Play:"Pht",Pause:"Tm dng","Current Time":"Thi gian hin ti","Duration Time":" di","Remaining Time":"Thi gian cn li","Stream Type":"Kiu Stream",LIVE:"TRC TIP",Loaded:" ti",Progress:"Tin trnh",Fullscreen:"Ton mn hnh","Non-Fullscreen":"Thot ton mn hnh",Mute:"Tt ting",Unmute:"Bt m thanh","Playback Rate":"Tc  pht",Subtitles:"Ph ","subtitles off":"Tt ph ",Captions:"Ch thch","captions off":"Tt ch thch",Chapters:"Chng","You aborted the media playback":"Bn  hy vic pht media.","A network error caused the media download to fail part-way.":" xy ra li mng dn n vic ti video b li, vui lng th li.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Video khng ti c, mng hay server c li hoc nh dng khng c h tr, vui lng th li.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Pht media  b hy do mt sai li hoc media s dng nhng tnh nng trnh duyt khng h tr.","No compatible source was found for this media.":"Khng c ngun tng thch cho media ny."}),function(e,t){"function"==typeof define&&define.amd?define(["params"],function(n){return e.videoObj=t(n)}):"object"==typeof module&&module.exports?module.exports=e.videoObj=t(require("params")):e.videoObj=t(e.params)}(this,function(e){return(e=function(e){for(var t in e)this[t]=e[t];if(void 0!==this.VIDEOID&&void 0!==this.getById(this.VIDEOID)){var n,r;this.debugProfile||urlSearchPar("debugProfile"),this.playerState={played:!1,prerollRequested:!1,postrollRequested:!1,midrollRequested:!1,lastPlayedItem:0,init:!1,lastAdsType:"noads",ended:!1,sentPlay:!1,sourceChange:!1,adVolChanged:!1,adsStartTime:0,preAdsStartSent:!1},this.isInIframe=e.isInIframe,this.startEvent="click",this.isMobile=te.isMobile(),this.prerollTimeEnd=e.prerollTimeEnd,this.midrollTimeEnd=e.midrollTimeEnd,this.postrollTimeEnd=e.postrollTimeEnd,this.skipTime=e.skipTime||5,this.showAdVol=e.showAdVol||this.skipTime,this.minTimeToRunAds=e.minTimeToRunAds||5,this.hoverAutoplay=e.hoverAutoplay||!1,this.offsetWatchTop=e.offsetWatchTop||0,this.offsetWatchBottom=e.offsetWatchBottom||0,this.intervalIdCountdown=!1,this.vidVolIncreased=!1,this.adVolIncreased=!1,this.played=!1,this.playing=!1,this.seeked=!1,this.isFirstPlay=!1,this.indexPlayed={},this.preroll=!1,this.postroll=!1,this.overlays=[],this.adLoadTimeout=e.adLoadTimeout||15e3,this.autoplay=e.autoplay||!1,this.willAutoplay=this.autoplay||this.viewportAutoPlay||this.hoverAutoplay,this.muted=this.autoplay||this.isMobile||this.viewportAutoPlay||this.hoverAutoplay,this.adWillPlayMuted=this.muted,this.sentryDbg=e.sentryDbg||urlSearchPar("sentryDbg"),this.triggerIntersec=.5,this.prerollTimeEnd=e.prerollTimeEnd||0,this.midrollTimeEnd=e.midrollTimeEnd||0,this.postrollTimeEnd=e.postrollTimeEnd||0,this.useTooltip=e.useTooltip||!1,urlSearchPar("24hplayerdebug")&&(this.debug=!0),this.sentryDbg&&(n=document,(r=n.createElement("script")).type="text/javascript",r.async=!0,r.onload=function(){Raven.config("https://7d870562307c4bbeb22b2b1fe6ffa48e@sentry.24h.com.vn/2").install()},r.src="https://cdn.ravenjs.com/3.23.2/raven.min.js",n.getElementsByTagName("head")[0].appendChild(r)),(""===this.adTagUrl||!this.vastUri||this.playlistConf&&!this.playlistConf[0].sources[0].adTagUrl)&&(this.adLoadTimeout=0),(this.minAble||this.viewportAutoPlay)&&(this.minClosed=!1,this.minPrefix="-minableMon"),this.lastScrollTime=Date.now(),this.scrollWait=300,this.oriEventTime=Date.now(),this.oriWait=300,this.playlistConf||(this.isPlaylist=!1),"undefined"!==e.playlistConf&&(this.isPlaylist=!1),e.language||(this.language="vn"),this.parentOrigin=e.parentOrigin||!1,this.hlsProtected&&void 0!==ee&&(this.pallyCon=ee),this.tempVast="https://cdn.24h.com.vn/upload/html/tempvast.xml",this.controlbarChild=[{name:"playToggle"},{name:"currentTimeDisplay"},{name:"timeDivider"},{name:"durationDisplay"},{name:"remainingTimeDisplay"},{name:"progressControl"},{name:"fullscreenToggle"}],this.isMobile?this.controlbarChild.push({name:"muteToggle"}):this.controlbarChild.push({name:"volumeMenuButton",volumeBar:{vertical:!0}}),(this.willAutoplay||this.isMobile&&this.vastUri&&this.hasClass("vjs-has-started"))&&(this.muted=!0),this.player=videojs(this.VIDEOID,{autoplay:this.autoplay,muted:this.muted,nativeControlsForTouch:!1,playsinline:!0,"webkit-playsinline":!0,language:this.language,controlBar:{children:this.controlbarChild,progressControl:{keepTooltipsInside:!0}},flash:{swf:"//static.24h.com.vn/upload/player/video-js.swf"},debug:this.debug,loadingSpinner:!0}),this.player.contextmenuUI({content:[{label:"24h.com.vn Player"},{label:"Version: 2018-10-23 14:40:11"},{label:"ng"}]}),(this.hlsProtected||this.dashProtected||this.hlsKey)&&(this.isMobile?te.isIos()?te.isSafari()?te.iOSVersion()[0]<11?(this.dbglog("HLS Key Protected"),this.player.src(this.hlsKey.source)):(this.dbglog("DRM HLS Protected"),this.hlsProtected.player=this.player,this.pallyCon.fairplay(this.hlsProtected)):(this.dbglog("HLS Key Protected"),this.player.src(this.hlsKey.source)):te.isAndroid()&&te.isChromeMobile()?(this.dbglog("DRM Dash Protected"),this.player.src(this.dashProtected)):(this.dbglog("HLS Key Protected"),this.player.src(this.hlsKey.source)):te.isSafari()?(this.dbglog("DRM HLS Protected"),this.hlsProtected.player=this.player,this.pallyCon.fairplay(this.hlsProtected)):(this.dbglog("DRM Dash Protected"),this.player.src(this.dashProtected))),this.vidVol&&this.setVidVol(this.vidVol),this.playlistConf&&this.playlistConf[0].sources[0].adTagUrl&&(this.vastUri=this.playlistConf[0].sources[0].adTagUrl),(this.isMobile||this.willAutoplay)&&(this.muteAd(),this.adWillPlayMuted=!0);var i=this.tempVast;this.viewportAutoPlay&&(i=te.urlDecode(this.vastUri)||this.tempVast),this.options={id:this.VIDEOID,adsManagerLoadedCallback:this.adsManagerLoadedCallback.bind(this),adWillPlayMuted:this.adWillPlayMuted,showCountdown:!0,disableFlashAds:!0,vpaidMode:"ENABLED",vpaidAllowed:"ENABLED",vpaidMode:google.ima.ImaSdkSettings.VpaidMode.INSECURE,children:{loadingSpinner:!0},adTagUrl:i,linearAdSlotWidth:this.player.width(),linearAdSlotHeight:this.player.height(),disableCustomPlaybackForIOS10Plus:!0,adsRenderingSettings:{enablePreloading:!0,useStyledLinearAds:!1,useStyledNonLinearAds:!0}},this.dbglog("IMA OPTIONS"),this.dbglog(this.options),""===this.options.adTagUrl&&(this.options.adLoadTimeout=0,this.options.adTagUrl=this.tempVast),(this.isMobile&&this.vastUri&&this.autoplay||this.willAutoplay)&&this.player.muted(!0),this.vastUri||(this.options.adsResponse=""),this.dbglog("this.options"),this.dbglog(this.options),this.player.ima(this.options);var o=this.getById(this.VIDEOID+"_html5_api");this.isMobile&&o.hasAttribute("controls")&&o.removeAttribute("controls"),o.setAttribute("poster",this.poster),this.isMobile&&(this.touchStartTime=0,this.touchEndTime=0,this.touchHoldTime=0,this.player.on("touchstart",function(){this.touchStartTime=(new Date).valueOf()}.bind(this)),this.player.on("touchend",function(){this.touchEndTime=(new Date).valueOf(),this.touchHoldTime=this.touchEndTime-this.touchStartTime}.bind(this))),this.startEvent="click",(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(this.startEvent="touchend"),this.wrapperDiv=this.getById(this.VIDEOID),this.boundInit=this.init.bind(this),this.wrapperDiv.addEventListener(this.startEvent,this.init.bind(this)),this.overlay(),this.autoHideControls||this.addClasses(["vjs-controlbar-always-show"]),this.viewportAutoPlay&&this.addClasses(["vjs-viewportautoplay","vjs-offviewport"]),this.minAble&&this.addClasses(["vjs-minable"]);var a,s,l,u,d,c,f="onorientationchange"in window?"orientationchange":"resize";window.addEventListener(f,function(e){if(e.preventDefault(),Date.now()-this.oriEventTime>=this.oriWait){this.dbglog("orientationchange"),this.oriEventTime=Date.now();var t=this.getById(this.VIDEOID).offsetWidth,n=this.getById(this.VIDEOID).offsetHeight;this.resizeAds(t,n)}e.stopPropagation()}.bind(this),!1),this.isInIframe&&window.addEventListener("message",this.listenToParent.bind(this),!1),this.player.on("progress",function(){}),this.player.on("beforeended",function(){}),this.player.on("timeupdate",function(){var e=this.player.currentTime(),t=Math.round(e);this.player.ads.isInAdMode()||this.removeClasses(["vjs-ad-playing"]),e>0&&e<.1&&this.hasClass("vjs-userpaused")&&this.hasClass("vjs-playing")&&1===this.player.playlist.currentItem&&this.pauseVid(0),e<1&&this.dbglog(this.playerState),this.isPlaylist&&(this.setState({lastPlayedItem:this.player.playlist.currentItem()}),this.hasClass("vjs-playlistended")&&e>0&&e<1&&(this.dbglog("has vjs-playlistended"),this.pauseVid(0),this.removeClasses(["vjs-playlistended"]))),!this.getState("sentPlay")&&!this.player.paused()&&e>.1&&(this.isPlaylist||this.triggerEvt("onPlay")),e>0&&t<3&&(!1===this.getState("played")&&!1===this.getState("sentPlay")?(setTimeout(function(){this.hasClass("vjs-playing")&&!1===this.getState("sentPlay")&&this.triggerEvt("onPlay")}.bind(this),100),this.hasClass("vjs-postrollplayed")?(this.pauseVid(0),this.dbglog("pause and remove classes on player"),this.removeClass(["vjs-prerollplayed","vjs-midrollplayed","vjs-postrollplayed"])):this.hasClass("vjs-ended")||e<=2&&(this.dbglog("handlepreroll inside timeupdate"),this.handlePreroll()),this.setState({played:!0,init:!0})):"postroll"===this.playerState.lastAdsType&&(this.dbglog("handlepreroll inside timeupdate and lastAdsType"),this.handlePreroll()),this.playing=!0,this.removeClasses(["vjs-custom-waiting"]),this.hasClass("vjs-ended")||this.hideOverlayReplayBtn(),this.hasClass("vjs-has-started")||this.addClasses(["vjs-has-started"])),0===e&&this.removeClasses(["vjs-looping"]),t>this.midTime-2&&((t>=this.midTime||this.player.currentTime()-2<=0)&&!this.getState("midrollRequested")&&this.handleMidroll(e),this.handlePostroll(e))}.bind(this)),this.player.on("ademptied",function(){this.dbglog("Ad Empty, continue to play video!"),this.removeAdsAfterError(),!1===this.playing&&(this.player.loadingSpinner.show(),setTimeout(function(){this.removeAdsAfterError(),this.hideOverlayAds()}.bind(this),200)),this.played=!1,"preroll"===this.getState("lastAdsType")&&this.willAutoplay&&this.unmuteVid(this.vidVol),"postroll"===this.getState("lastAdsType")&&this.onPostrollEnd()}.bind(this)),this.player.on("adstart",function(){this.stopOthers(this.VIDEOID)}.bind(this)),this.player.on("adended",function(){this.dbglog("enlinearadmode"),this.player.ads.endLinearAdMode()}.bind(this)),this.player.on("adend",function(){this.dbglog("Ad end currentTime: "+this.player.currentTime()),"preroll"===this.getState("lastAdsType")&&(this.triggerEvt("onPrerollStop"),this.unhideControlBar()),"midroll"===this.getState("lastAdsType")&&(this.triggerEvt("onOverlayStop"),this.triggerEvt("onMidrollStop")),"postroll"===this.getState("lastAdsType")&&(this.triggerEvt("onPostRollStop"),"postroll"===this.getState("lastAdsType")&&this.onPostrollEnd(),this.dbglog("ended postroll adend event"),setTimeout(function(){this.hasClass("vjs-has-started")||this.addClasses(["vjs-has-started"])}.bind(this),200))}.bind(this)),this.player.on("adserror",function(e){this.dbglog("ads error!"),this.dbglog(e),this.dbglog(this.playerState),"preroll"===this.getState("lastAdsType")&&(this.triggerEvt("onPrerollError"),this.setState({lastAdsType:"preroll",prerollRequested:!0}),this.getState("sentPlay")||this.player.paused()||this.triggerEvt("onPlay")),"midroll"===this.getState("lastAdsType")&&(this.triggerEvt("onOverlayError"),this.triggerEvt("onMidrollError")),"postroll"===this.getState("lastAdsType")&&(this.triggerEvt("onPostRollError"),"postroll"===this.getState("lastAdsType")&&this.onPostrollEnd()),this.triggerEvt("adserrorEvent"),this.player.off("adserrorEvent"),void 0!==e.data&&e.data.AdError,setTimeout(function(){this.removeAdsAfterError(),this.hideOverlayAds(),this.unhideControlBar(),this.player.hasStarted()&&this.player.play()}.bind(this),200),"noads"===this.getState("lastAdsType")&&this.triggerEvt("TEMPORARY ADS ONLY!!!")}.bind(this)),this.player.on("adslog",function(e){var t=e.data.AdEvent.getAdData();t.adError&&1021===t.adError.getErrorCode()&&this.player.ima.controller.sdkImpl.onAdError(t.adError.getInnerError())}.bind(this)),this.player.on("waiting",function(){this.player.loadingSpinner.show(),this.playing=!1,this.triggerEvt("videoiswaiting"),this.player.off("videoiswaiting")}.bind(this)),this.player.on("pause",function(){this.player.ended()||this.hasClass("vjs-playing")||this.seeked||(this.triggerEvt("onPause"),this.seeked=!1,this.hasClass("vjs-user-active")&&!this.hasClass("vjs-userpaused")&&this.addClasses(["vjs-userpaused"])),this.player.loadingSpinner.show(),this.playing=!1,this.showPoster()}.bind(this)),this.player.on("playing",function(){}),this.player.one("play",function(){this.isPlaylist&&this.setState({lastPlayedItem:this.player.playlist.currentItem()})}.bind(this)),this.player.on("contentended",function(){}),this.player.one("timeupdate",function(){}),this.player.on("seeked",function(){this.triggerEvt("onseeked"),this.seeked=!0,setTimeout(function(){!this.player.paused()||this.isAdPlaying()||this.hasClass("vjs-userpaused")||this.player.play()}.bind(this),150)}.bind(this)),this.player.on("play",function(){this.dbglog("on Play: "+this.player.currentTime()),this.dbglog(this.playerState),this.player.currentTime()<3&&(this.dbglog("call preroll"),this.handlePreroll()),this.isMobile&&this.player.controlBar.muteToggle.show();var e=this.getById(this.VIDEOID+"_ima-ad-container");if(!this.player.ads||"function"!=typeof this.player.ads.isInAdMode||this.player.ads.isInAdMode()||void 0===e||null===e&&"null"===e||"none"===e.style.display||(this.hideImaContainer(),this.resetIMA()),this.isPlaylist){if(this.dbglog("currentItem: "+this.player.playlist.currentItem()),this.player.playlist.currentItem()>1&&!this.vastUriMid)return this.dbglog("No Midroll Tag"),void(this.getState("prerollRequested")&&this.setState({midrollRequested:!0,lastAdsType:"midroll"}));setTimeout(function(){this.hasClass("vjs-playing")&&this.showPoster()}.bind(this),200);var t=this.player.playlist.currentItem(),n=this.playlistConf[t].sources[0];if(void 0!==n&&void 0!==n.adTagUrl)n.adTagUrl;var r=videojs(this.VIDEOID).playlist.currentItem();1===r&&!0===this.player.ima.adPlaying&&this.displayOverlayAd(this.skipTime),0!==r&&(this.preroll=!1,"midroll"===this.playerState.lastAdsType&&this.closeAd()),t!==this.player.playlist.lastIndex()&&(this.postroll=!1),this.played=this.player.playlist.currentItem()}else this.hideOverlayReplayBtn(),this.minPlayerDisplayCloseBtn()}.bind(this)),this.player.on("ended",function(){this.setState({ended:!0}),this.dbglog("VID ENDED"),this.exitFullscreen(),this.played=!0,this.isFirstPlay=!0,this.isPlaylist?(this.dbglog("playlist on ended"),this.dbglog(this.playerState),this.vastUriPost||this.player.playlist.currentItem()!==this.player.playlist.lastIndex()||(this.dbglog("No Postroll Tag"),this.setState({prerollRequested:!0,postrollRequested:!0,lastAdsType:"postroll"}),this.dbglog(this.playerState),"postroll"===this.getState("lastAdsType")&&(this.setState({played:!1,prerollRequested:!1,midrollRequested:!1,postrollRequested:!1}),this.hasClass("vjs-has-started")&&this.player.playlist.autoadvance(),this.resetEnd(!0)))):this.player.currentTime()===this.player.duration()&&("postroll"!==this.getState("lastAdsType")&&this.vastUriPost||this.isAdPlaying()||(this.exitFullscreen(),this.triggerEvt("onStop"),this.triggerEvt("allcompleted"),this.player.ads.reset(),this.resetEnd())),this.hasClass("vjs-ended")||this.addClasses("vjs-ended")}.bind(this)),this.player.one("ended",function(){this.player.trigger("loadstart")}.bind(this)),this.player.on("ADS_manualskip",function(){this.minPlayerDisplayCloseBtn()}.bind(this)),this.player.on("fullscreenchange",function(){this.player.isFullscreen()?(this.triggerEvt("onFullsreen"),this.player.ima&&this.player.ima.getAdsManager()&&this.resizeAds(this.player.width_,this.player.height_,google.ima.ViewMode.FULLSCREEN)):(this.dbglog("END FULLSCREEN"),this.triggerEvt("onFullsreenOff"))}.bind(this)),this.player.on("volumechange",function(){this.dbglog("VOLUMECHANGE");var e=this.player.volume();this.player.muted()||0!==e?this.triggerEvt("onMute"):(e=this.vidVol>0?this.vidVol:1,this.player.volume(e),this.player.muted(!1),this.triggerEvt("onMuteOff"))}.bind(this)),this.player.on("error",function(e){var t=this.player.error();if(4===t.code){this.dbglog(t);var n=this.player.currentSrc();"m3u8"===n.substr(n.lastIndexOf(".")+1)&&!1===this.playerState.sourceChange&&(this.dbglog("Fallback to mp4"),void 0!==this.isPlaylist&&this.isPlaylist?(this.player.playlist(this.playlistConfFallback),this.player.load(),this.setState({sourceChange:!0})):(this.player.src({src:this.fallbackSrc.file,type:this.fallbackSrc.type}),this.player.load(),this.setState({sourceChange:!0})))}this.triggerEvt("onError"),e.stopPropagation()}.bind(this)),this.playlistConf&&this.playListInit(),void 0!==this.hoverAutoplay&&this.hoverAutoplay&&this.getById(this.VIDEOID).addEventListener("mouseover",function(e){this.player.paused()&&(0===this.hoverAutoplay?this.player.play():this.showCountdown(this.VIDEOID,this.hoverAutoplay))}.bind(this)),(void 0!==this.minAble&&this.minAble||this.viewportAutoPlay)&&!this.isInIframe&&this.scrollTrackInit(),void 0!==this.player.highlight&&this.player.highlight({highlight:this.highlight}),this.vidSuggestion&&this.player.endvid(this.vidSuggestion),this.buttonDisplayed=!1,e.tracking&&(a=window,s=document,l="script",u="ga",a.GoogleAnalyticsObject=u,a.ga=a.ga||function(){(a.ga.q=a.ga.q||[]).push(arguments)},a.ga.l=1*new Date,d=s.createElement(l),c=s.getElementsByTagName(l)[0],d.async=1,d.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(d,c),this.tracking.video.gaid&&(ga("create",this.tracking.video.gaid,"auto",this.tracking.video.trackingName),this.player.eventstrack(this.tracking.video)),this.tracking.ads.gaid&&(ga("create",this.tracking.ads.gaid,"auto",this.tracking.ads.trackingName),this.player.adseventstrack(this.tracking.ads)),(this.tracking.video.gaid||this.tracking.ads.gaid)&&ga("send","pageview"))}}).prototype.init=function(e){if(this.dbglog("VIDEOJS INITIATED"),this.dbglog(this.playerState),setTimeout(function(){this.player.paused()||this.hasClass("vjs-paused")?this.hasClass("vjs-userpaused")||this.addClasses(["vjs-userpaused"]):this.removeClasses(["vjs-userpaused"])}.bind(this),150),this.isMobile){this.dbglog("isMobile");var t=(e.target||e.srcElement).className;this.dbglog("clsName: "+t);var n=["vjs-big-play-button","vjs-control-bar","vjs-time-control","vjs-current-time-display","vjs-duration-display","vjs-duration","vjs-volume-menu-button","vjs-fullscreen-control","vjs-play-control","vjs-progress-control","vjs-mute-control","videojs-infomarker-btn","overideoverlaybtnItem"];isClickedForPlay=!1,t.split(" ").forEach(function(e){n.indexOf(e)>-1&&(isClickedForPlay=!0)}),!1===isClickedForPlay&&(this.dbglog("this.touchHoldTime: "+this.touchHoldTime),this.touchHoldTime<150&&(this.player.paused()?(this.player.play(),this.addClasses(["vjs-play-clicked"])):this.player.pause()))}else this.addClasses(["vjs-play-clicked"]);""===this.adTagUrl?(this.dbglog("adTagUrl is empty"),this.dbglog("Error: vast uri was not provided"),this.hideImaContainer()):(this.dbglog("call handle handlePreroll()"),this.handlePreroll()),this.setState({init:!0})},e.prototype.setState=function(e){if("object"==typeof e)for(var t in e)e.hasOwnProperty(t)&&(this.playerState[t]=e[t])},e.prototype.getState=function(e){return"string"==typeof e?void 0!==this.playerState[e]?this.playerState[e]:(this.dbglog("COULD NOT FIND "+e),!1):(this.dbglog(e+" must be string"),!1)},e.prototype.resetIMA=function(){this.player.ima.getAdsManager()&&this.player.ima.getAdsManager().destroy(),this.player.ima.changeAdTag(null),this.player.ima.setContentWithAdTag(null,null,!0)},e.prototype.pauseVid=function(e,t){e||(e=0),setTimeout(function(){if(t){var e=window.videojs.players;e[t]&&!e[t].paused()&&(e[t].pause(),t&&setTimeout(function(){e[t].el_.classList.contains("vjs-userpaused")&&e[t].el_.classList.remove("vjs-userpaused")},100))}else this.player.paused()||(this.player.pause(),this.triggerEvt("autopause"),this.player.off("autopause"))}.bind(this),e)},e.prototype.onAdError=function(){this.player.ima.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.bind(this,this.onAdErrorEvent)),!1===this.player.isPlaying()&&this.player.play()},e.prototype.removeAdsAfterError=function(){var e=this.getById(this.VIDEOID+"_ima-ad-container");e&&(e.style.display="none")},e.prototype.onAdErrorEvent=function(e){this.log("Ad event: "+e.type)},e.prototype.adsManagerLoadedCallback=function(){var e=[google.ima.AdErrorEvent.Type.AD_ERROR,google.ima.AdError.ErrorCode.COMPANION_AD_LOADING_FAILED,google.ima.AdError.ErrorCode.COMPANION_REQUIRED_ERROR,google.ima.AdError.ErrorCode.FAILED_TO_REQUEST_ADS,google.ima.AdError.ErrorCode.INVALID_ADX_EXTENSION,google.ima.AdError.ErrorCode.INVALID_ARGUMENTS,google.ima.AdError.ErrorCode.NONLINEAR_DIMENSIONS_ERROR,google.ima.AdError.ErrorCode.OVERLAY_AD_LOADING_FAILED,google.ima.AdError.ErrorCode.OVERLAY_AD_PLAYING_FAILED,google.ima.AdError.ErrorCode.UNKNOWN_AD_RESPONSE,google.ima.AdError.ErrorCode.UNKNOWN_ERROR,google.ima.AdError.ErrorCode.UNSUPPORTED_LOCALE,google.ima.AdError.ErrorCode.VAST_ASSET_NOT_FOUND,google.ima.AdError.ErrorCode.VAST_EMPTY_RESPONSE,google.ima.AdError.ErrorCode.VAST_LINEAR_ASSET_MISMATCH,google.ima.AdError.ErrorCode.VAST_LOAD_TIMEOUT,google.ima.AdError.ErrorCode.VAST_MALFORMED_RESPONSE,google.ima.AdError.ErrorCode.VAST_MEDIA_LOAD_TIMEOUT,google.ima.AdError.ErrorCode.VAST_NO_ADS_AFTER_WRAPPER,google.ima.AdError.ErrorCode.VAST_NONLINEAR_ASSET_MISMATCH,google.ima.AdError.ErrorCode.VAST_PROBLEM_DISPLAYING_MEDIA_FILE,google.ima.AdError.ErrorCode.VAST_SCHEMA_VALIDATION_ERROR,google.ima.AdError.ErrorCode.VAST_TOO_MANY_REDIRECTS,google.ima.AdError.ErrorCode.VAST_TRAFFICKING_ERROR,google.ima.AdError.ErrorCode.VAST_UNEXPECTED_DURATION_ERROR,google.ima.AdError.ErrorCode.VAST_UNEXPECTED_LINEARITY,google.ima.AdError.ErrorCode.VAST_UNSUPPORTED_VERSION,google.ima.AdError.ErrorCode.VAST_WRAPPER_ERROR,google.ima.AdError.ErrorCode.VIDEO_PLAY_ERROR,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.TOUCHED,google.ima.AdEvent.Type.TOUCH,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.ALL_ADS_COMPLETED];eventLen=e.length;for(var t=0;t<eventLen;t++)this.player.ima.addEventListener(e[t],this.onAdEvent.bind(this))},e.prototype.onAdEvent=function(e){var t=this.VIDEOID,n=e.type;if(this.dbglog("event.type: "+e.type),["skip","allAdsCompleted"].indexOf(n)>-1&&(this.hideOverlayAds(),"allAdsCompleted"===n&&(this.player.ads&&this.player.ads.endLinearAdMode(),this.player.ima&&this.player.ima.getAdsManager()&&(this.player.ima.getAdsManager().stop(),this.player.ima.getAdsManager().collapse(),this.player.ima.getAdsManager().skip()))),"preroll"===this.playerState.lastAdsType&&"preroll"!==this.player.ads.adType&&(this.player.ads.adType="preroll"),"midroll"===this.playerState.lastAdsType&&"midroll"!==this.player.ads.adType&&(this.player.ads.adType="midroll"),"postroll"===this.playerState.lastAdsType&&"postroll"!==this.player.ads.adType&&(this.player.ads.adType="postroll"),this.dbglog("Ads event: "+n),"skip"===n?(this.unhideControlBar(),"preroll"!==this.getState("lastAdsType")||this.willAutoplay||this.unmuteVid(this.vidVol),this.triggerEvt("ADS_skip")):this.triggerEvt("ADS_"+n),"impression"===n&&this.triggerEvt("AE_impression"),"click"===n&&this.triggerEvt("AE_clicked"),"start"===n){if(this.setState({adsStartTime:Math.floor(Date.now()/1e3)}),!this.hasClass("vjs-playing")&&!this.hasClass("vjs-ad-playing")||"preroll"!==this.getState("lastAdsType")||this.getState("sentPlay")||this.triggerEvt("onPlay"),this.isAdPlaying()&&"midroll"!==this.playerState.lastAdsType&&(this.pauseVid(0),this.player.paused()),this.player.ima.getAdsManager()){var r="fa fa-volume-up";if(this.player.ima.getAdsManager()&&this.player.ima.getAdsManager().getVolume()<=0){r="fa fa-volume-off";var i=this.getById("iconVolFa_"+this.VIDEOID);i&&i.setAttribute("class",r)}}"midroll"!=this.playerState.lastAdsType&&this.pauseVid(0),this.triggerEvt("AE_started"),this.displayOverlayAd(this.skipTime),this.dbglog("adstart: "+JSON.stringify(this.playerState)),"preroll"!==this.getState("lastAdsType")&&(this.getState("midrollRequested")||this.getState("postrollRequested"))||!1!==this.player.ended()||this.getState("ended")||(this.triggerEvt("onPrerollStart"),this.setState({lastAdsType:"preroll",prerollRequested:!0,preAdsStartSent:!0}),"preroll"!==this.getState("lastAdsType")||this.getState("sentPlay")||this.triggerEvt("onPlay"),this.prerollTimeEnd>0&&setTimeout(function(){if(!1!==this.getState("adsStartTime")){var e=Math.floor(Date.now()/1e3);this.isAdPlaying()&&e-this.getState("adsStartTime")>=1e3*this.prerollTimeEnd&&this.closeAd()}}.bind(this),1e3*this.prerollTimeEnd)),("midroll"===this.getState("lastAdsType")||this.getState("prerollRequested")&&this.getState("midrollRequested")&&!this.getState("postrollRequested"))&&(this.triggerEvt("onOverlayStart"),this.triggerEvt("onMidrollStart"),this.midrollTimeEnd>0&&setTimeout(function(){if(!1!==this.getState("adsStartTime")){var e=Math.floor(Date.now()/1e3);this.isAdPlaying()&&e-this.getState("adsStartTime")>=1e3*this.midrollTimeEnd&&this.closeAd()}}.bind(this),1e3*this.midrollTimeEnd)),("postroll"===this.getState("lastAdsType")||this.getState("prerollRequested")&&this.getState("midrollRequested")&&this.getState("postrollRequested"))&&(this.hasClass("vjs-ad-playing")||this.addClasses(["vjs-ad-playing"]),this.triggerEvt("onPostRollStart"),this.postrollTimeEnd>0&&setTimeout(function(){if(!1!==this.getState("adsStartTime")){var e=Math.floor(Date.now()/1e3);this.isAdPlaying()&&e-this.getState("adsStartTime")>=1e3*this.postrollTimeEnd&&this.closeAd()}}.bind(this),1e3*this.postrollTimeEnd),this.setState({played:!1}))}"firstquartile"===n&&this.triggerEvt("AE_firstQuartile"),"midpoint"===n&&this.triggerEvt("AE_midpoint"),"thirdquartile"===n&&this.triggerEvt("AE_thirdQuartile"),"complete"!==n&&"allAdsCompleted"!==n&&"userClose"!==n||(this.dbglog("playerState: "),this.dbglog(this.playerState),this.hideOverlayAds(),this.unhideControlBar(),this.triggerEvt("AE_completed"),"preroll"===this.getState("lastAdsType")&&0===Math.round(this.player.currentTime())&&(this.triggerEvt("onPrerollStop"),this.getState("played")||this.getState("sentPlay")||this.triggerEvt("onPlay"),this.player.play()),("midroll"===this.getState("lastAdsType")||this.getState("prerollRequested")&&this.getState("midrollRequested")&&!this.getState("postrollRequested"))&&(this.triggerEvt("onOverlayStop"),this.triggerEvt("onMidrollStop")),("postroll"===this.getState("lastAdsType")||this.getState("prerollRequested")&&this.getState("midrollRequested")&&this.getState("postrollRequested"))&&(this.triggerEvt("onPostRollStop"),this.dbglog("ended postroll"),this.onPostrollEnd())),"muted"===n&&this.triggerEvt("AE_muted"),"volume_changed"===n&&this.triggerEvt("AE_unmuted"),"paused"===n&&this.triggerEvt("AE_paused"),"resume"===n&&(this.triggerEvt("AE_replayed"),!0===this.stopOtherOnPlay&&this.stopOthers(t),this.getState("preAdsStartSent")||(this.triggerEvt("onPrerollStart"),this.setState({preAdsStartSent:!0}))),"loaded"===n&&"preroll"===this.playerState.lastAdsType&&((this.isMobile||this.autoplay||this.viewportAutoPlay||this.hoverAutoplay)&&(this.muteAd(),this.muteVid(0),this.player.ima.getAdsManager().setVolume(0),this.setState({adVolChanged:"mute"})),(this.hasClass("vjs-playing")||this.hasClass("vjs-ad-playing"))&&!1===this.playerState.sentPlay&&this.triggerEvt("onPlay"),this.triggerEvt("AE_adMetadata"))},e.prototype.skipAdBtn=function(){return!0===this.skipAble||this.skipTime>0?'<div class="overideoverlaybtnItem" id="skipAdBtnOvl_'+this.VIDEOID+'">'+this.skipAdsBtnContent+"</div>":""},e.prototype.volIcon=function(){if(!0===this.showAdVol){var e=this.VIDEOID;return'<div class="overideoverlaybtnItem" id="volIconOvl_'+e+'"><i id="iconVolFa_'+e+'" class="fa fa-volume-up" aria-hidden="true"></i></div>'}return""},e.prototype.volSlider=function(){var e=this.VIDEOID;return'<div id="volIcoSliderOvl_'+e+'" class="volIcoSliderOvlClss"><div class="volIcoSliderTitle">m Lng <span id="'+e+'_volLevel"></span></div><br /><div id="volSIcoOvl'+e+'" class="volSIcoOvlBar vjs-volume-menu-button vjs-menu-button vjs-menu-button-inline vjs-control vjs-button vjs-volume-menu-button-horizontal vjs-vol-3" tabindex="0" role="button" aria-live="polite" title="Mute" aria-disabled="false"><div class="vjs-menu volSIcoOvlMenu"><div class="vjs-menu-content"><div tabindex="0" id="'+e+'_vjs-volume-bar" class="vjs-volume-bar vjs-slider-bar vjs-slider vjs-slider-horizontal" role="slider" aria-valuenow="100.00" aria-valuemin="0" aria-valuemax="100" aria-label="volume level" aria-valuetext="100.00%"><div class="vjs-volume-level" id="'+e+'_vjs-volume-level"><span class="vjs-control-text"></span></div></div></div></div><span class="vjs-control-text">Mute</span></div></div>'},e.prototype.closeAd=function(){if(this.isAdPlaying()){this.dbglog("CLOSE ADS"),this.dbglog(this.playerState),void 0!==this.player.ima&&null!==this.player.ima.getAdsManager()&&(this.dbglog("CALL GET ADS MANAGER"),this.isPlaylist&&"preroll"===this.getState("lastAdsType")&&this.player.playlist.currentItem()>=0&&this.player.currentTime()<this.player.duration()&&(this.player.ads._contentEnding=!1,this.player.ads._contentHasEnded=!1),this.triggerEvt("adend"),this.player.ima&&this.player.ima.getAdsManager()&&(this.player.ima.getAdsManager().stop(),this.player.ima.getAdsManager().collapse(),this.player.ima.getAdsManager().skip())),this.hideOverlayAds(),this.hideImaContainer(),this.unhideControlBar(),this.triggerEvt("ADS_manualskip"),this.player.trigger("skip"),this.stopOthers(this.VIDEOID);this.vidVol;"preroll"===this.getState("lastAdsType")||this.willAutoplay||this.player.volume()>0&&this.player.volume(),"postroll"===this.getState("lastAdsType")&&this.exitFullscreen(),this.hasClass("vjs-ad-playing")&&this.removeClasses(["vjs-ad-playing"])}},e.prototype.muteAd=function(){var e=this.getById("iconVolFa_"+this.VIDEOID);e&&(this.setAdVol(0),void 0!==this.player.ima.getAdsManager()&&null!==this.player.ima.getAdsManager()&&this.player.ima.getAdsManager().setVolume(0),e.classList.remove("fa-volume-up"),e.classList.add("fa-volume-off"))},e.prototype.unmuteAd=function(){var e=this.getById("iconVolFa_"+this.VIDEOID);this.setAdVol(this.vidVol||1),this.player.ima.adMuted=!1,null!=e&&void 0!==e&&void 0!==e.classList&&(e.classList.remove("fa-volume-off"),e.classList.add("fa-volume-up"))},e.prototype.toggleAdVol=function(e){this.player.ima.getAdsManager().getVolume()>0?(this.muteAd(),this.triggerEvt("ADS_mute"),this.setState({adVolChanged:"mute"}),this.muteVid()):(this.unmuteAd(),this.triggerEvt("ADS_unmute"),this.setState({adVolChanged:"unmute"}),this.unmuteVid())},e.prototype.setAdVol=function(e){null!==this.player.ima&&"object"==typeof this.player.ima.getAdsManager()&&null!==this.player.ima.getAdsManager()&&void 0!==this.player.ima.getAdsManager()&&this.player.ima.getAdsManager().setVolume(e)},e.prototype.inCreaseAdVol=function(){if(this.adVolIncrease>1&&(this.adVolIncrease=1),this.adVolIncrease<0&&(this.adVolIncrease=0),0===this.adVolIncrease&&this.muteAd(),this.adVolIncrease>0){if(void 0!==this.showVolIncreasement){var e=this.getById("volIcoSliderOvl_"+this.VIDEOID),t=this.getById(this.VIDEOID+"_vjs-volume-level");e.parentNode.classList.remove("vjs-hidden")}this.setAdVol(.1);for(var n=this.getById(this.VIDEOID+"_volLevel"),r=this.getById("volIcoSliderOvl_"+this.VIDEOID),i=this.getById(this.VIDEOID+"_ima-slider-level-div"),o=.1;o<=this.adVolIncrease;o+=.1){o.toFixed(1);setTimeout(function(e,o){if(this.setAdVol(e),void 0!==t){var a=parseInt(100*e);t.style.width=a+"%",n.innerHTML=a+"%",i.style.width=a+"%",e===this.adVolIncrease&&r.parentNode.classList.add("vjs-hidden")}}.bind(this),3e3*o,o)}}this.triggerEvt("autovolumechange"),this.player.off("autovolumechange"),this.adVolIncreased=!0},e.prototype.muteVid=function(e){e&&this.player.volume(0),this.player.muted(!0)},e.prototype.unmuteVid=function(e){this.dbglog("changevol");var t,n=!0;e?t=e:this.vidVol&&(t=this.vidVol),t>0&&(n=!1),this.dbglog("unmute vid: "+t),this.dbglog("muted vid: "+n),this.player.muted(n),this.player.volume(t)},e.prototype.toggleVidVol=function(e){var t=e.auto,n=videojs(""+this.VIDEOID).ima.adMuted;t&&(n?this.unmuteVid():this.muteVid())},e.prototype.setVidVol=function(e){this.player.muted(!1),this.player.volume(e)},e.prototype.inCreaseVidVol=function(){if(!this.isMobile){if(this.videoVolIncrease>100&&(this.videoVolIncrease=100),this.videoVolIncrease<0&&(this.videoVolIncrease=0),0===this.videoVolIncrease&&this.muteVid(),this.videoVolIncrease>0){this.setVidVol(0);for(var e=this.getById(this.VIDEOID+"_vjs-volume-level"),t=this.getById(this.VIDEOID+"_volLevel"),n=this.getById("volIcoSliderOvl_"+this.VIDEOID),r=this.getById(this.VIDEOID+"_vjs-volume-bar"),i=.1;i<=this.videoVolIncrease;i+=.1){i.toFixed(1);setTimeout(function(i,o){if(i>.1&&this.unmuteVid(),this.setVidVol(i),void 0!==e){var a=100*i;e.style.width=a+"%",t.innerHTML=parseInt(a)+"%",r.setAttribute("aria-valuenow",o),r.setAttribute("aria-valuetext",o+"%"),i===this.videoVolIncrease&&n.parentNode.classList.add("vjs-hidden")}}.bind(this),3e3*i,i)}}this.triggerEvt("autovolumechange"),this.player.off("autovolumechange"),this.vidVolIncreased=!0}},e.prototype.displayOverlayVid=function(){if(this.adVolIncrease&&void 0!==this.videoVolIncrease){if(this.videoVolIncrease&&!this.isMobile){var e=this.VIDEOID;this.player.overlay({overlays:[{content:this.volSlider(),class:"overlaybutton overideoverlaybtn overLayBtn_"+e,start:0,end:0,align:"bottom"}]});var t=document.getElementsByClassName("overLayBtn_"+e),n=t.length||0;if(n>0)for(var r=0;r<n;r++)t[r].classList.remove("vjs-hidden");this.inCreaseVidVol()}this.vidVolIncreased=!0}},e.prototype.displayOverlayAd=function(e){if(this.dbglog("Run displayOverlayAd"),!this.vidVolIncreased&&void 0!==this.vastUri&&""!==this.vastUri){e||(e=this.skipTime||0);var t=this.VIDEOID;if(this.hasClass("vjs-ended")&&"postroll"!==this.getState("lastAdsType"));else if(setTimeout(function(){if(this.isAdPlaying()){var e=this.getById("skipAdBtnOvl_"+t);void 0!==e&&null!==e&&void 0!==e.parentNode&&e.parentNode.classList.remove("vjs-hidden")}}.bind(this),e),void 0===this.adVolIncrease||this.isMobile||(this.dbglog("Run inCreaseAdVol"),this.inCreaseAdVol()),this.player.ima.getAdsManager()){var n="fa fa-volume-up";if(this.player.ima.getAdsManager()&&this.player.ima.getAdsManager().getVolume()<=0){n="fa fa-volume-off";var r=this.getById("iconVolFa_"+this.VIDEOID);r&&r.setAttribute("class",n)}}}},e.prototype.hideOverlayAds=function(){var e=this.getById("skipAdBtnOvl_"+this.VIDEOID);e&&(e.parentNode.className+=" vjs-hidden")},e.prototype.hideImaContainer=function(){if(this.isAdPlaying()){var e=this.getById(this.VIDEOID+"_ima-ad-container");e&&(e.style.display="none")}},e.prototype.displayOverlayReplayBtn=function(){var e=this.getById("overLayReplayBtn_"+this.VIDEOID);e.parentNode.classList.contains("vjs-hidden")&&e.parentNode.classList.remove("vjs-hidden")},e.prototype.hideOverlayReplayBtn=function(){var e=this.getById("overLayReplayBtn_"+this.VIDEOID);e&&!e.parentNode.classList.contains("vjs-hidden")&&(e.parentNode.className+=" vjs-hidden")},e.prototype.log=function(e){},e.prototype.dbglog=function(e,t){"trace"!==(t=t||"log")&&window.console&&this.debug&&["log","info","warn","error","trace"].indexOf(t)},e.prototype.bind=function(e,t){return function(){t.apply(e,arguments)}},e.prototype.minPlayerDisplayCloseBtn=function(){this.hasClass("mini-player")&&this.getById("overLayCloseBtn_"+this.VIDEOID).parentNode.classList.remove("vjs-hidden")},e.prototype.minPlayerHideCloseBtn=function(){var e=this.getById("overLayCloseBtn_"+this.VIDEOID);e&&!e.parentNode.classList.contains("vjs-hidden")&&(e.parentNode.className+=" vjs-hidden")},e.prototype.insertDom=function(e,t,n,r,i){var o=this.getById(e);if(o){n=n||"",r=r||"";var a=this.getById(t);if(a)this.dbglog("childId has already existed, I am not gonna rewrite it!!!","error");else{if((a=document.createElement("div")).setAttribute("id",t),i)for(var s in i)"id"!==s&&i.hasOwnProperty(s)&&a.setAttribute(""+s,n+i[s]+r);o.parentNode.insertBefore(a,o.nextSibling)}}else this.dbglog("Parent id not found!","error")},e.prototype.stopOthers=function(e){this.dbglog("Run Stop Others Videos");var t=window.videojs.players;if("object"==typeof t)for(var n in t){var r=this.getById(e+"_ima-ad-container").style.display,i=t[n].el_.classList;n===e||i.contains("mini-player")&&(!i.contains("vjs-paused")||i.contains("vjs-viewportautoplay"))?t[e].ima&&t[e].ima.getAdsManager()&&"block"===r?(t[e].ima.getAdsManager().resume(),this.dbglog("Resume Ads")):(t[e].play(),this.dbglog("Resume Video")):!t[n].el_.classList.contains("vjs-onviewport")&&t[n].el_.classList.contains("vjs-viewportautoplay")&&(t[n].el_.classList.contains("vjs-minable")||(t[n].paused()||(t[n].pause(),this.dbglog("Pause Video")),t[n].ima&&t[n].ima.getAdsManager()&&"block"===r&&(t[n].ima.getAdsManager().pause(),t[n].ima.pauseAd(),this.dbglog("Pause Ads")),t[n].el_.classList.contains("vjs-userpaused")&&t[n].el_.classList.remove("vjs-userpaused")))}},e.prototype.handlePreroll=function(){if(this.isAdPlaying())return this.dbglog("Ads Is Playing"),!1;if(this.dbglog("Start Handling Preroll"),this.dbglog(this.playerState),this.player.ads&&"function"==typeof this.player.ads.isInAdMode&&this.player.ads.isInAdMode()&&"undefined"!=typeof imaAdsCtn&&(null!==imaAdsCtn||"null"!==imaAdsCtn)&&"none"!==imaAdsCtn.style.display&&(this.hideImaContainer(),this.resetIMA()),"noads"===this.getState("lastAdsType")||this.player.currentTime()>=1&&this.player.currentTime()<this.midTime){if(this.dbglog("Preroll Called Outside"),this.dbglog(this.playerState),this.hasClass("vjs-custom-waiting")&&this.removeClasses(["vjs-custom-waiting"]),!this.isPlaylist&&this.player.duration()&&this.player.duration()>0&&!this.getState("prerollRequested")&&this.vastUri&&this.playerState.init&&"preroll"!==this.getState("lastAdsType"))if(this.dbglog("Before Handle Preroll"),this.dbglog(this.playerState),0!==this.player.currentTime()||this.playerState.played||"noads"!==!this.getState("lastAdsType")){if(this.dbglog("lastAdsType:"+this.getState("lastAdsType")),"preroll"===this.getState("lastAdsType")&&this.viewportAutoplay)return void this.dbglog("Already Requested Preroll");if(this.dbglog("Handle Preroll"),this.dbglog(this.playerState),this.setState({prerollRequested:!0,lastAdsType:"preroll",ended:!1}),this.vastUri||(this.vastUri=this.tempVast),this.vastUri){var e=this.getState("adVolChanged");this.dbglog("adVolChanged: "+e),!1===e||this.willAutoplay?!0===this.player.muted()?this.changeVidAdsVol(!0):this.changeVidAdsVol(!1):("mute"!==e||this.player.muted()||(this.dbglog("Mute Player"),this.changeVidAdsVol(!0)),"unmuted"===e&&this.player.muted()&&(this.dbglog("UnMute Player"),this.changeVidAdsVol(!1))),this.pauseVid(0),this.setState({adsStartTime:!1}),this.player.ima.initializeAdDisplayContainer(),this.player.ima.changeAdTag(te.urlDecode(this.vastUri)),this.player.ima.requestAds(),this.wrapperDiv&&this.wrapperDiv.removeEventListener(this.startEvent,this.boundInit),this.addClasses("vjs-prerollplayed")}}else this.dbglog("Preroll Called Inside"),this.pauseVid(0),this.setState({played:!1,sentPlay:!1,preAdsStartSent:!1}),this.removeClasses(["vjs-prerollplayed","vjs-midrollplayed","vjs-postrollplayed"]);if(this.isPlaylist&&0===this.player.playlist.currentItem()&&!this.getState("prerollRequested")&&"preroll"!==this.getState("lastAdsType")&&this.player.currentTime()<3){this.setState({prerollRequested:!0,lastAdsType:"preroll"});var t=this.player.playlist.currentItem(),n=this.playlistConf[t].sources[0];if(void 0!==n&&void 0!==n.adTagUrl){var r=n.adTagUrl;if(r)!1===(e=this.getState("adVolChanged"))||this.willAutoplay?!0===this.player.muted()?this.changeVidAdsVol(!0):this.changeVidAdsVol(!1):("mute"!==e||this.player.muted()||(this.dbglog("Mute Player"),this.changeVidAdsVol(!0)),"unmuted"===e&&this.player.muted()&&(this.dbglog("UnMute Player"),this.changeVidAdsVol(!1))),this.setState({adsStartTime:!1}),this.player.ima.initializeAdDisplayContainer(),this.player.ima.changeAdTag(te.urlDecode(r)),this.player.ima.requestAds(),this.addClasses("vjs-prerollplayed")}}}},e.prototype.handleMidroll=function(e){if(!e)e=this.player.currentTime();if(e<this.midTime)this.dbglog("NO MID ROLL THIS TIME");else if(this.player.duration()&&this.player.duration()>this.minTimeToRunAds&&!this.playerState.midrollRequested&&(this.midTime&&e>=this.midTime||e>=this.player.duration()/2)){if(!this.vastUriMid)return this.dbglog("No Midroll Tag"),this.dbglog(this.playerState),this.setState({midrollRequested:!0,lastAdsType:"midroll"}),void this.dbglog(this.playerState);if(this.isPlaylist&&this.player.playlist.currentItem()>0)return void("preroll"===this.getState("lastAdsType")&&(this.dbglog("just preroll requested"),this.setState({lastAdsType:"midroll",midrollRequested:!0})));if(this.setState({prerollRequested:!0,midrollRequested:!0,played:!0,lastAdsType:"midroll"}),this.vastUriMid||(this.vastUriMid=this.tempVast),this.vastUriMid){this.dbglog("playerState"),this.dbglog(this.playerState);var t=this.getState("adVolChanged");!1===t||this.willAutoplay?!0===this.player.muted()?this.changeVidAdsVol(!0):this.changeVidAdsVol(!1):("mute"!==t||this.player.muted()||(this.dbglog("Mute Player"),this.changeVidAdsVol(!0)),"unmuted"===t&&this.player.muted()&&(this.dbglog("UnMute Player"),this.changeVidAdsVol(!1))),this.setState({adsStartTime:!1}),this.player.ima.changeAdTag(te.urlDecode(this.vastUriMid)),this.player.ima.requestAds(),this.addClasses("vjs-midrollplayed"),this.displayOverlayAd()}}},e.prototype.handlePostroll=function(e){if(this.vastUriPost){if(!this.isPlaylist&&this.player.duration()&&this.player.duration()>this.minTimeToRunAds&&!this.getState("postrollRequested")&&e>=this.player.duration()-1)if(this.setState({postrollRequested:!0,prerollRequested:!0,midrollRequested:!0,played:!0,lastAdsType:"postroll"}),this.vastUriPost||(this.vastUriPost=this.tempVast),this.vastUriPost)!1===(r=this.getState("adVolChanged"))||this.willAutoplay?!0===this.player.muted()?this.changeVidAdsVol(!0):this.changeVidAdsVol(!1):("mute"!==r||this.player.muted()||(this.dbglog("Mute Player"),this.changeVidAdsVol(!0)),"unmuted"===r&&this.player.muted()&&(this.dbglog("UnMute Player"),this.changeVidAdsVol(!1))),this.setState({adsStartTime:!1}),this.player.ima.changeAdTag(te.urlDecode(this.vastUriPost)),this.player.ima.requestAds(),this.addClasses("vjs-postrollplayed");if(this.isPlaylist&&this.player.playlist.currentItem()===this.player.playlist.lastIndex()&&e>=this.player.duration()-1&&!this.getState("postrollRequested")&&(this.setState({postrollRequested:!0,prerollRequested:!0,midrollRequested:!0,played:!0,lastAdsType:"postroll"}),this.isPlaylist)){var t=this.player.playlist.currentItem(),n=this.playlistConf[t].sources[0];if(void 0!==n&&void 0!==n.adTagUrl){var r,i=n.adTagUrl;if(i||(i=this.tempVast),i)!1===(r=this.getState("adVolChanged"))||this.autoplay&&this.hoverAutoplay&&this.viewportAutoPlay?!0===this.player.muted()?this.changeVidAdsVol(!0):this.changeVidAdsVol(!1):("mute"!==r||this.player.muted()||(this.dbglog("Mute Player"),this.changeVidAdsVol(!0)),"unmuted"===r&&this.player.muted()&&(this.dbglog("UnMute Player"),this.changeVidAdsVol(!1))),this.player.pause(),this.player.ima.initializeAdDisplayContainer(),this.player.ima.changeAdTag(te.urlDecode(i)),this.player.ima.requestAds(),this.addClasses("vjs-postrollplayed")}}}else this.player.currentTime()-1<=0&&(this.dbglog("No Postroll Tag"),this.getState("prerollRequested")&&this.getState("midrollRequested")&&(this.isAdPlaying()||this.setState({postrollRequested:!0,lastAdsType:"postroll"})))},e.prototype.resizeAds=function(e,t,n){var r=this.getById(this.VIDEOID),i=e||r.offsetWidth,o=t||r.offsetHeight,a=n||google.ima.ViewMode.NORMAL;this.player.ima&&this.player.ima.getAdsManager()&&this.isAdPlaying()&&(this.dbglog("has ima adsmanager"),this.player.ima.getAdsManager().resize(i,o,a))},e.prototype.triggerEvt=function(e){"onPlay"!==e||this.getState("sentPlay")?this.player.trigger(e):(this.setState({played:!0,init:!0,sentPlay:!0,ended:!1}),this.player.trigger(e)),this.debug&&this.dbglog("evt triggered: "+e)},e.prototype.resetEnd=function(){(this.dbglog("Reset video end"),this.isPlaylist)?(this.dbglog("playlist video"),this.setState({played:!1,sentPlay:!1,prerollRequested:!1,midrollRequested:!1,postrollRequested:!1,preAdsStartSent:!1}),this.addClasses(["vjs-playlistended"]),this.player.playlist.first(),this.pauseVid(500)):(this.dbglog("single video"),this.pauseVid(100),this.player.currentTime(0),this.setState({played:!1,sentPlay:!1,prerollRequested:!1,midrollRequested:!1,postrollRequested:!1,preAdsStartSent:!1}),this.player.hasStarted(!1),this.hasClass("vjs-ended")||this.addClasses(["vjs-ended"]),this.replayConf?(this.dbglog("no replayConf"),this.hasClass("vjs-ad-playing")||this.getById("overLayReplayBtn_"+this.VIDEOID).parentNode.classList.remove("vjs-hidden")):(this.dbglog("no replayConf"),this.showPoster(),this.hideImaContainer()));this.addClasses(["vjs-userpaused"]),this.setState({sentPlay:!1}),this.removeClasses(["vjs-ad-playing"])},e.prototype.exitFullscreen=function(){(this.isPlaylist&&this.player.playlist.currentItem()===this.player.playlist.lastIndex()||!this.isPlaylist)&&(this.player.exitFullscreen(),this.player.exitFullWindow(),document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()),this.isMobile&&!this.hasClass("vjs-userpaused")&&parseInt(this.player.currentTime)>1&&this.player.play()},e.prototype.overlay=function(){var e=this.VIDEOID,t='<span class="fa fa-undo"></span>',n="Xem li video";void 0!==this.replayConf&&void 0!==this.replayConf.icon&&""!==this.replayConf.icon&&(t='<img  src="'+this.replayConf.icon+'">'),void 0!==this.replayConf&&void 0!==this.replayConf.text&&""!==this.replayConf.text&&(n=this.replayConf.text);var r='<div id="overLayReplayBtn_'+e+'">'+t+" "+n+"</div>",i="top-right";void 0!==this.skipAdsBtnPos&&(i=this.skipAdsBtnPos);var o='<div id="overLayCloseBtn_'+e+'"><span class="fa fa-window-close-o"></span></div>';this.player.overlay({overlays:[{content:o,class:"vjs-hidden overlaybutton overideoverlaybtn overLayCloseBtn_"+e,start:0,end:0,align:"top-right"},{content:r,class:"vjs-hidden overlaybutton overideoverlaybtn overLayReplayBtn_"+e,start:0,end:0,align:"top-right"},{content:this.volIcon()+" "+this.skipAdBtn(),align:i,class:"vjs-hidden overlaybutton overideoverlaybtn overLayBtn_"+e,start:0,end:0},{content:this.volSlider(),class:"vjs-hidden overlaybutton overideoverlaybtn overLayBtn_"+e,start:0,end:0,align:"bottom"}]});var a=this.getById("overLayCloseBtn_"+e);a.addEventListener("click",function(t){t.preventDefault();var n=this.getById("miniPlayerCbar-"+e);n&&!n.classList.contains("vjs-hidden")&&(n.remove(),n.style.opacity="0"),this.hasClass("mini-player")&&this.removeClasses(["mini-player"]),a.parentNode.classList.contains("vjs-hidden")||(a.parentNode.className+=" vjs-hidden"),this.minClosed=!0,t.stopPropagation()}.bind(this));var s=this.getById("overLayReplayBtn_"+e);s&&s.addEventListener("click",function(e){e.preventDefault(),this.isPlaylist?(this.player.playlist.first(),this.player.currentTime(0),this.player.play()):(this.player.currentTime(0),this.player.play()),s.parentNode.className+=" vjs-hidden",e.stopPropagation()}.bind(this));var l=this.getById("volIconOvl_"+e);l&&l.addEventListener("click",function(e){e.preventDefault(),this.toggleAdVol({auto:!0}),e.stopPropagation()}.bind(this));var u=this.getById("skipAdBtnOvl_"+e);u&&u.addEventListener("click",function(e){this.dbglog("skipads button"),e.preventDefault(),this.closeAd()}.bind(this))},e.prototype.isAdPlaying=function(){var e=this.getById(this.VIDEOID+"_ima-ad-container");return null!==e&&"hidden"!==e.style.display&&"block"===e.style.display},e.prototype.hideCountdown=function(e){var t=this.getById("vjs-countdown-elm-"+e);t&&(clearInterval(this.intervalIdCountdown),this.intervalIdCountdown=this.hoverAutoplay,t.parentNode.removeChild(t))},e.prototype.showCountdown=function(e,t){if(!this.getById("vjs-countdown-elm-"+e)){var n=document.createElement("div");n.id="vjs-countdown-elm-"+e,n.setAttribute("class","vjs-countdown-elm"),n.innerHTML='<div class="svg radial-progress" id="radial-progress-'+e+'"><svg height="10em" width="10em"><circle class="radial-progress-background" r="" cx="5em" cy="5em" fill="transparent" stroke-dasharray="0em" stroke-dashoffset="0em"></circle><circle class="radial-progress-cover" r="" cx="5em" cy="5em" fill="transparent" stroke-dasharray="0em" stroke-dashoffset="0"></circle><circle class="radial-progress-center" r="" cx="5em" cy="5em" fill="transparent" stroke-dasharray="0em" stroke-dashoffset="0em"></circle></svg><h3 id="textCountdown_'+e+'" class="textCountdown">'+this.hoverAutoplay+"</h3></div>",this.getById(e).appendChild(n);var r=6*Math.PI,i=document.querySelectorAll("circle");Array.prototype.forEach.call(i,function(e){e.setAttribute("stroke-dasharray",r+"em"),e.setAttribute("r","3em")}),document.querySelector(".radial-progress-center").setAttribute("r","2.99em");var o=1,a=t||1,s=setInterval(function(){if(o>a)return clearInterval(s),videojs(e).play(),void this.hideCountdown(e);if(this.getById("textCountdown_"+e)){this.getById("textCountdown_"+e).innerHTML=a-o;var t=-r/a*o+"em";document.querySelector(".radial-progress-cover").setAttribute("stroke-dashoffset",t),o++}}.bind(this),1e3),l=this.getById("vjs-countdown-elm-"+e);l&&l.addEventListener("mouseleave",function(t){this.hideCountdown(e),clearInterval(s)}.bind(this))}},e.prototype.playListInit=function(e){e=e||!1;var t=this.VIDEOID;if(this.isPlaylist=!0,this.player.playlist(this.playlistConf),this.player.playlist.repeat(!1),e?(this.player.autoplay=!1,this.pauseVid(500),this.addClasses(["vjs-playlistended"])):this.player.playlist.autoadvance(0),this.hasClass("vjs-has-started")&&this.pauseVid(500),this.poster&&(this.player.poster_=this.poster,this.triggerEvt("posterchange"),this.getById(t+"_html5_api").setAttribute("poster",this.poster)),this.totalPlayerDemoListLength=this.playlistConf.length,this.toReturn=this.totalPlayerDemoListLength-1,this.hasEnded=!1,this.hasClass("vjs-paused")||this.addClasses(["vjs-paused"]),!this.getById("vjs-nextbtn-"+t)){var n=videojs.getComponent("Button"),r=videojs.extend(n,{constructor:function(){n.apply(this,arguments),this.addClass("videojs-previous-btn"),this.addClass("icon-angle-left"),this.controlText("Previous"),this.setAttribute("id","vjs-prevbtn-"+t)},handleClick:function(){this.triggerEvt("onPrev");var e=this.player.playlist.currentItem();0!==e?this.player.playlist.previous():0===e&&this.player.playlist.last(),this.playing||this.player.play()}.bind(this)}),i=videojs.extend(n,{constructor:function(){n.apply(this,arguments),this.addClass("videojs-next-btn"),this.addClass("icon-angle-right"),this.controlText("Next"),this.setAttribute("id","vjs-nextbtn-"+t)},handleClick:function(){this.triggerEvt("onNext");var e=this.player.playlist.currentItem();e<this.toReturn?(this.player.playlist.next(),this.hideImaContainer()):e===this.toReturn&&this.player.playlist.first(),this.playing||this.player.play()}.bind(this)});videojs.registerComponent("NextButton",i),videojs.registerComponent("PrevButton",r),this.player.getChild("controlBar").addChild("PrevButton",{},0),this.player.getChild("controlBar").addChild("NextButton",{},2)}this.hasClass("vjs-has-started")&&this.pauseVid(200),this.hasClass("vjs-playing")&&this.player.pause()},e.prototype.scrollTrackInit=function(){var e,t=this.getById(this.VIDEOID);(void 0!==this.scrollMonitorId?e=this.getById(this.scrollMonitorId):(this.insertDom(this.VIDEOID+"",this.VIDEOID+this.minPrefix,"","",{style:"width:100%; height:2px;display:block;"}),e=this.getById(this.VIDEOID+this.minPrefix)),t)&&new IntersectionObserver(function(e){this.vidIntersecHandler(e)}.bind(this),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],rootMargin:"0px 0px 0px 50%"}).observe(e)},e.prototype.vidIntersecHandler=function(e){var t=e[0].intersectionRatio,n=this.getById(this.VIDEOID),r=n.childNodes,i=this.getById(this.VIDEOID+this.minPrefix);if(this.lastScrollTime=Date.now(),t>=this.triggerIntersec&&te.isElementInViewport(i)){if(this.dbglog("VIEWPORT ENTERED: "+this.VIDEOID),this.hasClass("vjs-onviewport")||this.addClasses(["vjs-onviewport"]),(this.viewportAutoPlay||this.stopOtherOnPlay)&&(this.hasClass("vjs-ended")||this.hasClass("vjs-userpaused")||(this.playerState.played&&!this.player.paused()||!this.viewportAutoPlay||this.hasClass("vjs-userpaused")||(this.handlePreroll(),this.stopOthers(this.VIDEOID)),this.removeClasses(["vjs-offviewport"]))),setTimeout(function(){var e=this.getById(this.VIDEOID),t=e.offsetWidth,n=e.offsetHeight;this.resizeAds(t,n)}.bind(this),400),this.minClosed)return;if(isEnterViewport=!0,!this.minClosed){if(setTimeout(function(){this.minPlayerHideCloseBtn()}.bind(this),400),this.hasClass("mini-player"))this.removeClasses(["mini-player"]),(l=this.getById("miniPlayerCbar-"+this.VIDEOID))&&!l.classList.contains("vjs-hidden")&&(l.className+=" vjs-hidden",l.style.opacity="0");for(var o=null,a=(u=this.getById(this.VIDEOID)).childNodes.length,s=0;s<a;s++)if(u.childNodes[s].className.indexOf("vjs-control-bar")>-1){(o=u.childNodes[s]).classList.remove("vjs-hidden");break}}}else{if(this.dbglog("VIEWPORT EXITED"),!this.hasClass("vjs-minable"))return void(this.player.paused()||this.player.isFullscreen()||this.pauseVid(0,this.VIDEOID));if(te.isAboveViewport(i)){if(this.minClosed)return;if(this.removeClasses(["vjs-offviewport"]),!this.minClosed){this.addClasses(["mini-player"]),this.removeClasses(["vjs-onviewport"]);var l;o=null;if(l=this.getById("miniPlayerCbar-"+this.VIDEOID)){l.classList.remove("vjs-hidden");for(s=0;s<r;s++)if(n.childNodes[s].className.indexOf("vjs-control-bar")>-1){(o=n.childNodes[s]).classList.contains("vjs-hidden")||(o.className+=" vjs-hidden");break}l.style.opacity="1",this.minPlayerDisplayCloseBtn()}else{var u;a=(u=this.getById(this.VIDEOID)).childNodes.length;if(!0===this.showMinBar)for(var s=0;s<a;s++)if("vjs-control-bar"===u.childNodes[s].className){o=u.childNodes[s];var d=document.createElement("div");d.id="miniPlayerCbar-"+this.VIDEOID,d.setAttribute("class","minPlayerCbar"),d.innerHTML='<div class="minPlayerTit"> ang pht </div><div class="marqueewrap"><div class="marquee" id="minPlayerMarquee-'+this.VIDEOID+'">'+te.urlDecode(this.vidTitle)+"</div></div>",o.parentNode.insertBefore(d,o.nextSibling),o.classList.contains("vjs-hidden")||(o.className+=" vjs-hidden"),d.style.opacity="1 !important";break}this.minPlayerDisplayCloseBtn()}setTimeout(function(){var e=this.getById(this.VIDEOID),t=e.offsetWidth,n=e.offsetHeight;this.resizeAds(t,n)}.bind(this),400),"mouseover focus".split(" ").forEach(function(e){if(!this.minClosed){var t=this.getById(this.VIDEOID);t.addEventListener(e,function(e){if(e.preventDefault(),this.hasClass("mini-player")){var n=this.getById("miniPlayerCbar-"+this.VIDEOID);if(n){n.classList.contains("vjs-hidden")||(n.className+=" vjs-hidden");for(var i=0;i<r;i++)if(t.childNodes[i].className.indexOf("vjs-control-bar")>-1){t.childNodes[i].classList.remove("vjs-hidden");break}n.style.opacity="0"}}e.stopPropagation()}.bind(this),!1)}}.bind(this)),"mouseout blur".split(" ").forEach(function(e){if(!this.minClosed){var t=this.getById(this.VIDEOID);t.addEventListener(e,function(e){if(e.preventDefault(),this.hasClass("mini-player")){var n=this.getById("miniPlayerCbar-"+this.VIDEOID);if(n&&!this.minClosed){n.classList.remove("vjs-hidden");for(var i=null,o=0;o<r;o++)if(t.childNodes[o].className.indexOf("vjs-control-bar")>-1){(i=t.childNodes[o]).classList.contains("vjs-hidden")||(i.className+=" vjs-hidden");break}n.style.opacity="1"}}e.stopPropagation()}.bind(this),!1)}}.bind(this))}}}},e.prototype.removeClasses=function(e,t){t=t||this.VIDEOID;var n=this.getById(t);if(n&&Array.isArray(e)){var r=e.length;if(r>0)for(var i=0;i<r;i++)n.classList.contains(e[i])&&n.classList.remove(e[i])}},e.prototype.addClasses=function(e,t){t=t||this.VIDEOID;var n=this.getById(t);if(n&&Array.isArray(e)){var r=e.length;if(r>0)for(var i=0;i<r;i++)n.classList.contains(e[i])||(n.className+=" "+e[i])}},e.prototype.hasClass=function(e,t){t=t||this.VIDEOID;var n=this.getById(t);return!!n&&n.classList.contains(e)},e.prototype.unhideControlBar=function(){var e=this.getById(this.VIDEOID);[].forEach.call(e.childNodes,function(e){e.classList.contains("vjs-control-bar")&&e.classList.contains("vjs-hidden")&&e.classList.remove("vjs-hidden")})},e.prototype.resumeAds=function(){this.player.ima.getAdsManager().resume()},e.prototype.getById=function(e){return document.getElementById(e)},e.prototype.listenToParent=function(e){if(this.parentOrigin&&this.parentOrigin===e.origin&&void 0!==e.data)try{var t=JSON.parse(e.data);"object"==typeof t&&t.id===this.VIDEOID&&("play"!=t.action||this.hasClass("vjs-userpaused")||this.hasClass("vjs-ended")?"stop"===t.action&&this.player.pause():(this.dbglog("play the video: "+t.id),this.player.play()))}catch(e){return!1}},e.prototype.showPoster=function(){this.dbglog("show poster");var e=this.getById(this.VIDEOID);this.isPlaylist?"undefined"!=typeof POSTER&&(this.poster=POSTER):this.poster=this.getById(this.VIDEOID).getAttribute("poster"),this.dbglog("poster: "+this.poster),[].forEach.call(e.childNodes,function(e){e.classList.contains("vjs-poster")&&(e.style.backgroundImage="url("+this.poster+")",e.classList.contains("vjs-hidden")&&e.classList.remove("vjs-hidden"))}.bind(this))},e.prototype.changeVidAdsVol=function(e){e?(this.muteVid(),this.muteAd(),this.player.muted(!0),this.setState({adVolChanged:"mute"})):(this.unmuteAd(),this.unmuteVid(),this.player.muted(!1),this.setState({adVolChanged:"unmute"}))},e.prototype.onPostrollEnd=function(){this.exitFullscreen(),this.resetEnd(),this.hasClass("vjs-ended")||this.addClasses(["vjs-ended"]),this.setState({played:!1,sentPlay:!1})},e});